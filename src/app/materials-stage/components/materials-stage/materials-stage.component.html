<nav class="nav-redirect">
  <h2 class="proyecto-title">{{nameProject}}</h2>
  <a href="/" class="a-redirect"> < Regresar a proyectos </a>
</nav>
<!--Principal container-->
<div class="principal-container container-total">
  <!--Navigation steps-->
  <nav class="nav-steps">

  </nav>
  <!--Container actions of step 1-->
  <section class="container-actions">
    <!--Section sheets-->
    <section class="container-sheets">
      <div class="list-elements">
        <mat-selection-list
          #sheets
          [multiple]="false"
          (selectionChange)="onGroupsChange(sheets.selectedOptions.selected)"
        >
          <mat-list-option
            *ngFor="let sheet of sheetNames"
            [value]="sheet"
          >
            {{sheet}}
          </mat-list-option>
        </mat-selection-list>
      </div>
    </section>
    
    <!---Section construction systems-->
    <section class="container-systems">
      <mat-accordion  *ngIf="indexSheet!==undefined">
        <mat-expansion-panel
          (opened)="panelOpenFirst = true"
          (closed)="panelOpenFirst = false"
        >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Importados por REVIT o Template
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list
            #sistemas_constructivos
            [(ngModel)]="selectedOptionsRevit"
            (ngModelChange)="onNgModelChangeRevit($event)"
          >
            <mat-list-option
              *ngFor="let sc of ListSCRevit"
              [value]="sc"
              [disableRipple]="true"
            >
            <div style="display:flex; justify-content:space-between;align-items:center">
              <div style="display:flex;align-items:center">
                <div style="display:flex; flex-direction:column">
                  {{sc}}
                </div>
              </div>
              <div>
                <button
                  class="button-view-details"
                  mat-icon-button
                  (click)="showMaterials($event, sc, 'revit-user')"
                >
                  <mat-icon>visibility</mat-icon>
                </button>
              </div>
            </div>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </mat-accordion>

      <mat-accordion  *ngIf="indexSheet!==undefined">
        <mat-expansion-panel
          (opened)="panelOpenSecond = true"
          (closed)="panelOpenSecond = false"
        >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Opciones evamed
            </mat-panel-title>
          </mat-expansion-panel-header>

          <mat-selection-list
            #sistemas_constructivos
            [(ngModel)]="selectedOptionsDynamo"
            (ngModelChange)="onNgModelChangeDynamo($event)"
          >
            <mat-list-option
              *ngFor="let sc of ListSCDynamo"
              [value]="sc"
              [disableRipple]="true"
            >
            <div style="display:flex; justify-content:space-between;align-items:center">
              <div style="display:flex; align-items:center">
                <div style="display:flex; flex-direction:column">
                  {{sc}}
                </div>
              </div>
              <div>
                <button
                  mat-icon-button
                  (click)="showMaterials($event, sc, 'dynamo')"
                >
                  <mat-icon>visibility</mat-icon>
                </button>
              </div>
            </div>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </mat-accordion>

      <mat-accordion  *ngIf="indexSheet!==undefined">
        <mat-expansion-panel
          (opened)="panelOpenThird = true"
          (closed)="panelOpenThird = false"
        >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Creados por el usuario
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-selection-list
            #sistemas_constructivos
            [(ngModel)]="selectedOptionsUsuario"
            (ngModelChange)="onNgModelChangeUser($event)"
          >
            <mat-list-option
              *ngFor="let sc of ListSCUsuario"
              [value]="sc"
              [disableRipple]="true"
            >
            <div style="display:flex; justify-content:space-between;align-items:center">
              <div style="display:flex;align-items:center">
                <div style="display:flex; flex-direction:column">
                  {{sc}}
                </div>
              </div>
              <div>
                <button
                  mat-icon-button
                  (click)="showMaterials($event, sc)"
                >
                  <mat-icon>visibility</mat-icon>
                </button>
              </div>
            </div>
            </mat-list-option>
          </mat-selection-list>
        </mat-expansion-panel>
      </mat-accordion>
    </section>

    <!--Materials section-->
    <section class="container-details">
      <mat-list role="list">
        <mat-list-item
          role="listitem"
          *ngFor="let material of listMateriales"
        >
          {{material}}
        </mat-list-item>
      </mat-list>
    </section>
  </section>
</div>

<!--Section continue-->
<div class="section-continue">
  <button
    mat-button
    class="yellow-button custom-continue"
    (click)="saveStepOne()"
  > 
    Continuar 
  </button>
</div>