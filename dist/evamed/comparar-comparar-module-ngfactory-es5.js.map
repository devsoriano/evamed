{"version":3,"sources":["webpack:///src/app/pie-chart/pie-chart.component.ts","webpack:///src/app/calculos/calculos-segunda-seccion.ts","webpack:///src/app/bar-chart-simple/bar-chart-simple.component.ts","webpack:///src/app/comparar/component/graficas-tercer-seccion/graficas-tercer-seccion.component.ts","webpack:///src/app/comparar/component/graficas-tercer-seccion/graficas-tercer-seccion.component.html","webpack:///src/app/image-edificio/image-edificio.component.ts","webpack:///src/app/image-edificio/image-edificio.component.html","webpack:///src/app/comparar/comparar-routing.module.ts","webpack:///src/app/bar-chart-simple/bar-chart-simple.component.html","webpack:///src/app/radial-chart/radial-chart.component.html","webpack:///src/app/bar-chart/bar-chart.component.html","webpack:///src/app/comparar/comparar.module.ts","webpack:///src/app/calculos/calculos-tercer-seccion.ts","webpack:///node_modules/@angular/material/fesm2015/slide-toggle.js","webpack:///src/app/comparar/component/comparar/comparar.component.ts","webpack:///src/app/bar-chart/bar-chart.component.ts","webpack:///src/app/radial-chart/radial-chart.component.ts","webpack:///src/app/pie-chart/pie-chart.component.html","webpack:///src/app/comparar/component/comparar/comparar.component.html","webpack:///node_modules/@angular/cdk/scrolling/index.d.ts.CdkVirtualScrollViewport.html"],"names":["PieChartComponent","ClickEvent","subetapas_list","idSubetapas","colores","colores_elementos","pieChartType","pieChartOptions","elements","arc","borderWidth","hover","mode","tooltips","enabled","plugins","datalabels","color","font","size","legend","position","pieChartOptions_elementos","events","pieChartData","pieChartLabels","pieChartColor","etapa","showngraph","elemento_seleccionado","showlast","subetapas","totales","Bandera_resultado","cargarDatos","id","indicador","inputProyect","forEach","proyecto","idProyecto","eliminadas","console","log","ID","value","bandera","Id","IDproyecto","aux","filter","s","length","nombre_subeatapa","final_unit","impacto","replace","unidades","element","aux_element","auxdata","auxlabel","auxlabel_dos","auxdataLabel","auxdatos","datos","auxColor","suma","auxhelp","Object","keys","index","resultado_actual","sort","n1","n2","reverse","sumaOtros","ColorDesplegado","help","colorDispercion","match","cambioR","cambioG","cambioB","push","toFixed","auxrgbcolor","concat","toString","Number","data","backgroundColor","showMe_elementos","numProyect","Datos","auxSuma","marcador","toExponential","findUnidad","abreviacion","auxnamelabel","findSubetapa","e","auxd","Materiales","Construccion","Uso","FinDeVida","chartDir","chart","getElementAtEvent","event","undefined","bandera_click","item","label","select","acomodoDatos","subetapa","flag","i","subselect","idS","includes","document","getElementById","className","splice","RedistribucionGrafica","show","emit","CalculosSegundaSeccion","impactosIgnorar2","info","BD","projectsList","materialList","materialSchemeDataList","materialSchemeProyectList","potentialTypesList","standarsList","CSEList","SIDList","SIList","ACRList","ECDList","TEDList","TEList","ULList","ECDPList","sectionList","sectionsList","PTList","conversionList","schemeProyect","msp","impacto_ban","nameImpacto","ignorar","ajustarNombre","elementoscreados","sumaParaReempazos","auxMaterialesTransporte","auxMaterialesYaSumados","etapas","banderaMaterialEP","ps","num","baseDatosMaterial","bs","materiales_subetapa","msd","material","internacional","nacional","transporteSeleccionado","value_transport","val","conversion_val","peso","CSEs","c","CSE","energia","sid","valSum","auxValorProduccionTransporte","ECDPs","ECDP","name","spacios","numC","maxlinea","slice","join","BarChartSimpleComponent","barChartOptions","responsive","display","anchor","align","barChartLabels","barChartLabelsSecond","barChartType","barChartLegend","barChartPlugins","barChartData","color_select","barChartDataSecond","showlastGr","banderaDispercion","CargarDatosDispercion","CargarDatos","elemento","ciclo","GraficasTercerSeccionComponent","CambioEstadoTercerSeccion","InfoMostrada","botones_elementos_constructivos","elementoContructivoSelecionado","unidadImpactoAmiental","CicloColores","Producción","General","B4","A4","A1","A2","A3","CicloColoresBW","CicloColoresRGB","displayedColumnsDispercion","doughnutChartType","maintainAspectRatio","layout","padding","pieChartOptionsDos","formatter","ctx","labels","dataIndex","title","scales","yAxes","ticks","beginAtZero","fontSize","xAxes","Secciones","AjusteDatos","actualizarEstado","auxData","impactoAmbientalMostrado","idproyecto","nombre","EstadoSeccion","FaseSeleccionada","flagExisteSub","seleccion","E","subE","IniciarTablaMateriales","auxgrafica","IniciarGraficaMateriales","ColoresElementos","GraficaElementosContructivos","AjustarElementosMostrados","GraficaCicloVida","graficaCicloVidaBar","EncontrarLabelsElementos","llenarIdsBotones","llenarColoresBotonesElementos","botonesCiclo","llenarBotonesCiclo","Etapa","SubE","auxSubetapas","encontrarSubetapas","auxC","elementoDom","agrupar","idP","botones","auxBotones","auxBotonesEtapa","auxA1A3","FasesEliminadas","etapaElimanada","fase","ElementoC","banderaElemento","ElementosContructivosEliminados","ElementoI","flagAgrupar","auxColoresElementos","auxcolordos","auxcolor","valores","auxValores","flagSubetapa","auxetapa","auxsub","elementosExistente","auxrgbacolor","elementoC","resultado","flagColor","dataProyecto","Data","subetpascreadas","subEtpaOEtapa","auxEt","auxCiclo","datacolores","elementoSeleccionado","auxcolores","idelemento","ElementoConstructivoSeleccionado","AjustarColoresGraficaElementos","Coloreslementos","seccioninfo","res","filtro","coloresElementos","materialesExistentes","auxmateriales","flagEtapa","auxfaseEliminada","sumadatos","acomodaMayoraMenor","auxSub","infoTablaDispercion","auxidsMateriales","ii","helpMaterial","materiales","elementos","iconos","orden","count","auxDatos","auxidelemento","elementoEliminado","ImageEdificioComponent","nivelesLocal","elementosList","canvasw","canvash","elementoCambio","imageObj5","Image","imageName5","imageObj6","imageName6","imageObj1","imageName1","imageObj7","imageName7","imageObj10","imageName10","imageObj2","imageName2","imageObj3","imageName3","imageObj4","imageName4","imageObj8","imageName8","imageObj9","imageName9","impactoSeleccionado","auximpacto","nivelesProyect","canvas5","canvasTecho","nativeElement","ctx5","getContext","width","height","src","canvas6","canvasEntrepiso","ctx6","canvas1","canvasCimentacion","ctx1","canvas7","canvasEstructura","ctx7","canvas10","canvasLosas","ctx10","canvas2","canvasMurosExteriores","ctx2","canvas3","canvasMurosInteriores","ctx3","canvas4","canvasPiso","ctx4","canvas8","canvasPuertas","ctx8","canvas9","canvasVentanas","ctx9","setTimeout","funcionRealizar","clearRect","drawImage","draw","edificioSinSeleccion","colorResaltado","nivel","inputPtoyect","edificioUnElemento","edificioVariosElementos","ajusteColorTecho","ajusteColorEntrepiso","ajusteColorCimentación","ajusteColorEstructura","ajusteColorLosas","ajusteColorMurosExt","ajusteColorMurosInt","ajusteColorPiso","ajusteColorPuertas","ajusteColorVentanas","coloraResaltar","globalCompositeOperation","fillStyle","fillRect","idImg","routes","path","component","CompararRoutingModule","CompararModule","CalculosTercerSeccion","DatosMateriales","elementoscreadosA1A3","flagExisteA1A3","sube","auxres","auxSumaParaReemplazo","MatSlideToggleDefaultOptions","MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS","providedIn","factory","disableToggleValue","nextUniqueId","MAT_SLIDE_TOGGLE_VALUE_ACCESSOR","provide","useExisting","MatSlideToggle","multi","MatSlideToggleChange","source","checked","MatSlideToggleBase","_elementRef","_MatSlideToggleMixinBase","elementRef","_focusMonitor","_changeDetectorRef","tabIndex","_ngZone","defaults","_animationMode","_dir","_onChange","_","_onTouched","_uniqueId","_required","_checked","labelPosition","ariaLabel","ariaLabelledby","change","toggleChange","dragChange","parseInt","markForCheck","monitor","subscribe","focusOrigin","_inputElement","focus","Promise","resolve","then","stopMonitoring","stopPropagation","_emitChangeEvent","fn","isDisabled","disabled","options","focusVia","detectChanges","decorators","type","args","selector","exportAs","host","template","providers","inputs","encapsulation","None","changeDetection","OnPush","styles","ctorParameters","String","propDecorators","_thumbEl","_thumbBarEl","required","MAT_SLIDE_TOGGLE_REQUIRED_VALIDATOR","MatSlideToggleRequiredValidator","_MatSlideToggleRequiredValidatorModule","exports","declarations","MatSlideToggleModule","imports","CompararComponent","materials","projects","analisis","router","users","calculos","calculosSegunaSeccion","calculosTercerSeccion","componentFactoryResolver","barChartComponent","radialChart","pieChart","barChartSimpleComponent","graficasTercerSeccionComponent","ImgEdificioComponent","showVar","showVar_1","num_epic","num_epd","banderaGrapg","proyect","proyect_active","outproyect_bar","outproyect_radar","outproyect_pie","outproyect_bar_elementos","outproyect_pie_bar_elementos","bandera_porcentaje","bandera_num","Impactos_menu","indicador_elegido","bandera_resultado","show_elementos","Impactos_ambientales","Impactos_Elementos","Elementos_constructivos","show_Dispercion","delete_fase","bandera_por_metro","DBList","proyectosMostrados_elementos","bandera_graph_bar","impacto_seleccionado","bandera_serie_Seleccionada","resultdosGraficos","resultdosTabla","DatosTabla","classBotones","fasesEliminadas","elementosContructivosEliminados","elementosContructivosEliminadosElementos","iconosElementosConstrucivos","proyectosMostrados","idsIconosElementos","cargaElementos","imgSeleccionadaElemento","nombreProyectoElegidoSeleccionadoElementos","elementoSeleccionadoMostrado","impactoSeleccionadoElementoConstructivo","iconosCambioElementos","ciclosDeVidaIgnoradasElementos","idsImgEdificios","idProyectoSeleccionadoImagen","banderaTipoGraficaDispercion","colorGraficaDispercion","nivelesExistententesElementosConstructivos","coloresExistententesElementosConstructivos","impactoSeleccionadoElementoConstructivoGrafica","banderaAjusteElememtos","catologoImpactoAmbiental","elementosConstructivosMostradosElementos","elementosConstructivosMostradosElementosPorProyecto","cicloVidaSeleccionadoElemento","flagMaterialesDispercion","flagSinMaterialesDispercion","estadoTercerSeccion","unidadImpactoAmientalTabla","idsImpactosAmbientales","basesDatos","toppingList","botones_grafica_activos","columnsToDisplay","searchUser","localStorage","getItem","setItem","getProjects","map","user_platform_id","getTypeEnergy","getMaterials","getMaterialSchemeData","getMaterialSchemeProyect","getPotentialTypes","getStandars","getConstructiveSystemElement","getSourceInformationData","getSourceInformation","getAnnualConsumptionRequired","getElectricityConsumptionData","getTypeEnergyData","getUsefulLife","getECDP","getSectionsList","getPotentialTransport","getConversion","getDB","TE","materialData","materialSchemeData","materialSchemeProyect","potentialTypes","standards","SID","SI","ACR","ECD","TED","UL","PT","conversions","DB","FiltradoDeImpactos","llenarIdsBotonesImpactos","selectedValue","impactoAmbientalSeleccionado","BDInicio","idProyectoActivo","sessionStorage","ImpactosSeleccionados","menu_inicio","navigateByUrl","catalogo","idsCiclo","idsElementos","auxIDCiclo","auxIDElementos","listaBD","llamarCalculos","getAnalisisBarras","indicadores","iniciaBarras","TablaResultados","some","analisisRad","getAnalisisRadial","analisisPie","getAnalisisPie","analisisBarDos","getAnalisisBarrasElementosConstructivos","analisisPieBarDos","getAnalisisPieBarSegunaSeccion","analisisPieTres","getAnalisisElementos","materiales_EPIC","materiales_EPD","card","Nombre","iniciaBarrasSeccionDos","DispercionAP","auxID","elementosflag","graficabar","containerGraficas","clear","receiveSelector","agruparProduccion","cicloSeleccionado","flagPie","fragBar","iniciarSeccionTres","container","componentFactory","resolveComponentFactory","grafica","createComponent","instance","porcentaje","inputProyects","showMe","Bandera_bar","Columna_seleccionada","banera_enfoqueSerie_externo","serie_input","serie_Seleccionada","impactos","lastClickEvent","containerImgEdificio","containers","auxN","niveles","recepcionAP","containerBarGrafica","elementoConstructivo","impactoAmbiental","receiveSelectorDos","containerGraficaT","cambioEstadoTercerSección","showMePartially","DatosCalculos","OperacionesDeFasePorElementoConstructivoCicloVida","llamarCalculosTercerSeccion","OperacionesDeFase","analisisProyectos","p","superficieConstruida","auxFases","impacto_ambiental","auxDatosDos","seccionesCreadas","materialSeccion","cicloVida","subEtapa","seccion","auxL","aux_color","flagMasProyectos","auxtotal","auxImpactosTotal","auxNombreImpacto","auximpactos","flagCiclo","cicloEliminado","resultadoExponencial","last","indexproyectos","numProyecto","bd","bdSelect","auxEtapas","img","$event","iniciarImgEdificio","ResetTabs","OperacionesDeFasePorElementoConstructivo","AjustarElementosMostradosElemntos","iniciar_graficas","val2","nump","pr","numproy","Array","isArray","sl","IDDom","auxnameI","auxnameIS","x","iniciaPie","iniciaRadiales","boton","etapaEliminada","auxResultado","style","borderColor","recive","IDproyect","showciclo","showcimenta","showbar","showpie","childPie","cambioID","proyectoID","flagMostrarInfo","iniciarTabaDispercion","containerGraficasDos","iniciarGraficaEspecificaDispercion","auxNombre","colorhelp","lugar","asignarColorGraficaDispercion","showGr","childBarSimple","auxnombre","isInteger","cambio","pie","bar","BarChartComponent","coloresBWGraph2Nuevo","coloresGraph2Nuevo","coloresBW","auxColorBW","ElementosEnNiveles","banderaImpacto","lastClick","hovered","centrosX","proyectos","auxElementos","auxElemntosData","maxValue","afterDraw","agregaTitulosProyectos","bind","beforeInit","a","test","split","iniciaIndicadores","iniciaDatos","ajustaEjeY","canvas","addEventListener","onHover","onMouseDown","max","auxAbr","auxNameImpacto","auxIndicador","total","values","reduce","b","Math","numElementos","auxDataElementos","auxDatosElementos","niveles_existentes","helpn","indexLabel","datoC","valor","stack","hoverBackgroundColor","reajusteNombre","focusColumnas","focusSeries","_i","NaN","centroY","iniciaPosiciones","textAlign","fillText","limiteInferior","limiteSuperior","offsetY","getEtiquetaCercana","focusProyecto","inXRange","offsetX","fill","update","resetColores","selec","nivelesAux","coloraux","nivelesProyectos","auxLast","etiquetas","indice","etiqueta","distancia","abs","serie","datasets","inRange","RadialChartComponent","backcolores","pointcolores","radarChartOptions","scale","pointLabels","radarChartLabels","radarChartData","radarChartType","cargarLabels","subtitulo","bcolor","pcolor","valores_suma","pointBackgroundColor"],"mappings":"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","file":"comparar-comparar-module-ngfactory-es5.js","sourcesContent":["import { EventEmitter, Input, Output } from '@angular/core';\r\nimport { Component, OnInit, ViewChild} from '@angular/core';\r\nimport { ChartDataSets } from 'chart.js';\r\nimport {BaseChartDirective } from 'ng2-charts';\r\nimport { couldStartTrivia } from 'typescript';\r\nimport subetapasInfo from 'src/app/calculos/Subetapas.json';\r\nimport { element } from 'protractor';\r\n\r\n@Component({\r\n  selector: 'app-pie-chart',\r\n  templateUrl: './pie-chart.component.html',\r\n  styleUrls: ['./pie-chart.component.scss']\r\n})\r\nexport class PieChartComponent implements OnInit {\r\n  @ViewChild('MyChart') chartDir: BaseChartDirective;\r\n  @Input() inputProyect: any;\r\n  @Input() showMePartially: boolean;\r\n  @Input() id:string;\r\n  @Input() indicador:string;\r\n  @Input() Bandera_resultado:number;\r\n  @Input() proyecto:number;\r\n  @Input() showMe_elementos:boolean;\r\n  @Input() bandera_click:number;\r\n  @Input() unidades:any;\r\n  @Input() colorDispercion:string;\r\n  @Output() ClickEvent = new EventEmitter<any>();\r\n\r\n  subetapas_list: any = subetapasInfo;\r\n  idSubetapas = {}\r\n\r\n  private colores: any[] = [\r\n    ['#2E9A67', '#4DBE89', '#60E3A6', '#1f8253'],\r\n    ['#148A93', '#0da8b6', '#64dee6', '#67c1c9'],\r\n    ['#8F5091', '#d37cd4', '#8c4c90', '#6c1d6c'],\r\n    ['#DEA961', '#d99d1c', '#d59a3d', '#f5e381'],\r\n    ['#4DBE89', '#148A93', '#8F5091', '#DEA961']\r\n  ];\r\n\r\n  private colores_elementos:any[]=[\r\n    ['#4DBE89', 'rgb(77, 170, 137)', 'rgb(77, 160, 137)', 'rgb(77, 150, 137)', 'rgb(77, 140, 137)', 'rgb(77, 130, 137)', 'rgb(77, 120, 137)', 'rgb(77, 110, 137)'],\r\n    ['#148A93', 'rgb(20, 128, 147)', 'rgb(20, 118, 147)', 'rgb(20, 108, 147)', 'rgb(20, 98, 147)', 'rgb(20, 88, 147)', 'rgb(20, 78, 147)', 'rgb(20, 68, 147)', 'rgb(20, 58, 147)'],\r\n    ['#8F5091', 'rgb(143, 70, 145)', 'rgb(143, 60, 145)', 'rgb(143, 50, 145)', 'rgb(143, 40, 145)', 'rgb(143, 30, 145)', 'rgb(143, 20, 145)', 'rgb(143, 10, 145)', 'rgb(143, 0, 145)'],\r\n    ['#DEA961', 'rgb(222, 179, 97)', 'rgb(222, 169, 97)', 'rgb(222, 159, 97)', 'rgb(222, 149, 97)', 'rgb(222, 139, 97)', 'rgb(222, 129, 97)', 'rgb(222, 119, 97)', 'rgb(222, 109, 97)']\r\n  ];\r\n\r\n  public pieChartType = 'doughnut';\r\n  public pieChartOptions = {\r\n    elements: { arc: { borderWidth: 0 } },\r\n    hover: { mode: null },\r\n    tooltips: { enabled: false },\r\n    plugins: {\r\n      datalabels: {\r\n        color: '#FFFFFF',\r\n        font: {\r\n          size: 7,\r\n        }\r\n      },\r\n      legend:{\r\n        position:'bottom',\r\n      },\r\n    }\r\n  };\r\n  public pieChartOptions_elementos={\r\n    events: ['click'],\r\n    elements: { arc: { borderWidth: 0 } },\r\n    tooltips: { enabled: false },\r\n    hover: { mode: null },\r\n    plugins: {\r\n      datalabels: {\r\n        color:'#FFFFFF',\r\n        font: {\r\n          size: 7,\r\n        },\r\n      }\r\n    }\r\n  }\r\n  public pieChartData=[];\r\n  public pieChartLabels = [];\r\n  public pieChartColor = [];\r\n  public pieChartData_elemento;\r\n  etapa: string = '';\r\n  showngraph=false;\r\n  elemento_seleccionado=' ';\r\n  showlast=false;\r\n  subetapas=[];\r\n  totales=[];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.Bandera_resultado == 1) {\r\n      this.cargarDatos(' ', this.id);\r\n    }else{\r\n      this.cargarDatos(this.id, this.indicador);\r\n      this.inputProyect.forEach(proyecto => {\r\n        this.subetapas = [... this.subetapas,{\r\n          idProyecto: proyecto.id,\r\n          eliminadas:[]\r\n        }]\r\n      });\r\n    }\r\n    console.log(\"Pie\");\r\n  }\r\n\r\n  //cambio en la carga de gráficas dependiendo de la sección de resultados\r\n  cambioIndicadorElementos(ID:string,value:string, bandera:number){\r\n    this.id=ID;\r\n    this.Bandera_resultado=bandera;\r\n    if (this.Bandera_resultado == 1) {\r\n      this.cargarDatos(\" \", value);\r\n    } else {\r\n      this.cargarDatos(this.id, value);\r\n    }\r\n  }\r\n\r\n  //cambio de ID en la gráfica de pie sección 3 de resutados\r\n  cambioID(Id:string,IDproyecto:number){\r\n    if(IDproyecto==this.proyecto){\r\n      if(this.Bandera_resultado==3){\r\n        this.cargarDatos(Id, ' ');\r\n      }\r\n    }\r\n  }\r\n\r\n  findSubetapa(etapa) {\r\n    let aux = this.subetapas_list.filter((s) => s['abreviacion'] == etapa);\r\n    if(aux.length>0){\r\n      return aux[0].nombre_subeatapa;\r\n    }else{\r\n      return 'suma exacta'\r\n    }\r\n  }\r\n\r\n  findUnidad(){\r\n    let final_unit;\r\n    let impacto = this.indicador.replace(/\\n/g,'');\r\n    impacto = impacto.replace(/\\s/g, '')\r\n    this.unidades.forEach(element => {\r\n      let aux_element = element['name_complete_potential_type'].replace(/\\s/g, '')\r\n      if(impacto === aux_element){\r\n        final_unit=element['unit_potential_type'];\r\n      }\r\n    });\r\n    return final_unit\r\n  }\r\n\r\n  cargarDatos(ID:string, indicador:string){\r\n    let auxdata: ChartDataSets[];\r\n    let color: any[]\r\n    let auxlabel = ['Producción','Construccion','Uso','FinDeVida']\r\n    let auxlabel_dos = ['Materiales', 'Construccion', 'Uso', 'FinDeVida']\r\n    let auxdataLabel=[]\r\n    let auxdatos = []\r\n    let datos = []\r\n    let aux=[];\r\n    this.pieChartLabels=[]\r\n    //carga datos para sección de resultados \"Elementos constructivos por ciclo de vida\"\r\n    if (this.Bandera_resultado == 1){\r\n      this.pieChartData =[];\r\n      let auxColor={'#5A1002':'rgb(90,16,2)','#902511':'rgb(144,37,17)','#BE3218':'rgb(190,50,24)','#EB3F20':'rgb(235,63,32)','#EB5720':'rgb(235,87,32)','#EB7620':'rgb(235,118,32)', '#EB9520':'rgb(235,149,32)','#EBC420':'rgb(235,196,32)', '#EBDB20':'rgb(235,219,32)', '#CCEB20':'rgb(204,235,32)', '#76EB20':'rgb(118,235,32)'};\r\n      let suma=0;\r\n      let auxhelp = []\r\n      Object.keys(this.inputProyect).forEach((element,index) => {\r\n        let resultado_actual = this.inputProyect[element];\r\n        suma=suma+resultado_actual;\r\n        auxhelp = [...auxhelp, resultado_actual]\r\n      });\r\n      auxdatos = auxhelp.sort((n1,n2) => {\r\n        if (n1 > n2) {\r\n            return 1;\r\n        }\r\n    \r\n        if (n1 < n2) {\r\n            return -1;\r\n        }\r\n    \r\n        return 0;\r\n      })\r\n      auxdatos = auxdatos.reverse()\r\n      let sumaOtros = 0;\r\n      let ColorDesplegado = [];\r\n      let help = auxColor[this.colorDispercion].match(/rgba?\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3})\\)?(?:, ?(\\d(?:\\.\\d?))\\))?/);\r\n      let cambioR= help[1];\r\n      let cambioG= help[2];\r\n      let cambioB= help[3];\r\n      auxdatos.forEach((element, index) =>{\r\n        if(index <= 2){\r\n          aux.push(((element/suma)*100).toFixed(2));\r\n          let auxrgbcolor='rgb(';\r\n          auxrgbcolor = auxrgbcolor.concat(cambioR.toString()).concat(',').concat(cambioG).concat(',').concat(cambioB).concat(')');\r\n          if((255 - cambioR) >= 40){\r\n            cambioR = (Number(cambioR) + 40).toString();\r\n          }else if((cambioG - 40) >= 0){\r\n            cambioG = (Number(cambioG) - 40).toString();\r\n          }else{\r\n            cambioB = (Number(cambioB) + 40).toString();\r\n          }\r\n          ColorDesplegado.push(auxrgbcolor);\r\n        }else{\r\n          sumaOtros = sumaOtros+element;\r\n        }\r\n      })\r\n      if(auxdatos.length>3){\r\n        aux.push(((sumaOtros/suma)*100).toFixed(2));\r\n        let auxrgbcolor='rgb(';\r\n        auxrgbcolor = auxrgbcolor.concat(cambioR.toString()).concat(',').concat(cambioG).concat(',').concat(cambioB).concat(')');\r\n        if((255 - cambioR) >= 40){\r\n          cambioR = (Number(cambioR) + 40).toString();\r\n        }else if((cambioG - 40) >= 0){\r\n          cambioG = (Number(cambioG) - 40).toString();\r\n        }else{\r\n          cambioB = (Number(cambioB) + 40).toString();\r\n        }\r\n        ColorDesplegado.push(auxrgbcolor);\r\n      }\r\n      auxdata = [{\r\n        data: aux,\r\n        backgroundColor: ColorDesplegado\r\n      }];\r\n      this.pieChartData = [...this.pieChartData, auxdata];\r\n      this.showMe_elementos = true;\r\n    }else if(this.Bandera_resultado == 2){\r\n      this.pieChartData = [];\r\n      if(indicador===' '){\r\n\r\n      }else{\r\n        this.inputProyect.forEach((proyecto,numProyect) => {\r\n          //let auxid = proyecto.id\r\n          this.idSubetapas[numProyect] = {}\r\n          aux=proyecto.Datos[indicador];\r\n          Object.keys(auxlabel).forEach(element => {\r\n            if (auxlabel[element]===ID) {\r\n              color = this.colores[element];\r\n              auxdatos = aux[auxlabel[element]]\r\n              let auxSuma=0;\r\n              Object.keys(aux[auxlabel[element]]).forEach((marcador,index) => {\r\n                auxSuma =  auxSuma + auxdatos[marcador];\r\n              });\r\n              this.totales.push(auxSuma.toExponential(2).toString().concat(this.findUnidad()));\r\n              Object.keys(aux[auxlabel[element]]).forEach((marcador,index) => {\r\n                let abreviacion = marcador.concat(\" - \");\r\n                let auxnamelabel = abreviacion.concat(this.findSubetapa(marcador)).concat(\" : \");\r\n                auxnamelabel = auxnamelabel.concat((auxdatos[marcador]).toExponential(2).toString());\r\n                this.idSubetapas[numProyect][index]=marcador.concat(numProyect)\r\n                auxdataLabel = [...auxdataLabel, auxnamelabel.concat(this.findUnidad())];\r\n                datos = [...datos, ((auxdatos[marcador] / auxSuma)*100).toFixed(2).toString()];\r\n              });\r\n            }\r\n          });\r\n          auxdata=[{\r\n            data: datos,\r\n            backgroundColor: color\r\n          }]\r\n    \r\n          this.pieChartColor = color;\r\n          this.pieChartData = [...this.pieChartData,auxdata];\r\n          this.pieChartLabels=[...this.pieChartLabels,auxdataLabel];\r\n          datos=[];\r\n          auxdataLabel = [];\r\n        });\r\n      }\r\n\r\n    }else{\r\n      this.pieChartData =[];\r\n      Object.keys(auxlabel_dos).forEach(element => {\r\n        if(auxlabel_dos[element]===ID){\r\n          color = this.colores_elementos[element];\r\n        }\r\n      });\r\n      auxdata = [{\r\n        data: [4,6,6,10,10,4,3,4,4],\r\n        backgroundColor: color\r\n      }];\r\n      this.pieChartData = [...this.pieChartData, auxdata];\r\n    }\r\n  }\r\n  public onChartClick(e: any): void {\r\n    let aux: any;\r\n    let auxd= [{Materiales: '#4DBE89'} ,  {Construccion: '#148A93'} ,  {Uso: '#8F5091' },  {FinDeVida: '#DEA961'}];\r\n    if (this.chartDir.chart.getElementAtEvent(event)[0] != undefined) {\r\n      if (this.bandera_click==0){\r\n        Object.keys(this.chartDir.chart.getElementAtEvent(event)[0]).forEach(element => {\r\n          if (element == '_model') {\r\n            aux = this.chartDir.chart.getElementAtEvent(event)[0][element];\r\n            Object.keys(aux).forEach(item => {\r\n              if (item == 'backgroundColor') {\r\n                auxd.forEach(label => {\r\n                  Object.keys(label).forEach(select=>{\r\n                    if(label[select]==aux[item]){\r\n                      this.acomodoDatos(select);\r\n                    }\r\n                  });\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }else{\r\n        Object.keys(this.chartDir.chart.getElementAtEvent(event)[0]).forEach(element => {\r\n          if (element == '_model') {\r\n            aux = this.chartDir.chart.getElementAtEvent(event)[0][element];\r\n            this.acomodoDatos(aux.backgroundColor)\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  DeleteSubetapa(subetapa,id){\r\n    let flag = true;\r\n    let aux = '';\r\n    for(let i of subetapa){\r\n      if(i===' '){\r\n        flag=false\r\n      }\r\n      if(flag){\r\n        aux= aux.concat(i);\r\n      }\r\n    }\r\n    let subselect=aux\r\n    let idS = aux.concat(id)\r\n    if(this.subetapas[id].eliminadas.includes(subselect)){\r\n      this.subetapas[id].eliminadas.forEach((datos,index) => {\r\n        if (datos === subselect){\r\n          document.getElementById(idS).className = 'quitartachado';\r\n          this.subetapas[id].eliminadas.splice(index, 1)\r\n        }\r\n      })\r\n    }else{\r\n      document.getElementById(idS).className = 'tachar';\r\n      this.subetapas[id].eliminadas.push(subselect)\r\n    }\r\n    this.RedistribucionGrafica(this.id, this.indicador);\r\n  }\r\n\r\n  RedistribucionGrafica(ID:string, indicador:string){\r\n    let auxdata: ChartDataSets[];\r\n    let color: any[];\r\n    let auxlabel = ['Producción','Construccion','Uso','FinDeVida'];\r\n    let auxdatos = [];\r\n    let datos = [];\r\n    let aux=[];\r\n    this.pieChartData = [];\r\n    this.inputProyect.forEach((proyecto,numProyect) => {\r\n      aux=proyecto.Datos[indicador];\r\n      Object.keys(auxlabel).forEach(element => {\r\n        if (auxlabel[element]===ID) {\r\n          color = this.colores[element];\r\n          auxdatos = aux[auxlabel[element]]\r\n          let auxSuma=0;\r\n          let flag = true;\r\n          Object.keys(aux[auxlabel[element]]).forEach((marcador,index) => {\r\n            this.subetapas[numProyect].eliminadas.forEach(element => {\r\n              if (element==marcador){\r\n                flag=false;\r\n              }\r\n            });\r\n            if(flag){\r\n              //console.log(marcador,auxSuma,auxdatos[marcador])\r\n              auxSuma =  auxSuma + auxdatos[marcador];\r\n            }\r\n            flag=true;\r\n          });\r\n          this.totales[numProyect] = auxSuma.toExponential(2).toString().concat(this.findUnidad());\r\n          Object.keys(aux[auxlabel[element]]).forEach((marcador,index) => {\r\n            this.subetapas[numProyect].eliminadas.forEach(element => {\r\n              if (element==marcador){\r\n                flag=false;\r\n              }\r\n            });\r\n            if(flag){\r\n              datos = [...datos, ((auxdatos[marcador] / auxSuma)*100).toFixed(2).toString()];\r\n            }else{\r\n              datos = [...datos,0];\r\n            }\r\n            flag=true;\r\n          });\r\n        }\r\n      });\r\n      auxdata=[{\r\n        data: datos,\r\n        backgroundColor: color\r\n      }]\r\n\r\n      this.pieChartData = [...this.pieChartData,auxdata];\r\n      datos=[];\r\n    });\r\n  }\r\n\r\n  //Acomoda datos para mandar a llamar la siguiente gráfica\r\n  acomodoDatos(value: string) {\r\n    let data;\r\n    if(this.bandera_click==0){\r\n      if (value == this.etapa) {\r\n        this.etapa = ' ';\r\n        this.showngraph = false;\r\n      } else {\r\n        this.etapa = value;\r\n        this.showngraph = true;\r\n      }\r\n      data = {\r\n        etapa: this.etapa,\r\n        show: this.showngraph,\r\n      }\r\n    }else{\r\n      if(this.elemento_seleccionado==value){\r\n        this.elemento_seleccionado=' ';\r\n        this.showlast=false;\r\n      }else{\r\n        this.elemento_seleccionado = value;\r\n        this.showlast = true;\r\n      }\r\n      data = {\r\n        etapa: this.elemento_seleccionado,\r\n        show: this.showlast,\r\n      }\r\n    }\r\n    // console.log('pie',this.pieChartData)\r\n    this.ClickEvent.emit(data);\r\n  }\r\n}\r\n","import subetapasInfo from 'src/app/calculos/Subetapas.json';\r\nimport { Injectable } from '@angular/core';\r\nimport { element } from 'protractor';\r\nimport { of } from 'rxjs';\r\n\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\n\r\nexport class CalculosSegundaSeccion {\r\n  \r\n  subetapas_list: any = subetapasInfo;\r\n  projectsList: [];\r\n  materialList: [];\r\n  materialSchemeDataList: [];\r\n  materialSchemeProyectList: [];\r\n  potentialTypesList: [];\r\n  standarsList: [];\r\n  CSEList: [];\r\n  SIDList: [];\r\n  SIList: [];\r\n  ACRList: [];\r\n  ECDList: [];\r\n  TEDList: [];\r\n  TEList: [];\r\n  ULList: [];\r\n  ECDPList: [];\r\n  sectionList: [];\r\n  PTList:[];\r\n  conversionList:[];\r\n  impactosIgnorar2 = [\r\n    'PARNR',\r\n    'POT',\r\n    'Human toxicity',\r\n    'Fresh water aquatic ecotox.',\r\n    'Marine aquatic ecotoxicity',\r\n    'Terrestrial ecotoxicity',\r\n  ];\r\n\r\n  OperacionesDeFasePorElementoConstructivo(idProyecto,info,BD) {\r\n    \r\n    this.projectsList = info.projectsList;\r\n    this.materialList = info.materialList;\r\n    this.materialSchemeDataList = info.materialSchemeDataList;\r\n    this.materialSchemeProyectList = info.materialSchemeProyectList;\r\n    this.potentialTypesList = info.potentialTypesList;\r\n    this.standarsList = info.standarsList;\r\n    this.CSEList = info.CSEList;\r\n    this.SIDList = info.SIDList;\r\n    this.SIList = info.SIList;\r\n    this.ACRList = info.ACRList;\r\n    this.ECDList = info.ECDList;\r\n    this.TEDList = info.TEDList;\r\n    this.TEList = info.TEList;\r\n    this.ULList = info.ULList;\r\n    this.ECDPList = info.ECDPList;\r\n    this.sectionList = info.sectionsList;\r\n    this.PTList = info.PTList;\r\n    this.conversionList =  info.conversionList;\r\n    \r\n    let Datos = {};\r\n    let schemeProyect = null;\r\n\r\n    schemeProyect = this.materialSchemeProyectList.filter(\r\n      (msp) => msp['project_id'] == idProyecto\r\n    );\r\n\r\n    let impacto_ban = true;\r\n    let nameImpacto: string;\r\n\r\n    this.potentialTypesList.forEach((impacto, index) => {\r\n      this.impactosIgnorar2.forEach((ignorar) => {\r\n        if (impacto['name_potential_type'] === ignorar) {\r\n          impacto_ban = false;\r\n        }\r\n      });\r\n      if (impacto_ban) {\r\n        nameImpacto = impacto['name_complete_potential_type'];\r\n        nameImpacto = this.ajustarNombre(nameImpacto);\r\n        Datos[nameImpacto] = {};\r\n        let elementoscreados=[];\r\n        let sumaParaReempazos = {};\r\n        let auxMaterialesTransporte = {};\r\n        let auxMaterialesYaSumados={};\r\n        //Cálculos de la sección de producción\r\n        let etapas = [2, 3, 4]; //Subetaps A1 A2 y A3\r\n        let banderaMaterialEP = false;\r\n        if (schemeProyect.length > 0) {\r\n          schemeProyect.forEach((ps, num) => {\r\n            let baseDatosMaterial = this.materialList.filter((bs)=> bs['id']==ps['material_id']);\r\n            if(BD[baseDatosMaterial[0]['database_from']]){\r\n              if(baseDatosMaterial[0]['database_from']==='EPiC'){\r\n                let materiales_subetapa = this.materialSchemeDataList.filter(\r\n                  (msd) =>\r\n                  msd['material_id'] == ps['material_id'] &&\r\n                  msd['standard_id'] == 1 &&\r\n                  msd['potential_type_id'] == impacto['id']\r\n                  );\r\n                  if (materiales_subetapa.length > 0) {\r\n                    banderaMaterialEP = false;\r\n                    materiales_subetapa.forEach((material, index) => {\r\n                      if(!elementoscreados.includes(ps['section_id'])){\r\n                        elementoscreados.push(ps['section_id']);\r\n                        Datos[nameImpacto][ps['section_id']]=0;\r\n                        sumaParaReempazos[ps['section_id']]={};\r\n                        auxMaterialesYaSumados[ps['section_id']] = [];\r\n                        auxMaterialesTransporte[ps['section_id']] = [];\r\n                      }\r\n                      Datos[nameImpacto][ps['section_id']] =\r\n                      Datos[nameImpacto][ps['section_id']]+\r\n                      materiales_subetapa[index]['value'] * ps['quantity'];\r\n                    });\r\n                  }\r\n                }else{\r\n                  etapas.forEach((subetapa) => {\r\n                    let materiales_subetapa = this.materialSchemeDataList.filter(\r\n                      (msd) =>\r\n                      msd['material_id'] == ps['material_id'] &&\r\n                      msd['standard_id'] == subetapa &&\r\n                      msd['potential_type_id'] == impacto['id']\r\n                      );\r\n                      if (materiales_subetapa.length > 0) {\r\n                      banderaMaterialEP = false;\r\n                      materiales_subetapa.forEach((material, index) => {\r\n                        if(!elementoscreados.includes(ps['section_id'])){\r\n                          elementoscreados.push(ps['section_id']);\r\n                          Datos[nameImpacto][ps['section_id']]=0;\r\n                          sumaParaReempazos[ps['section_id']]={};\r\n                          auxMaterialesYaSumados[ps['section_id']] = [];\r\n                          auxMaterialesTransporte[ps['section_id']] = [];\r\n                        }\r\n                        Datos[nameImpacto][ps['section_id']] =\r\n                        Datos[nameImpacto][ps['section_id']]+\r\n                          materiales_subetapa[index]['value'] * ps['quantity'];                        \r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n            });\r\n          }\r\n        //A4 Transporte\r\n        if (schemeProyect.length > 0) {\r\n          schemeProyect.forEach((ps) => {\r\n            let baseDatosMaterial = this.materialList.filter((bs)=> bs['id']==ps['material_id']);\r\n            let internacional;\r\n            let nacional;\r\n            if (ps['distance_init'] == null) {\r\n              internacional = 0;\r\n            } else {\r\n              let transporteSeleccionado = 1;\r\n              if (ps['transport_id_origin'] != null) {\r\n                transporteSeleccionado = ps['transport_id_origin'];\r\n              }\r\n              let value_transport = this.PTList.filter(\r\n                (val) =>\r\n                  val['potential_type_id'] == impacto['id'] &&\r\n                  val['transport_id'] == transporteSeleccionado\r\n              );\r\n              internacional = value_transport[0]['value'] * ps['distance_init'];\r\n            }\r\n            if (ps['distance_end'] == null) {\r\n              nacional = 0;\r\n            } else {\r\n              let transporteSeleccionado = 4;\r\n              if (ps['transport_id_end'] != null) {\r\n                transporteSeleccionado = ps['transport_id_end'];\r\n              }\r\n              let value_transport = this.PTList.filter(\r\n                (val) =>\r\n                  val['potential_type_id'] == impacto['id'] &&\r\n                  val['transport_id'] == transporteSeleccionado\r\n              );\r\n              nacional = value_transport[0]['value'] * ps['distance_end'];\r\n            }\r\n            let conversion_val = this.conversionList.filter(\r\n              (val) => val['material_id'] == ps['material_id']\r\n            );\r\n            let peso = 1;\r\n            if (conversion_val.length > 0) {\r\n              peso = conversion_val[0]['value'];\r\n            }\r\n            if(BD[baseDatosMaterial[0]['database_from']]){\r\n              if(!elementoscreados.includes(ps['section_id'])){\r\n                elementoscreados.push(ps['section_id']);\r\n                Datos[nameImpacto][ps['section_id']]=0;\r\n                sumaParaReempazos[ps['section_id']]={}\r\n                auxMaterialesTransporte[ps['section_id']] = [];\r\n                auxMaterialesYaSumados[ps['section_id']] = [];\r\n              }\r\n              if(!auxMaterialesTransporte[ps['section_id']].includes(ps['material_id'])){\r\n                sumaParaReempazos[ps['section_id']][ps['material_id']]=0;\r\n                auxMaterialesTransporte[ps['section_id']].push(ps['material_id']);\r\n              }\r\n              sumaParaReempazos[ps['section_id']][ps['material_id']] +=  peso * ps['quantity'] * (nacional + internacional);\r\n              \r\n              Datos[nameImpacto][ps['section_id']] =\r\n              Datos[nameImpacto][ps['section_id']] +\r\n                peso * ps['quantity'] * (nacional + internacional);\r\n            }\r\n          });\r\n        }\r\n        //A5 instalación\r\n        let CSEs = this.CSEList.filter((c) => c['project_id'] == idProyecto);\r\n        if (CSEs.length > 0) {\r\n          CSEs.forEach((CSE) => {\r\n            let energia = this.SIDList.filter(\r\n              (sid) =>\r\n              sid['sourceInformarion_id'] == CSE['source_information_id'] &&\r\n              sid['potential_type_id'] == impacto['id']\r\n              );\r\n              if (energia.length > 0) {\r\n                if(!elementoscreados.includes(CSE['section_id'])){\r\n                  elementoscreados.push(CSE['section_id']);\r\n                  Datos[nameImpacto][CSE['section_id']]=0;\r\n                }\r\n                Datos[nameImpacto][CSE['section_id']] =\r\n                Datos[nameImpacto][CSE['section_id']] + energia[0]['value'] * CSE['quantity'];\r\n              }\r\n            });\r\n          }\r\n        //B4\r\n        //las etapas son las mismas que en la sección de producción\r\n        if (schemeProyect.length > 0) {\r\n          schemeProyect.forEach((ps, num) => {\r\n            let baseDatosMaterial = this.materialList.filter((bs)=> bs['id']==ps['material_id']);\r\n            if(BD[baseDatosMaterial[0]['database_from']]){\r\n              if(!elementoscreados.includes(ps['section_id'])){\r\n                elementoscreados.push(ps['section_id']);\r\n                Datos[nameImpacto][ps['section_id']]=0;\r\n              }\r\n              let valSum =sumaParaReempazos[ps['section_id']][ps['material_id']];\r\n              if(valSum!=undefined){\r\n                Datos[nameImpacto][ps['section_id']] =\r\n                    Datos[nameImpacto][ps['section_id']] +\r\n                    (valSum *\r\n                    ps['replaces']);\r\n              }\r\n              if(baseDatosMaterial[0]['database_from']==='EPiC'){\r\n                let materiales_subetapa = this.materialSchemeDataList.filter(\r\n                  (msd) =>\r\n                  msd['material_id'] == ps['material_id'] &&\r\n                  msd['standard_id'] == 1 &&\r\n                  msd['potential_type_id'] == impacto['id']\r\n                  );\r\n                if (materiales_subetapa.length > 0) {\r\n                  materiales_subetapa.forEach((material, index) => {\r\n                    //let auxValorProduccionTransporte = 0;\r\n                    if(!elementoscreados.includes(ps['section_id'])){\r\n                      elementoscreados.push(ps['section_id']);\r\n                      Datos[nameImpacto][ps['section_id']]=0;\r\n                    }\r\n                    Datos[nameImpacto][ps['section_id']] =\r\n                    Datos[nameImpacto][ps['section_id']] +\r\n                    ((materiales_subetapa[index]['value'] *\r\n                    ps['quantity'])) *\r\n                    ps['replaces'];\r\n                  });\r\n                }\r\n              }else{\r\n                etapas.forEach((subetapa) => {\r\n                  let materiales_subetapa = this.materialSchemeDataList.filter(\r\n                    (msd) =>\r\n                      msd['material_id'] == ps['material_id'] &&\r\n                      msd['standard_id'] == subetapa &&\r\n                      msd['potential_type_id'] == impacto['id']\r\n                  );\r\n                  if (materiales_subetapa.length > 0) {\r\n                    materiales_subetapa.forEach((material, index) => {\r\n                      let auxValorProduccionTransporte = 0;\r\n                      if(!elementoscreados.includes(ps['section_id'])){\r\n                        elementoscreados.push(ps['section_id']);\r\n                        Datos[nameImpacto][ps['section_id']]=0;\r\n                      }\r\n                      Datos[nameImpacto][ps['section_id']] =\r\n                      Datos[nameImpacto][ps['section_id']] +\r\n                        ((materiales_subetapa[index]['value'] *\r\n                          ps['quantity']) ) *\r\n                          ps['replaces'];\r\n                    });\r\n                  }\r\n                });\r\n              }\r\n            }\r\n          });\r\n        }\r\n        //C1\r\n        let ECDPs = this.ECDPList.filter((c) => c['project_id'] == idProyecto);\r\n        if (ECDPs.length > 0) {\r\n          ECDPs.forEach((ECDP) => {\r\n            let energia = this.SIDList.filter(\r\n              (sid) =>\r\n                sid['sourceInformarion_id'] == ECDP['source_information_id'] &&\r\n                sid['potential_type_id'] == impacto['id']\r\n            );\r\n            if(!elementoscreados.includes(ECDP['section_id'])){\r\n                    elementoscreados.push(ECDP['section_id']);\r\n                    Datos[nameImpacto][ECDP['section_id']]=0;\r\n                  }\r\n                  Datos[nameImpacto][ECDP['section_id']] =\r\n                  Datos[nameImpacto][ECDP['section_id']] +\r\n                    ECDP['quantity'] * energia[0]['value'];\r\n          });\r\n        }\r\n      }\r\n      impacto_ban = true;\r\n    });\r\n\r\n    return Datos;\r\n  }\r\n\r\n  ajustarNombre(name: string) {\r\n    let help = name;\r\n    let spacios=0;\r\n    let numC=0;\r\n    let maxlinea=0;\r\n    for (let i of help){\r\n      if(i===' '){\r\n        spacios=spacios+1;\r\n        if(spacios==1 && maxlinea >= 9){\r\n          help = [help.slice(0, numC), '\\n', help.slice(numC)].join('');\r\n          spacios=0;\r\n          maxlinea = 0;\r\n          numC=numC+1;\r\n        }\r\n        if(spacios==2){\r\n          help = [help.slice(0, numC), '\\n', help.slice(numC)].join('');\r\n          spacios=0;\r\n          numC=numC+1;\r\n        }\r\n      }\r\n      maxlinea=maxlinea+1;\r\n      numC=numC+1;\r\n    }\r\n    \r\n    return help\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { ChartOptions, ChartType, ChartDataSets } from 'chart.js';\r\nimport { Label, BaseChartDirective } from 'ng2-charts';\r\n\r\n@Component({\r\n  selector: 'app-bar-chart-simple',\r\n  templateUrl: './bar-chart-simple.component.html',\r\n  styleUrls: ['./bar-chart-simple.component.scss']\r\n})\r\nexport class BarChartSimpleComponent implements OnInit {\r\n\r\n  @ViewChild('MyChart') chartDir: BaseChartDirective;\r\n  private canvas: any;\r\n  @Input() showGr: boolean;\r\n  @Output() ClickEvent = new EventEmitter<any>();\r\n  @Input() idProyect:number;\r\n  @Input() showlastGr:boolean;\r\n  @Input() ciclo:string;\r\n  @Input() elemento:string;\r\n  @Input() info:any;\r\n  @Input() banderaDispercion:boolean;\r\n  @Input() colorDispercion:string;\r\n\r\n  barChartOptions: ChartOptions = {\r\n    responsive: true,\r\n    events: ['click'],\r\n    tooltips: { enabled: false },\r\n    hover: { mode: null },\r\n    legend: { display: false },\r\n    plugins: {\r\n      datalabels: {\r\n        color: 'white',\r\n        anchor: 'center',\r\n        align: 'center',\r\n        font: {\r\n          size: 7,\r\n        }\r\n      }\r\n    },\r\n  };\r\n  barChartLabels: Label[] = ['Materiales', 'Construccion', 'Uso', 'FinDeVida'];\r\n  barChartLabelsSecond: Label[] = ['Grava', 'Arena', 'Varilla', 'Cemento', 'Cal','Ladrillo'];\r\n  barChartType: ChartType = 'bar';\r\n  barChartLegend = false;\r\n  barChartPlugins = [];\r\n  showngraph = false;\r\n\r\n  etapa:string='';\r\n\r\n  barChartData: ChartDataSets[] = [\r\n    { data: [45, 37, 60, 70],\r\n      backgroundColor: ['#4DBE89', '#148A93', '#8F5091','#DEA961']\r\n    }\r\n  ];\r\n  color_select:any[]=[\r\n    ['#4DBE89', '#4DBE89', '#4DBE89', '#4DBE89', '#4DBE89', '#4DBE89'],\r\n    ['#148A93', '#148A93', '#148A93', '#148A93', '#148A93', '#148A93'],\r\n    ['#8F5091', '#8F5091', '#8F5091', '#8F5091', '#8F5091', '#8F5091'],\r\n    ['#DEA961', '#DEA961', '#DEA961', '#DEA961', '#DEA961', '#DEA961']\r\n  ];\r\n  barChartDataSecond=[];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    if(this.showlastGr){\r\n      if(this.banderaDispercion){\r\n        this.CargarDatosDispercion();\r\n      }else{\r\n        this.CargarDatos(this.elemento,this.ciclo);\r\n      }\r\n    }\r\n  }\r\n\r\n  //Carga de datos, dependiendo de la sección mostrada\r\n  CargarDatos(elemento:string,ciclo:string){\r\n    let auxlabel = ['Materiales', 'Construccion', 'Uso', 'FinDeVida']\r\n    let auxdatos = [28, 20, 12, 40, 25, 5];\r\n    let auxdata: ChartDataSets[];\r\n    let color:any[];\r\n\r\n    Object.keys(auxlabel).forEach(element => {\r\n      if (auxlabel[element] === ciclo) {\r\n        color = this.color_select[element]\r\n      }\r\n    });\r\n    auxdata=[{\r\n      data: auxdatos,\r\n      backgroundColor: color\r\n    }]\r\n    this.barChartDataSecond = [...this.barChartDataSecond, auxdata];\r\n  }\r\n\r\n  CargarDatosDispercion(){\r\n    let suma=0;\r\n    let auxdatos = [];\r\n    let auxhelp = []\r\n    let aux = [];\r\n    let auxdata = [];\r\n    this.barChartDataSecond = [];\r\n    this.barChartLabelsSecond = [];\r\n    let auxColor={'#5A1002':'rgb(90,16,2)','#902511':'rgb(144,37,17)','#BE3218':'rgb(190,50,24)','#EB3F20':'rgb(235,63,32)','#EB5720':'rgb(235,87,32)','#EB7620':'rgb(235,118,32)', '#EB9520':'rgb(235,149,32)','#EBC420':'rgb(235,196,32)', '#EBDB20':'rgb(235,219,32)', '#CCEB20':'rgb(204,235,32)', '#76EB20':'rgb(118,235,32)'};\r\n    Object.keys(this.info).forEach((element,index) => {\r\n      let resultado_actual = this.info[element];\r\n      suma=suma+resultado_actual;\r\n      auxhelp = [...auxhelp, resultado_actual]\r\n    });\r\n    auxdatos = auxhelp.sort((n1,n2) => {\r\n      if (n1 > n2) {\r\n          return 1;\r\n      }\r\n  \r\n      if (n1 < n2) {\r\n          return -1;\r\n      }\r\n  \r\n      return 0;\r\n    })\r\n    auxdatos = auxdatos.reverse()\r\n    let sumaOtros = 0;\r\n    let ColorDesplegado = [];\r\n      let help = auxColor[this.colorDispercion].match(/rgba?\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3})\\)?(?:, ?(\\d(?:\\.\\d?))\\))?/);\r\n      let cambioR= help[1];\r\n      let cambioG= help[2];\r\n      let cambioB= help[3];\r\n    auxdatos.forEach((element, index) =>{\r\n      if(index <= 2){\r\n        aux.push(((element/suma)*100).toFixed(2))\r\n        this.barChartLabelsSecond=[...this.barChartLabelsSecond, (index+1).toString()];\r\n        let auxrgbcolor='rgb(';\r\n        auxrgbcolor = auxrgbcolor.concat(cambioR.toString()).concat(',').concat(cambioG).concat(',').concat(cambioB).concat(')');\r\n        if((255 - cambioR) >= 40){\r\n          cambioR = (Number(cambioR) + 40).toString();\r\n        }else if((cambioG - 40) >= 0){\r\n          cambioG = (Number(cambioG) - 40).toString();\r\n        }else{\r\n          cambioB = (Number(cambioB) + 40).toString();\r\n        }\r\n        ColorDesplegado.push(auxrgbcolor);\r\n      }else{\r\n        sumaOtros = sumaOtros+element;\r\n      }\r\n    })\r\n    if(auxdatos.length>3){\r\n      this.barChartLabelsSecond=[...this.barChartLabelsSecond, 'otros'];\r\n      aux.push(((sumaOtros/suma)*100).toFixed(2));\r\n      let auxrgbcolor='rgb(';\r\n      auxrgbcolor = auxrgbcolor.concat(cambioR.toString()).concat(',').concat(cambioG).concat(',').concat(cambioB).concat(')');\r\n      if((255 - cambioR) >= 40){\r\n        cambioR = (Number(cambioR) + 40).toString();\r\n      }else if((cambioG - 40) >= 0){\r\n        cambioG = (Number(cambioG) - 40).toString();\r\n      }else{\r\n        cambioB = (Number(cambioB) + 40).toString();\r\n      }\r\n      ColorDesplegado.push(auxrgbcolor);\r\n    }\r\n    auxdata = [{\r\n      data: aux,\r\n      backgroundColor: ColorDesplegado\r\n    }];\r\n    this.barChartDataSecond = [...this.barChartDataSecond, auxdata];\r\n  }\r\n\r\n  //Acomoda datos para mandar a llamar la siguiente gráfica\r\n  acomodoDatos(value:string){\r\n    if(value==this.etapa){\r\n      this.etapa= ' ';\r\n      this.showngraph=false;\r\n    }else{\r\n      this.etapa=value;\r\n      this.showngraph=true;\r\n    }\r\n    let data={\r\n      etapa:this.etapa,\r\n      show:this.showngraph,\r\n    }\r\n    this.ClickEvent.emit(data);\r\n  }\r\n\r\n  //detección de click\r\n  public onChartClick(e: any): void {\r\n    let aux: any;\r\n    if (this.chartDir.chart.getElementAtEvent(event)[0]!=undefined){\r\n      Object.keys(this.chartDir.chart.getElementAtEvent(event)[0]).forEach(element => {\r\n        if(element=='_model'){\r\n          aux=this.chartDir.chart.getElementAtEvent(event)[0][element];\r\n          Object.keys(aux).forEach(item=>{\r\n            if(item=='label'){\r\n              this.acomodoDatos(aux[item]);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { Component, NgModule, OnInit } from '@angular/core';\r\nimport { EventEmitter, Input, Output } from '@angular/core';\r\nimport { ChartDataSets, ChartOptions, ChartType } from 'chart.js';\r\nimport * as pluginDataLabels from 'chartjs-plugin-datalabels';\r\n\r\n@Component({\r\n  selector: 'app-graficas-tercer-seccion',\r\n  templateUrl: './graficas-tercer-seccion.component.html',\r\n  styleUrls: ['./graficas-tercer-seccion.component.scss']\r\n})\r\n\r\nexport class GraficasTercerSeccionComponent implements OnInit {\r\n\r\n  @Input() inputProyect: any;\r\n  @Input() impactoAmbientalMostrado: String;\r\n  @Input() ElementosContructivosEliminados:any;\r\n  @Input() FasesEliminadas:any;\r\n  @Input() FaseSeleccionada:String;\r\n  @Input() materiales:any;\r\n  @Input() Secciones:any;\r\n  @Input() EstadoSeccion:any;\r\n  @Input() unidades:any;\r\n  @Output() CambioEstadoTercerSeccion = new EventEmitter<any>();\r\n\r\n  public InfoMostrada=[];\r\n  botones_elementos_constructivos=[];\r\n  elementoContructivoSelecionado = \" \";\r\n  unidadImpactoAmiental = \"\";\r\n  private CicloColores = { FinDeVida: '#DEA961', Uso : '#8F5091', Construccion: '#148A93', Producción : '#4DBE89', General : '#707070',B4 : '#8F5091', A4: '#148A93', A1 : '#4DBE89', A2 : '#319F6B', A3:'#368460','A1-A3':'#1DF28E'};\r\n  private CicloColoresBW = {Producción : 'rgba(77,190,137,0.2)', Construccion : 'rgba(20,136,147,0.2)', Uso : 'rgba(143,80,145,0.2)',B4 : 'rgba(143, 80, 145, 0.2)', A4: 'rgba(20, 138, 147, 0.2)', A1 : 'rgba(77, 190, 137, 0.2)', A2 : 'rgba(49, 159, 107, 0.2)', A3:'rgba(54, 132, 96, 0.2)','A1-A3':'rgba(29, 242, 142, 0.2)'};\r\n  private CicloColoresRGB = {Uso : 'rgb(143, 80, 145)', Construccion: 'rgb(20, 138, 147)', Producción : 'rgb(77, 190, 137)',B4 : 'rgb(143, 80, 145)', A4: 'rgb(20, 138, 147)', A1 : 'rgb(77, 190, 137)', A2 : 'rgb(49, 159, 107)', A3:'rgb(54, 132, 96)','A1-A3':'rgb(29, 242, 142)'};\r\n  public displayedColumnsDispercion: string[] = ['no', 'material', 'porcentaje', 'numero'];\r\n  public doughnutChartType = 'doughnut';\r\n  public pieChartOptions = {\r\n    responsive: false,\r\n    maintainAspectRatio: false,\r\n    layout: {\r\n      padding: 0,\r\n    },\r\n    events: ['click'],\r\n    elements: { arc: { borderWidth: 0 } },\r\n    tooltips: { enabled: false },\r\n    hover: { mode: null },\r\n    plugins: {\r\n      datalabels: {\r\n        color: '#FFFFFF',\r\n        font: {\r\n          size: 8,\r\n        },\r\n      },\r\n    },\r\n  };\r\n  public pieChartOptionsDos = {\r\n    responsive: false,\r\n    maintainAspectRatio: false,\r\n    layout: {\r\n      padding: 0,\r\n    },\r\n    events: ['click'],\r\n    elements: { arc: { borderWidth: 0 } },\r\n    tooltips: { enabled: false },\r\n    hover: { mode: null },\r\n    plugins: {\r\n      datalabels: {\r\n        formatter: (val, ctx) => {\r\n          return ctx.chart.data.labels[ctx.dataIndex];\r\n        },\r\n        color: '#FFFFFF',\r\n        font: {\r\n          size: 8,\r\n        },\r\n      },\r\n    },\r\n  };\r\n  public barChartType: ChartType = 'bar';\r\n  public barChartLegend = true;\r\n  public barChartPlugins = [pluginDataLabels];\r\n  public barChartOptions: ChartOptions = {\r\n    responsive: true,\r\n    title: { display: true },\r\n    legend: { display: false },\r\n    tooltips: { enabled: false, mode: 'label' },\r\n    scales: {\r\n      yAxes: [\r\n        {\r\n          display: true,\r\n          ticks: {\r\n            beginAtZero: true,\r\n            fontSize: 11,\r\n          },\r\n        },\r\n      ],\r\n      xAxes: [\r\n        {\r\n          display: true,\r\n          ticks: {\r\n            beginAtZero: true,\r\n            fontSize: 11,\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    plugins: {\r\n      datalabels: {\r\n        color: 'white',\r\n        anchor: 'center',\r\n        align: 'center',\r\n        font: {\r\n          size: 7,\r\n        },\r\n      },\r\n    },\r\n  };\r\n  \r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    this.botones_elementos_constructivos = this.Secciones;\r\n    this.AjusteDatos()\r\n  }\r\n\r\n  ngAfterViewInit():void{\r\n    this.actualizarEstado();\r\n  }\r\n\r\n  AjusteDatos(){\r\n    this.inputProyect.forEach(proyecto => { \r\n      let aux = {};\r\n      let auxData = proyecto.data['materiales'][this.impactoAmbientalMostrado.toString()];\r\n      aux['id']=proyecto.idproyecto;\r\n      aux['nombre']=proyecto.nombre;\r\n      aux['CicloGraficaPie']=this.EstadoSeccion[aux['id']]['flagPie'];\r\n      aux['CicloGraficaBar']=this.EstadoSeccion[aux['id']]['fragBar'];\r\n      aux['ElementosConstructivosGrafica']=false;\r\n      aux['DispercionElementoGrafica']=false;\r\n      aux['flagAgruparProduccion'] = this.EstadoSeccion[aux['id']]['agruparProduccion'];\r\n      aux['textoBotonAgrupar'] = \"Desagrupar\"\r\n      aux['DatosMateriales'] = proyecto.data['materiales'][this.impactoAmbientalMostrado.toString()];\r\n      aux['DispercionElementos'] = proyecto.data['Calculos'][this.impactoAmbientalMostrado.toString()];\r\n      if(this.FaseSeleccionada!=' ' || this.EstadoSeccion[aux['id']]['cicloSeleccionado'] != ' '){\r\n        let flagExisteSub = false;\r\n        let seleccion = \" \";\r\n        if(this.FaseSeleccionada!=' '){\r\n          seleccion = this.FaseSeleccionada.toString();\r\n          flagExisteSub = true;\r\n        }else{\r\n          seleccion = this.EstadoSeccion[aux['id']]['cicloSeleccionado'];\r\n          Object.keys(auxData).forEach(E =>{\r\n            if(seleccion === E){\r\n              flagExisteSub = true;\r\n            }else{\r\n              Object.keys(auxData[E]).forEach(subE => {\r\n                if(seleccion === subE){\r\n                  flagExisteSub = true;\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n        if(!flagExisteSub){\r\n          aux['CicloSeleccionado'] = ' ';\r\n          aux['DatosElementosConstructivos']=[];\r\n          aux['iconosElementosConstrucivos']={};\r\n          aux['infoTabla'] = this.IniciarTablaMateriales(aux['DatosMateriales'],\"\",0,aux['flagAgruparProduccion'],\" \");\r\n          let auxgrafica = this.IniciarGraficaMateriales(aux['DatosMateriales'],\"\",\"General\",0,aux['flagAgruparProduccion'],\"\");\r\n          aux['DataGraficaMateriales']=auxgrafica['grafica'];\r\n          aux['labelsMateriales'] = auxgrafica['labels'];\r\n          aux['Coloreslementos'] = {};\r\n        }else{\r\n          aux['CicloSeleccionado'] = seleccion\r\n          aux['Coloreslementos'] = this.ColoresElementos(aux['DispercionElementos'],seleccion,aux['flagAgruparProduccion']);\r\n          aux['DatosElementosConstructivos']=this.GraficaElementosContructivos(aux['Coloreslementos']['valores'],aux['Coloreslementos']['colores']);\r\n          aux['ElementosConstructivosGrafica']=true;\r\n          aux['infoTabla'] = this.IniciarTablaMateriales(aux['DatosMateriales'], aux['CicloSeleccionado'],1,aux['flagAgruparProduccion'],\" \");\r\n          let auxgrafica = this.IniciarGraficaMateriales(aux['DatosMateriales'], aux['CicloSeleccionado'], aux['CicloSeleccionado'],1,aux['flagAgruparProduccion'],aux['Coloreslementos']);\r\n          aux['DataGraficaMateriales']=auxgrafica['grafica'];\r\n          aux['labelsMateriales'] = auxgrafica['labels'];\r\n          aux['iconosElementosConstrucivos']=this.AjustarElementosMostrados(proyecto.data['Calculos'][this.impactoAmbientalMostrado.toString()],seleccion.toString(),aux['flagAgruparProduccion'])\r\n        }\r\n      }else{\r\n        aux['DatosElementosConstructivos']=[];\r\n        aux['CicloSeleccionado'] = ' '\r\n        aux['iconosElementosConstrucivos']={};\r\n        aux['infoTabla'] = this.IniciarTablaMateriales(aux['DatosMateriales'],\"\",0,aux['flagAgruparProduccion'],\" \");\r\n        let auxgrafica = this.IniciarGraficaMateriales(aux['DatosMateriales'],\"\",\"General\",0,aux['flagAgruparProduccion'],\"\");\r\n        aux['DataGraficaMateriales']=auxgrafica['grafica'];\r\n        aux['labelsMateriales'] = auxgrafica['labels'];\r\n        aux['Coloreslementos'] = {};\r\n      }\r\n      //console.log(proyecto.data['Calculos'][this.impactoAmbientalMostrado.toString()]);\r\n      aux['DatosCicloVida']=this.GraficaCicloVida(proyecto.data['Calculos'][this.impactoAmbientalMostrado.toString()],aux['CicloSeleccionado'],aux['flagAgruparProduccion'],auxData);\r\n      aux['LabelsCicloVida'] = this.graficaCicloVidaBar(aux['DatosMateriales'],aux['flagAgruparProduccion'])\r\n      aux['LabelsElementos'] = this.EncontrarLabelsElementos(proyecto.data['Calculos'][this.impactoAmbientalMostrado.toString()],aux['CicloSeleccionado'])\r\n      aux['CicloVida'] = proyecto.data['Calculos'][this.impactoAmbientalMostrado.toString()];\r\n      aux['ElementoConstructivoSeleccionado'] = ' ';\r\n      aux['nombreSeccionMostrado'] = ' ';\r\n      aux['idsIconosElementos']=this.llenarIdsBotones(this.Secciones,proyecto.idproyecto);\r\n      aux['coloresBotonesElementos']=this.llenarColoresBotonesElementos(this.Secciones,aux['Coloreslementos']['colores'],aux['Coloreslementos']['orden'])\r\n      let botonesCiclo = this.llenarBotonesCiclo(aux['flagAgruparProduccion'],aux['id'],aux['DatosMateriales']);\r\n      aux['botonesCiclo'] = botonesCiclo['botones']\r\n      aux['ids_RespuestasBotones'] = botonesCiclo\r\n      this.InfoMostrada.push(aux);\r\n    })\r\n    this.unidadImpactoAmiental=this.findUnidad();\r\n  }\r\n\r\n  findUnidad(){\r\n    let final_unit;\r\n    let impacto = this.impactoAmbientalMostrado.replace(/\\n/g,'');\r\n    impacto = impacto.replace(/\\s/g, '')\r\n    this.unidades.forEach(element => {\r\n      let aux_element = element['name_complete_potential_type'].replace(/\\s/g, '')\r\n      if(impacto === aux_element){\r\n        final_unit=element['unit_potential_type'];\r\n      }\r\n    });\r\n    return final_unit\r\n  }\r\n\r\n  encontrarSubetapas(data){\r\n    let aux = {}\r\n    Object.keys(data).forEach(Etapa =>{\r\n      aux[Etapa]=[]\r\n      Object.keys(data[Etapa]).forEach(SubE => {\r\n        aux[Etapa].push(SubE)\r\n      })\r\n    })\r\n    return aux\r\n  }\r\n  \r\n  actualizarEstado(){\r\n    //let auxSubetapas={'Producción':['A1','A2','A3'],'Construccion':['A4'],'Uso':['B4']}\r\n    let etapas=['Producción','Construccion','Uso']\r\n    this.InfoMostrada.forEach((proyecto,index) => {\r\n      let auxSubetapas = this.encontrarSubetapas(this.InfoMostrada[index]['DatosMateriales'])\r\n      if(this.InfoMostrada[index]['CicloSeleccionado'] != ' '){\r\n        let ciclo = this.InfoMostrada[index]['CicloSeleccionado']\r\n        if(this.InfoMostrada[index]['flagAgruparProduccion'] && etapas.includes(ciclo)){\r\n          auxSubetapas[ciclo].forEach(auxC => {\r\n            document.getElementById(this.InfoMostrada[index]['id'].toString().concat(auxC.concat('botonC'))).className = 'espacio-seleccionado';\r\n          });\r\n        }else{\r\n          let elementoDom = document.getElementById(this.InfoMostrada[index]['id'].toString().concat(ciclo.concat('botonC')));\r\n          if(elementoDom != null){\r\n            elementoDom.className = 'espacio-seleccionado';\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  llenarBotonesCiclo(agrupar,idP,data){\r\n    let botones = {'idsBotones' : {},'botones':[], 'respuesta':{},'colores':{}}\r\n    if(agrupar){\r\n      //Todas las subetapas\r\n      let auxBotones = ['A1','A2','A3', 'A4', 'B4']\r\n      let auxBotonesEtapa = {}\r\n      let auxA1A3 = false;\r\n      Object.keys(data.Producción).forEach(subE => {\r\n        if(subE === 'A1-A3'){\r\n          auxA1A3 = true;\r\n        }\r\n      });\r\n      if(auxA1A3){\r\n        auxBotones = ['A1','A2','A3','A1-A3', 'A4', 'B4'];\r\n        auxBotonesEtapa = {'A1':'Producción','A2':'Producción','A3':'Producción','A1-A3':'Producción', 'A4':'Construccion', 'B4':'Uso'}\r\n      }else{\r\n        auxBotonesEtapa = {'A1':'Producción','A2':'Producción','A3':'Producción', 'A4':'Construccion', 'B4':'Uso'}\r\n      }\r\n      auxBotones.forEach(element => {\r\n        let bandera = true;\r\n        this.FasesEliminadas.forEach(etapaElimanada => {\r\n          if(auxBotonesEtapa[element] === etapaElimanada){\r\n            bandera=false;\r\n          }\r\n        });\r\n        if(bandera){\r\n          botones['botones'].push(element);\r\n          botones['idsBotones'][element] = idP.toString().concat(element.concat('botonC'))\r\n          botones['respuesta'][element] = element\r\n          botones['colores'][element] = this.CicloColores[element]\r\n        }\r\n      });\r\n    }else{\r\n      //producción agrupado\r\n      let auxBotones = {'A1 - A3':'Producción', 'A4':'Construccion', 'B4':'Uso'}\r\n      Object.keys(auxBotones).forEach(element => {\r\n        let bandera = true;\r\n        this.FasesEliminadas.forEach(etapaElimanada => {\r\n          if(auxBotones[element] === etapaElimanada){\r\n            bandera=false;\r\n          }\r\n        });\r\n        if(bandera){\r\n          botones['botones'].push(element);\r\n          botones['idsBotones'][element] = idP.toString().concat(auxBotones[element].concat('botonC'))\r\n          botones['respuesta'][element] = auxBotones[element]\r\n          botones['colores'][element] = this.CicloColores[auxBotones[element]]\r\n        }\r\n      });\r\n    }\r\n    return botones\r\n  }\r\n\r\n  EncontrarLabelsElementos(data,ciclo){\r\n    let aux = [];\r\n    Object.keys(data).forEach(fase =>{\r\n      if(ciclo===fase){\r\n        Object.keys(data[fase]).forEach(subetapa =>{\r\n          Object.keys(data[fase][subetapa]).forEach(ElementoC =>{\r\n            let banderaElemento = true;\r\n            this.ElementosContructivosEliminados.forEach(ElementoI => {\r\n              if(ElementoI === ElementoC){\r\n                banderaElemento=false;\r\n              }\r\n            });\r\n            if(banderaElemento){\r\n              aux.push(ElementoC);\r\n            }\r\n          })\r\n        })\r\n      }\r\n    })\r\n    return aux;\r\n  }\r\n\r\n  GraficaElementosContructivos(data,colores){\r\n    let aux = [];\r\n    aux = [\r\n      {\r\n        data: data,\r\n        backgroundColor: colores,\r\n      },\r\n    ];\r\n    return aux;\r\n  }\r\n\r\n  ColoresElementos(data,ciclo,flagAgrupar){\r\n    let auxColoresElementos = [];\r\n    let auxcolordos = [];\r\n    let auxcolor = [];\r\n    let valores = [];\r\n    let help = this.CicloColoresRGB[ciclo].match(/rgb?\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3})\\)?(?:, ?(\\d(?:\\.\\d?))\\))?/);\r\n    let cambioR= help[1];\r\n    let cambioG= help[2];\r\n    let cambioB= help[3];\r\n    let auxValores={};\r\n    let suma =0;\r\n    let auxSubetapas=this.encontrarSubetapas(data);\r\n    Object.keys(data).forEach(fase =>{\r\n      if(ciclo===fase || flagAgrupar){\r\n        Object.keys(data[fase]).forEach(subetapa =>{\r\n          let flagSubetapa = false;\r\n          if(flagAgrupar){\r\n            if(subetapa == ciclo){\r\n              flagSubetapa = true;\r\n            }else{\r\n              //let auxSubetapas={'Producción':['A1','A2','A3'],'Construccion':['A4'],'Uso':['B4']}\r\n              Object.keys(auxSubetapas).forEach(auxetapa=>{\r\n                if(auxetapa === ciclo){\r\n                  auxSubetapas[ciclo].forEach(auxsub => {\r\n                    if(subetapa === auxsub){\r\n                      flagSubetapa=true;\r\n                    }\r\n                  });\r\n                }\r\n              })\r\n            }\r\n          }else{\r\n            flagSubetapa = true;\r\n          }\r\n          if(flagSubetapa){\r\n            Object.keys(data[fase][subetapa]).forEach(ElementoC =>{\r\n              let banderaElemento = true;\r\n              this.ElementosContructivosEliminados.forEach(ElementoI => {\r\n                if(ElementoI === ElementoC){\r\n                  banderaElemento=false;\r\n                }\r\n              });\r\n              if(banderaElemento){\r\n                suma = suma + data[fase][subetapa][ElementoC];\r\n              }\r\n            })\r\n          }\r\n        });\r\n        let elementosExistente = [];\r\n        Object.keys(data[fase]).forEach(subetapa =>{\r\n          let flagSubetapa = false;\r\n          if(flagAgrupar){\r\n            if(subetapa == ciclo){\r\n              flagSubetapa = true;\r\n            }else{\r\n              //let auxSubetapas={'Producción':['A1','A2','A3'],'Construccion':['A4'],'Uso':['B4']}\r\n              Object.keys(auxSubetapas).forEach(auxetapa=>{\r\n                if(auxetapa === ciclo){\r\n                  auxSubetapas[ciclo].forEach(auxsub => {\r\n                    if(subetapa === auxsub){\r\n                      flagSubetapa=true;\r\n                    }\r\n                  });\r\n                }\r\n              })\r\n            }\r\n          }else{\r\n            flagSubetapa = true;\r\n          }\r\n          if(flagSubetapa){\r\n            Object.keys(data[fase][subetapa]).forEach(ElementoC =>{\r\n              let banderaElemento = true;\r\n              this.ElementosContructivosEliminados.forEach(ElementoI => {\r\n                if(ElementoI === ElementoC){\r\n                  banderaElemento=false;\r\n                }\r\n              });\r\n              if(banderaElemento){\r\n                if(!elementosExistente.includes(ElementoC)){\r\n                  auxColoresElementos.push(ElementoC);\r\n                  elementosExistente.push(ElementoC);\r\n                  let auxrgbcolor='rgb(';\r\n                  auxrgbcolor = auxrgbcolor.concat(cambioR.toString()).concat(',').concat(cambioG).concat(',').concat(cambioB).concat(')');\r\n                  let auxrgbacolor='rgba(';\r\n                  auxrgbacolor = auxrgbacolor.concat(cambioR.toString()).concat(',').concat(cambioG).concat(',').concat(cambioB).concat(',').concat('0.2').concat(')');\r\n                  auxcolor.push(auxrgbcolor);\r\n                  auxcolordos.push(auxrgbacolor);\r\n                  if((255 - cambioR) >= 40){\r\n                    cambioR = (Number(cambioR) + 40).toString();\r\n                  }else if((cambioG - 40) >= 0){\r\n                    cambioG = (Number(cambioG) - 40).toString();\r\n                  }else{\r\n                    cambioB = (Number(cambioB) + 40).toString();\r\n                  }\r\n                  auxValores[ElementoC] = 0;\r\n                }\r\n                auxValores[ElementoC] += data[fase][subetapa][ElementoC];\r\n              }\r\n            })\r\n          }\r\n        });\r\n      }\r\n    })\r\n    Object.keys(auxValores).forEach(elementoC => {\r\n      valores.push(((auxValores[elementoC]/suma)*100).toFixed(2))\r\n    })\r\n    let resultado= {'orden':auxColoresElementos,'colores':auxcolor,'coloresbtw':auxcolordos,'valores':valores}\r\n    return resultado;\r\n  }\r\n\r\n  GraficaCicloVida(data,flagColor,flagAgrupar,dataProyecto){\r\n    let aux = [];\r\n    let auxdata = [];\r\n    let auxcolor = [];\r\n    let Data={};\r\n    let suma = 0;\r\n    let subetpascreadas = [];\r\n    Object.keys(data).forEach((etapa,index) =>{\r\n      let bandera = true;\r\n      this.FasesEliminadas.forEach(element => {\r\n        //Asegurar que el ciclo de vida no este eliminado\r\n        if(element === etapa){\r\n          bandera=false;\r\n        }\r\n      });\r\n      if(bandera){\r\n        Object.keys(data[etapa]).forEach(subetapa =>{\r\n          let subEtpaOEtapa\r\n          Object.keys(data[etapa][subetapa]).forEach(ElementoC =>{\r\n            if(flagAgrupar){\r\n              subEtpaOEtapa = subetapa;\r\n              if(!subetpascreadas.includes(subetapa)){\r\n                Data[subEtpaOEtapa] = 0;\r\n                subetpascreadas.push(subetapa)\r\n              }\r\n            }else{\r\n              subEtpaOEtapa = etapa\r\n              if(!subetpascreadas.includes(etapa)){\r\n                Data[subEtpaOEtapa] = 0;\r\n                subetpascreadas.push(etapa)\r\n              }\r\n            }\r\n            let banderaElemento = true;\r\n            this.ElementosContructivosEliminados.forEach(ElementoI => {\r\n              //Para asegurar que el elemento constructivo no este eliminado\r\n              if(ElementoI === ElementoC){\r\n                banderaElemento=false;\r\n              }\r\n            });\r\n            if(banderaElemento){\r\n              Data[subEtpaOEtapa] = Data[subEtpaOEtapa] + data[etapa][subetapa][ElementoC];\r\n              suma = suma + data[etapa][subetapa][ElementoC];\r\n            }\r\n          })\r\n        });\r\n      }\r\n    });\r\n    Object.keys(Data).forEach((etapa,index) =>{\r\n      auxdata.push(((Data[etapa]/suma)*100).toFixed(2))\r\n    })\r\n    if(flagColor != ' '){\r\n      let auxSubetapas = this.encontrarSubetapas(dataProyecto)\r\n      //let auxSubetapas={'Producción':['A1','A2','A3'],'Construccion':['A4'],'Uso':['B4']}\r\n      let etapas=['Producción','Construccion','Uso']\r\n      if(flagAgrupar && etapas.includes(flagColor)){\r\n        Object.keys(auxSubetapas).forEach(auxEt =>{\r\n          if(auxEt === flagColor){\r\n            auxSubetapas[auxEt].forEach(auxC => {\r\n              auxcolor.push(this.CicloColores[auxC]);\r\n            });\r\n          }else{\r\n            auxSubetapas[auxEt].forEach(auxC => {\r\n              auxcolor.push(this.CicloColoresBW[auxC]);\r\n            });\r\n          }\r\n        })\r\n      }else{\r\n        Object.keys(Data).forEach((etapa,index) =>{\r\n          if(etapa === flagColor){\r\n            auxcolor.push(this.CicloColores[etapa]);\r\n          }else{\r\n            auxcolor.push(this.CicloColoresBW[etapa]);\r\n          }\r\n        })\r\n      }\r\n    }else{\r\n      Object.keys(Data).forEach((etapa,index) =>{\r\n        auxcolor.push(this.CicloColores[etapa])\r\n      })\r\n    }\r\n\r\n    aux = [\r\n      {\r\n        data: auxdata,\r\n        backgroundColor: auxcolor,\r\n      },\r\n    ];\r\n    return aux;\r\n  }\r\n\r\n  graficaCicloVidaBar(data,flagAgrupar){\r\n    let aux = []\r\n    if(flagAgrupar){\r\n      let auxBotones = ['A1','A2','A3', 'A4', 'B4']\r\n      let auxBotonesEtapa = {}\r\n      let auxA1A3 = false;\r\n      Object.keys(data.Producción).forEach(subE => {\r\n        if(subE === 'A1-A3'){\r\n          auxA1A3 = true;\r\n        }\r\n      });\r\n      if(auxA1A3){\r\n        auxBotones = ['A1','A2','A3','A1-A3', 'A4', 'B4'];\r\n        auxBotonesEtapa = {'A1':'Producción','A2':'Producción','A3':'Producción','A1-A3':'Producción', 'A4':'Construccion', 'B4':'Uso'}\r\n      }else{\r\n        auxBotonesEtapa = {'A1':'Producción','A2':'Producción','A3':'Producción', 'A4':'Construccion', 'B4':'Uso'}\r\n      }\r\n      auxBotones.forEach(element => {\r\n        let bandera = true;\r\n        this.FasesEliminadas.forEach(etapaElimanada => {\r\n          if(auxBotonesEtapa[element] === etapaElimanada){\r\n            bandera=false;\r\n          }\r\n        });\r\n        if(bandera){\r\n          aux.push(element)\r\n        }\r\n      });\r\n    }else{\r\n      let auxBotones = {'A1 - A3':'Producción', 'A4':'Construccion', 'B4':'Uso'}\r\n      Object.keys(auxBotones).forEach(element => {\r\n        let bandera = true;\r\n        this.FasesEliminadas.forEach(etapaElimanada => {\r\n          if(auxBotones[element] === etapaElimanada){\r\n            bandera=false;\r\n          }\r\n        });\r\n        if(bandera){\r\n          aux.push(element)\r\n        }\r\n      });\r\n    }\r\n    return aux\r\n  }\r\n\r\n  cambioGrafica(flag,idP){\r\n    let aux={}\r\n    if(flag==1){\r\n      this.InfoMostrada.forEach((proyecto,index) => {\r\n        if(proyecto.id == idP){\r\n          this.InfoMostrada[index]['CicloGraficaPie']=true;\r\n          this.InfoMostrada[index]['CicloGraficaBar']=false;\r\n          let resultado = {'pie':true,'bar':false};\r\n          aux = {'idProyecto':idP,'cambioEn':'CambioGrafica','cambio':resultado}\r\n          this.CambioEstadoTercerSeccion.emit(aux);\r\n        }\r\n      })\r\n    }else{\r\n      this.InfoMostrada.forEach((proyecto,index) => {\r\n        if(proyecto.id == idP){\r\n          this.InfoMostrada[index]['CicloGraficaPie']=false;\r\n          this.InfoMostrada[index]['CicloGraficaBar']=true;\r\n          let resultado = {'pie':false,'bar':true};\r\n          aux = {'idProyecto':idP,'cambioEn':'CambioGrafica','cambio':resultado}\r\n          this.CambioEstadoTercerSeccion.emit(aux);\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  //Selección de una etapa del ciclo de vida, en un proyecto individual\r\n  public onChartClick(ciclo,idP): void {\r\n    this.InfoMostrada.forEach((proyecto,index) => {\r\n      if(proyecto.id == idP){\r\n        let resultado = \" \";\r\n        if(proyecto['CicloSeleccionado']=== ciclo){\r\n          document.getElementById(this.InfoMostrada[index]['id'].toString().concat(ciclo.concat('botonC'))).className = 'espacio-sin-selecciomar';\r\n          this.InfoMostrada[index]['CicloSeleccionado']=' ';\r\n          resultado = ' ';\r\n          this.InfoMostrada[index]['DatosCicloVida']=this.GraficaCicloVida(this.InfoMostrada[index]['CicloVida'],this.InfoMostrada[index]['CicloSeleccionado'],this.InfoMostrada[index]['flagAgruparProduccion'],this.InfoMostrada[index]['DatosMateriales']);\r\n          this.InfoMostrada[index]['LabelsCicloVida'] = this.graficaCicloVidaBar(this.InfoMostrada[index]['DatosMateriales'],this.InfoMostrada[index]['flagAgruparProduccion'])\r\n          this.InfoMostrada[index]['ElementosConstructivosGrafica'] = false;\r\n          this.InfoMostrada[index]['infoTabla'] = this.IniciarTablaMateriales(this.InfoMostrada[index]['DatosMateriales'],\"\",0,this.InfoMostrada[index]['flagAgruparProduccion'],\" \");\r\n          let auxgrafica = this.IniciarGraficaMateriales(this.InfoMostrada[index]['DatosMateriales'],\"\",\"General\",0,this.InfoMostrada[index]['flagAgruparProduccion'],\"\");\r\n          this.InfoMostrada[index]['DataGraficaMateriales']=auxgrafica['grafica'];\r\n          this.InfoMostrada[index]['labelsMateriales'] = auxgrafica['labels'];\r\n          this.InfoMostrada[index]['iconosElementosConstrucivos'] = {}\r\n        }else{\r\n          if(this.InfoMostrada[index]['CicloSeleccionado'] === \" \"){\r\n            document.getElementById(this.InfoMostrada[index]['id'].toString().concat(ciclo.concat('botonC'))).className = 'espacio-seleccionado';\r\n          }else{\r\n            let etapas=['Producción','Construccion','Uso'];\r\n            let auxSubetapas = this.encontrarSubetapas(this.InfoMostrada[index]['DatosMateriales']);\r\n            //let auxSubetapas={'Producción':['A1','A2','A3'],'Construccion':['A4'],'Uso':['B4']};\r\n            let auxCiclo = this.InfoMostrada[index]['CicloSeleccionado'];\r\n            if(this.InfoMostrada[index]['flagAgruparProduccion']  && etapas.includes(auxCiclo)){\r\n              auxSubetapas[auxCiclo].forEach(auxC => {\r\n                if(auxC === ciclo){\r\n                  document.getElementById(this.InfoMostrada[index]['id'].toString().concat(auxC.concat('botonC'))).className = 'espacio-seleccionado';\r\n                }else{\r\n                  document.getElementById(this.InfoMostrada[index]['id'].toString().concat(auxC.concat('botonC'))).className = 'espacio-sin-selecciomar';\r\n                }\r\n              });\r\n            }else{\r\n              document.getElementById(this.InfoMostrada[index]['id'].toString().concat(this.InfoMostrada[index]['CicloSeleccionado'].concat('botonC'))).className = 'espacio-sin-selecciomar';\r\n              document.getElementById(this.InfoMostrada[index]['id'].toString().concat(ciclo.concat('botonC'))).className = 'espacio-seleccionado';\r\n            }\r\n          }\r\n          if(this.InfoMostrada[index]['ElementoConstructivoSeleccionado'] != \" \"){\r\n            let elementoDom=document.getElementById(this.InfoMostrada[index]['id'].toString().concat('texto'.concat(this.InfoMostrada[index]['ElementoConstructivoSeleccionado'].toString())));\r\n            if(elementoDom!=null){\r\n              document.getElementById(this.InfoMostrada[index]['id'].toString().concat('texto'.concat(this.InfoMostrada[index]['ElementoConstructivoSeleccionado'].toString()))).className = 'espacio-sin-selecciomar';\r\n            }\r\n            this.InfoMostrada[index]['ElementoConstructivoSeleccionado']=\" \"\r\n          }\r\n          this.InfoMostrada[index]['CicloSeleccionado']=ciclo;\r\n          resultado = ciclo\r\n          this.InfoMostrada[index]['Coloreslementos'] = this.ColoresElementos(this.InfoMostrada[index]['DispercionElementos'],this.InfoMostrada[index]['CicloSeleccionado'],this.InfoMostrada[index]['flagAgruparProduccion']);\r\n          this.InfoMostrada[index]['iconosElementosConstrucivos']=this.AjustarElementosMostrados(this.InfoMostrada[index]['DispercionElementos'],ciclo,this.InfoMostrada[index]['flagAgruparProduccion'])\r\n          this.InfoMostrada[index]['DatosElementosConstructivos']=this.GraficaElementosContructivos(this.InfoMostrada[index]['Coloreslementos']['valores'],this.InfoMostrada[index]['Coloreslementos']['colores']);\r\n          this.InfoMostrada[index]['DatosCicloVida']=this.GraficaCicloVida(this.InfoMostrada[index]['CicloVida'],this.InfoMostrada[index]['CicloSeleccionado'],this.InfoMostrada[index]['flagAgruparProduccion'],this.InfoMostrada[index]['DatosMateriales']);\r\n          this.InfoMostrada[index]['LabelsCicloVida'] = this.graficaCicloVidaBar(this.InfoMostrada[index]['DatosMateriales'],this.InfoMostrada[index]['flagAgruparProduccion'])\r\n          this.InfoMostrada[index]['ElementosConstructivosGrafica'] = true;\r\n          this.InfoMostrada[index]['infoTabla'] = this.IniciarTablaMateriales(this.InfoMostrada[index]['DatosMateriales'], this.InfoMostrada[index]['CicloSeleccionado'],1,this.InfoMostrada[index]['flagAgruparProduccion'],\" \");\r\n          let auxgrafica = this.IniciarGraficaMateriales(this.InfoMostrada[index]['DatosMateriales'], this.InfoMostrada[index]['CicloSeleccionado'], this.InfoMostrada[index]['CicloSeleccionado'],1,this.InfoMostrada[index]['flagAgruparProduccion'],this.InfoMostrada[index]['Coloreslementos']);\r\n          this.InfoMostrada[index]['DataGraficaMateriales']=auxgrafica['grafica'];\r\n          this.InfoMostrada[index]['labelsMateriales'] = auxgrafica['labels'];\r\n          this.InfoMostrada[index]['coloresBotonesElementos']=this.llenarColoresBotonesElementos(this.Secciones,this.InfoMostrada[index]['Coloreslementos']['colores'],this.InfoMostrada[index]['Coloreslementos']['orden']);\r\n        }\r\n        let aux = {'idProyecto':idP,'cambioEn':'CicloVida','cambio':resultado}\r\n        this.CambioEstadoTercerSeccion.emit(aux);\r\n      }\r\n    });\r\n  }\r\n\r\n  public AjustarColoresGraficaElementos(datacolores,elementoSeleccionado){\r\n    let aux = [];\r\n    let auxcolores=[];\r\n    if(elementoSeleccionado.toString()===' '){\r\n      datacolores['orden'].forEach((elemento,index) => {\r\n        auxcolores.push(datacolores['colores'][index])\r\n      });\r\n    }else{\r\n      datacolores['orden'].forEach((elemento,index) => {\r\n        if(elementoSeleccionado.toString() === elemento){\r\n          auxcolores.push(datacolores['colores'][index])\r\n        }else{\r\n          auxcolores.push(datacolores['coloresbtw'][index])\r\n        }\r\n      });\r\n    }\r\n    aux = [\r\n      {\r\n        data: datacolores['valores'],\r\n        backgroundColor: auxcolores,\r\n      },\r\n    ];\r\n    return(aux);\r\n  }\r\n\r\n  public onChartClickElemento(idelemento,idP): void {\r\n    this.InfoMostrada.forEach((proyecto,index) => {\r\n      if(proyecto.id == idP){\r\n        let resultado =\" \"\r\n        if(proyecto.ElementoConstructivoSeleccionado === ' '){\r\n          this.InfoMostrada[index]['ElementoConstructivoSeleccionado']=idelemento;\r\n          resultado=idelemento;\r\n          this.InfoMostrada[index]['DatosElementosConstructivos'] = this.AjustarColoresGraficaElementos(proyecto.Coloreslementos,this.InfoMostrada[index]['ElementoConstructivoSeleccionado']);\r\n          let ciclo=this.InfoMostrada[index]['CicloSeleccionado'];\r\n          let auxgrafica = this.IniciarGraficaMateriales(this.InfoMostrada[index]['DatosMateriales'],this.InfoMostrada[index]['ElementoConstructivoSeleccionado'],ciclo,2,this.InfoMostrada[index]['flagAgruparProduccion'],this.InfoMostrada[index]['Coloreslementos']);\r\n          this.InfoMostrada[index]['DataGraficaMateriales']=auxgrafica['grafica'];\r\n          this.InfoMostrada[index]['labelsMateriales'] = auxgrafica['labels'];\r\n          this.InfoMostrada[index]['infoTabla'] = this.IniciarTablaMateriales(this.InfoMostrada[index]['DatosMateriales'],this.InfoMostrada[index]['ElementoConstructivoSeleccionado'],2,this.InfoMostrada[index]['flagAgruparProduccion'],this.InfoMostrada[index]['CicloSeleccionado']);\r\n          let seccioninfo = this.Secciones.filter((bs)=> bs['id']==idelemento);\r\n          this.InfoMostrada[index]['nombreSeccionMostrado'] = seccioninfo[0]['name_section'];\r\n          this.InfoMostrada[index]['DispercionElementoGrafica']=true;\r\n          document.getElementById(this.InfoMostrada[index]['id'].toString().concat('texto'.concat(idelemento.toString()))).className = 'espacio-seleccionado';\r\n        }else{\r\n          if(proyecto.ElementoConstructivoSeleccionado != idelemento){\r\n            document.getElementById(this.InfoMostrada[index]['id'].toString().concat('texto'.concat(this.InfoMostrada[index]['ElementoConstructivoSeleccionado'].toString()))).className = 'espacio-sin-selecciomar';\r\n            this.InfoMostrada[index]['ElementoConstructivoSeleccionado']=idelemento;\r\n            resultado=idelemento;\r\n            this.InfoMostrada[index]['DatosElementosConstructivos'] = this.AjustarColoresGraficaElementos(proyecto.Coloreslementos,this.InfoMostrada[index]['ElementoConstructivoSeleccionado']);\r\n            let ciclo=this.InfoMostrada[index]['CicloSeleccionado'];\r\n            let auxgrafica = this.IniciarGraficaMateriales(this.InfoMostrada[index]['DatosMateriales'],this.InfoMostrada[index]['ElementoConstructivoSeleccionado'],ciclo,2,this.InfoMostrada[index]['flagAgruparProduccion'], this.InfoMostrada[index]['Coloreslementos']);\r\n            this.InfoMostrada[index]['DataGraficaMateriales']=auxgrafica['grafica'];\r\n            this.InfoMostrada[index]['labelsMateriales'] = auxgrafica['labels'];\r\n            this.InfoMostrada[index]['infoTabla'] = this.IniciarTablaMateriales(this.InfoMostrada[index]['DatosMateriales'],this.InfoMostrada[index]['ElementoConstructivoSeleccionado'],2,this.InfoMostrada[index]['flagAgruparProduccion'],this.InfoMostrada[index]['CicloSeleccionado']);\r\n            let seccioninfo = this.Secciones.filter((bs)=> bs['id']==idelemento);\r\n            this.InfoMostrada[index]['nombreSeccionMostrado'] = seccioninfo[0]['name_section'];\r\n            this.InfoMostrada[index]['DispercionElementoGrafica']=true;\r\n            document.getElementById(this.InfoMostrada[index]['id'].toString().concat('texto'.concat(idelemento.toString()))).className = 'espacio-seleccionado';\r\n          }else{\r\n            document.getElementById(this.InfoMostrada[index]['id'].toString().concat('texto'.concat(this.InfoMostrada[index]['ElementoConstructivoSeleccionado'].toString()))).className = 'espacio-sin-selecciomar';\r\n            this.InfoMostrada[index]['ElementoConstructivoSeleccionado']=' ';\r\n            resultado=\" \";\r\n            this.InfoMostrada[index]['nombreSeccionMostrado'] = ' ';\r\n            this.InfoMostrada[index]['DatosElementosConstructivos'] = this.AjustarColoresGraficaElementos(proyecto.Coloreslementos,this.InfoMostrada[index]['ElementoConstructivoSeleccionado']);\r\n            this.InfoMostrada[index]['DispercionElementoGrafica']=false;\r\n            this.InfoMostrada[index]['infoTabla'] = this.IniciarTablaMateriales(this.InfoMostrada[index]['DatosMateriales'], this.InfoMostrada[index]['CicloSeleccionado'],1,this.InfoMostrada[index]['flagAgruparProduccion'],\" \");\r\n            let auxgrafica = this.IniciarGraficaMateriales(this.InfoMostrada[index]['DatosMateriales'], this.InfoMostrada[index]['CicloSeleccionado'], this.InfoMostrada[index]['CicloSeleccionado'],1,this.InfoMostrada[index]['flagAgruparProduccion'],this.InfoMostrada[index]['Coloreslementos']);\r\n            this.InfoMostrada[index]['DataGraficaMateriales']=auxgrafica['grafica'];\r\n            this.InfoMostrada[index]['labelsMateriales'] = auxgrafica['labels'];\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  sumadatos(data){\r\n    let res = 0\r\n    Object.keys(data).forEach(material => {\r\n      let resultado_actual = data[material];\r\n      res=res+resultado_actual;\r\n    });\r\n    return res;\r\n  }\r\n\r\n  acomodaMayoraMenor(data){\r\n    let auxhelp = [];\r\n    let auxdatos = [];\r\n    Object.keys(data).forEach(material => {\r\n      auxhelp = [...auxhelp,data[material]]\r\n    });\r\n    auxdatos = auxhelp.sort((n1,n2) => {\r\n      if (n1 > n2) {\r\n          return 1;\r\n      }\r\n  \r\n      if (n1 < n2) {\r\n          return -1;\r\n      }\r\n  \r\n      return 0;\r\n    })\r\n\r\n    return auxdatos.reverse()\r\n  }\r\n\r\n  IniciarGraficaMateriales(data,elementoSeleccionado,color,filtro,flagAgrupar,coloresElementos){\r\n    let aux = [];\r\n    let auxgrafica = [];\r\n    let auxlabel=[];\r\n    let auxdatos = [];\r\n    let suma=0;\r\n    let materialesExistentes = []\r\n    let auxmateriales = {}\r\n    let auxSubetapas = this.encontrarSubetapas(data);\r\n    Object.keys(data).forEach(elemento =>{\r\n      if(filtro == 0){\r\n        //Sin seleccionar algun filtro\r\n        let flagEtapa = true\r\n        this.FasesEliminadas.forEach(auxfaseEliminada => {\r\n          if(auxfaseEliminada === elemento){\r\n            flagEtapa = false;\r\n          }\r\n        });\r\n        if(flagEtapa){\r\n          Object.keys(data[elemento]).forEach(subetapa => {\r\n            Object.keys(data[elemento][subetapa]).forEach(elementoC => {\r\n            let banderaElemento = true;\r\n            this.ElementosContructivosEliminados.forEach(ElementoI => {\r\n              if(ElementoI === elementoC){\r\n                banderaElemento=false;\r\n              }\r\n            });\r\n            if(banderaElemento){\r\n              Object.keys(data[elemento][subetapa][elementoC]).forEach(material => {\r\n                if(!materialesExistentes.includes(material)){\r\n                  materialesExistentes.push(material)\r\n                  auxmateriales[material] = 0;\r\n                }\r\n                auxmateriales[material] += data[elemento][subetapa][elementoC][material]\r\n              })\r\n            }\r\n            });\r\n          });\r\n        }\r\n        suma = this.sumadatos(auxmateriales)\r\n        auxdatos = this.acomodaMayoraMenor(auxmateriales);\r\n      }else if(filtro == 1){\r\n        //Si se selecciona una fase del ciclo de vida\r\n        if(elementoSeleccionado===elemento || flagAgrupar){\r\n          Object.keys(data[elemento]).forEach(subetapa => {\r\n            let flagSubetapa = false;\r\n            if(flagAgrupar){\r\n              if(subetapa == elementoSeleccionado){\r\n                flagSubetapa = true;\r\n              }else{\r\n                //let auxSubetapas={'Producción':['A1','A2','A3'],'Construccion':['A4'],'Uso':['B4']}\r\n                Object.keys(auxSubetapas).forEach(auxetapa=>{\r\n                  if(auxetapa === elementoSeleccionado){\r\n                    auxSubetapas[auxetapa].forEach(auxSub => {\r\n                      if(subetapa===auxSub){\r\n                        flagSubetapa=true;\r\n                      }\r\n                    });\r\n                  }\r\n                })\r\n              }\r\n            }else{\r\n              flagSubetapa = true;\r\n            }\r\n          if(flagSubetapa){\r\n            Object.keys(data[elemento][subetapa]).forEach(elementoC => {\r\n              let banderaElemento = true;\r\n              this.ElementosContructivosEliminados.forEach(ElementoI => {\r\n                if(ElementoI === elementoC){\r\n                  banderaElemento=false;\r\n                }\r\n              });\r\n              if(banderaElemento){\r\n                Object.keys(data[elemento][subetapa][elementoC]).forEach(material => {\r\n                  if(!materialesExistentes.includes(material)){\r\n                    materialesExistentes.push(material)\r\n                    auxmateriales[material] = 0;\r\n                  }\r\n                  auxmateriales[material] += data[elemento][subetapa][elementoC][material]\r\n                })\r\n              }\r\n            });\r\n          }\r\n          });\r\n        }\r\n        suma = this.sumadatos(auxmateriales)\r\n        auxdatos = this.acomodaMayoraMenor(auxmateriales);\r\n      }else{\r\n        //Si se selecciona un elemento constructivo\r\n        if(color===elemento || flagAgrupar){\r\n          Object.keys(data[elemento]).forEach(subetapa => {\r\n            let flagSubetapa = false;\r\n            if(flagAgrupar){\r\n              if(subetapa == color){\r\n                flagSubetapa = true;\r\n              }else{\r\n                //let auxSubetapas={'Producción':['A1','A2','A3'],'Construccion':['A4'],'Uso':['B4']}\r\n                Object.keys(auxSubetapas).forEach(auxetapa=>{\r\n                  if(auxetapa === color){\r\n                    auxSubetapas[auxetapa].forEach(auxsub => {\r\n                      if(subetapa === auxsub){\r\n                        flagSubetapa=true;\r\n                      }\r\n                    });\r\n                  }\r\n                })\r\n              }\r\n            }else{\r\n              flagSubetapa = true;\r\n            }\r\n            if(flagSubetapa){\r\n            Object.keys(data[elemento][subetapa]).forEach(elementoC => {\r\n              if(elementoC === elementoSeleccionado.toString()){\r\n                Object.keys(data[elemento][subetapa][elementoC]).forEach(material => {\r\n                  if(!materialesExistentes.includes(material)){\r\n                    materialesExistentes.push(material)\r\n                    auxmateriales[material] = 0;\r\n                  }\r\n                  auxmateriales[material] += data[elemento][subetapa][elementoC][material]\r\n                  suma += data[elemento][subetapa][elementoC][material]\r\n                })\r\n              }\r\n            });\r\n          }\r\n          });\r\n        }\r\n      }\r\n    })\r\n    let sumaOtros = 0;\r\n    if(filtro == 2){\r\n      suma = this.sumadatos(auxmateriales)\r\n      auxdatos = this.acomodaMayoraMenor(auxmateriales);\r\n    }\r\n    auxdatos.forEach((element, index) =>{\r\n      if(index <= 2){\r\n        aux.push(((element/suma)*100).toFixed(2))\r\n        auxlabel=[...auxlabel, (index+1).toString()];\r\n      }else{\r\n        sumaOtros = sumaOtros+element;\r\n      }\r\n    })\r\n    if(sumaOtros>0){\r\n      aux.push(((sumaOtros/suma)*100).toFixed(2));\r\n      auxlabel=[...auxlabel, 'otros'];\r\n    }\r\n    if(filtro != 2){\r\n      auxgrafica = [\r\n        {\r\n          data: aux,\r\n          backgroundColor: this.CicloColores[color],\r\n        },\r\n      ];\r\n    }else{\r\n      let auxColor = \"\"\r\n      coloresElementos['orden'].forEach((element, index) => {\r\n        if(element === elementoSeleccionado.toString()){\r\n          auxColor = coloresElementos['colores'][index]\r\n        }\r\n      });\r\n      auxgrafica = [\r\n        {\r\n          data: aux,\r\n          backgroundColor: auxColor,\r\n        },\r\n      ];\r\n    }\r\n\r\n    return {'grafica':auxgrafica,'labels':auxlabel}\r\n  }\r\n\r\n  IniciarTablaMateriales(data,elementoSeleccionado,filtro,flagAgrupar,ciclo){\r\n    let infoTablaDispercion = [];\r\n    let suma = 0;\r\n    let auxdatos = [];\r\n    let auxidsMateriales = []\r\n    let materialesExistentes = []\r\n    let auxmateriales = {}\r\n    let auxSubetapas = this.encontrarSubetapas(data);\r\n    Object.keys(data).forEach(elemento =>{\r\n      if(filtro == 0){\r\n        //Sin seleccionar algun filtro\r\n        let flagEtapa = true\r\n        this.FasesEliminadas.forEach(auxfaseEliminada => {\r\n          if(auxfaseEliminada === elemento){\r\n            flagEtapa = false;\r\n          }\r\n        });\r\n        if(flagEtapa){\r\n          Object.keys(data[elemento]).forEach(subetapa => {\r\n            Object.keys(data[elemento][subetapa]).forEach(elementoC => {\r\n              let banderaElemento = true;\r\n              this.ElementosContructivosEliminados.forEach(ElementoI => {\r\n                if(ElementoI === elementoC){\r\n                  banderaElemento=false;\r\n                }\r\n              });\r\n              if(banderaElemento){\r\n                Object.keys(data[elemento][subetapa][elementoC]).forEach(material => {\r\n                  if(!materialesExistentes.includes(material)){\r\n                    materialesExistentes.push(material)\r\n                    auxmateriales[material] = 0;\r\n                  }\r\n                  auxmateriales[material] += data[elemento][subetapa][elementoC][material]\r\n                })\r\n              }\r\n            });\r\n          });\r\n        }\r\n        suma = this.sumadatos(auxmateriales)\r\n        auxdatos = this.acomodaMayoraMenor(auxmateriales);\r\n      }else if(filtro == 1){\r\n        //Si se selecciona una fase del ciclo de vida\r\n        if(elementoSeleccionado===elemento || flagAgrupar){\r\n          Object.keys(data[elemento]).forEach(subetapa => {\r\n            let flagSubetapa = false;\r\n            if(flagAgrupar){\r\n              if(subetapa == elementoSeleccionado){\r\n                flagSubetapa = true;\r\n              }else{\r\n                //let auxSubetapas={'Producción':['A1','A2','A3'],'Construccion':['A4'],'Uso':['B4']}\r\n                Object.keys(auxSubetapas).forEach(auxetapa=>{\r\n                  if(auxetapa === elementoSeleccionado){\r\n                    auxSubetapas[auxetapa].forEach(auxSub => {\r\n                      if(subetapa===auxSub){\r\n                        flagSubetapa=true;\r\n                      }\r\n                    });\r\n                  }\r\n                })\r\n              }\r\n            }else{\r\n              flagSubetapa = true;\r\n            }\r\n          if(flagSubetapa){\r\n            Object.keys(data[elemento][subetapa]).forEach(elementoC => {\r\n              let banderaElemento = true;\r\n              this.ElementosContructivosEliminados.forEach(ElementoI => {\r\n                if(ElementoI === elementoC){\r\n                  banderaElemento=false;\r\n                }\r\n              });\r\n              if(banderaElemento){\r\n                Object.keys(data[elemento][subetapa][elementoC]).forEach(material => {\r\n                  if(!materialesExistentes.includes(material)){\r\n                    materialesExistentes.push(material)\r\n                    auxmateriales[material] = 0;\r\n                  }\r\n                  auxmateriales[material] += data[elemento][subetapa][elementoC][material]\r\n                })\r\n              }\r\n            });\r\n          }\r\n          });\r\n        }\r\n        suma = this.sumadatos(auxmateriales)\r\n        auxdatos = this.acomodaMayoraMenor(auxmateriales);\r\n      }else{\r\n        if(ciclo===elemento || flagAgrupar){\r\n          Object.keys(data[elemento]).forEach(subetapa => {\r\n            let flagSubetapa = false;\r\n            if(flagAgrupar){\r\n              if(subetapa == ciclo){\r\n                flagSubetapa = true;\r\n              }else{\r\n                //let auxSubetapas={'Producción':['A1','A2','A3'],'Construccion':['A4'],'Uso':['B4']}\r\n                Object.keys(auxSubetapas).forEach(auxetapa=>{\r\n                  if(auxetapa === ciclo){\r\n                    auxSubetapas[auxetapa].forEach(auxsub => {\r\n                      if(subetapa === auxsub){\r\n                        flagSubetapa=true;\r\n                      }\r\n                    });\r\n                  }\r\n                })\r\n              }\r\n            }else{\r\n              flagSubetapa = true;\r\n            }\r\n            if(flagSubetapa){\r\n            Object.keys(data[elemento][subetapa]).forEach(elementoC => {\r\n              if(elementoC === elementoSeleccionado.toString()){\r\n                Object.keys(data[elemento][subetapa][elementoC]).forEach(material => {\r\n                  if(!materialesExistentes.includes(material)){\r\n                    materialesExistentes.push(material)\r\n                    auxmateriales[material] = 0;\r\n                  }\r\n                  auxmateriales[material] += data[elemento][subetapa][elementoC][material]\r\n                  suma += data[elemento][subetapa][elementoC][material]\r\n                })\r\n              }\r\n            });\r\n          }\r\n          });\r\n        }\r\n      }\r\n    })\r\n    if(filtro == 0){\r\n      auxdatos.forEach(num =>{\r\n        Object.keys(auxmateriales).forEach((material,index) => {\r\n          if(!auxidsMateriales.includes(material)){\r\n            if(num == auxmateriales[material]){\r\n              auxidsMateriales.push(material)\r\n            }\r\n          }\r\n        })\r\n      })\r\n    }else if(filtro ==1){\r\n      auxdatos.forEach(num =>{\r\n        Object.keys(auxmateriales).forEach((material,index) => {\r\n          if(!auxidsMateriales.includes(material)){\r\n            if(num == auxmateriales[material]){\r\n              auxidsMateriales.push(material)\r\n            }\r\n          }\r\n        })\r\n      })\r\n    }else{\r\n      auxdatos = this.acomodaMayoraMenor(auxmateriales);\r\n      auxdatos.forEach(num =>{\r\n        Object.keys(auxmateriales).forEach((material,index) => {\r\n          if(!auxidsMateriales.includes(material)){\r\n            if(num == auxmateriales[material]){\r\n              auxidsMateriales.push(material)\r\n            }\r\n          }\r\n        });\r\n      })\r\n\r\n    }\r\n    let num=0;\r\n    auxidsMateriales.forEach((material,ii) => {\r\n      let aux = {};\r\n      let helpMaterial = this.materiales.filter(({id}) => id == material);\r\n      num=num+1;\r\n      aux['no'] = num;\r\n      aux['material'] = helpMaterial[0]['name_material'];\r\n      aux['porcentaje'] = ((auxdatos[ii] / suma) * 100).toFixed(2);\r\n      aux['numero'] = auxdatos[ii].toExponential(2);\r\n      infoTablaDispercion.push(aux);\r\n    });\r\n    return infoTablaDispercion\r\n  }\r\n\r\n  llenarIdsBotones(elementos,idProyecto){\r\n    let iconos = {}\r\n    elementos.forEach(element => {\r\n      iconos[element.id.toString()] = {};\r\n      iconos[element.id.toString()]['idTEXTO']= idProyecto.toString().concat('texto'.concat(element.id.toString()));\r\n    });\r\n    return iconos;\r\n  }\r\n\r\n  llenarColoresBotonesElementos(elementos,colores,orden){\r\n    let iconos = {}\r\n    elementos.forEach(element => {\r\n      let count =0;  \r\n      let flagColor = true;    \r\n      if(orden != undefined){\r\n        for (let i of orden) {\r\n          if(i === element['id'].toString()){\r\n            iconos[element.id.toString()] = colores[count];\r\n            flagColor = false;\r\n          }\r\n          count ++;\r\n        }\r\n      }\r\n      if(flagColor){\r\n        iconos[element.id.toString()]= '#EFEFEF';\r\n      }\r\n    });\r\n    return iconos;\r\n  }\r\n\r\n  AjustarElementosMostrados(auxDatos,ciclo,flagAgrupar){\r\n    let iconos = {}\r\n    let auxSubetapas = this.encontrarSubetapas(auxDatos);\r\n    this.Secciones.forEach(element =>{\r\n      let flag = false\r\n      let auxidelemento : String = element['id'];\r\n      Object.keys(auxDatos).forEach(fase => {\r\n      if(ciclo===fase || flagAgrupar){\r\n        Object.keys(auxDatos[fase]).forEach(subetapas => {\r\n          let flagSubetapa = false;\r\n          if(flagAgrupar){\r\n            if(subetapas == ciclo){\r\n              flagSubetapa = true;\r\n            }else{\r\n              //let auxSubetapas={'Producción':['A1','A2','A3'],'Construccion':['A4'],'Uso':['B4']}\r\n              Object.keys(auxSubetapas).forEach(auxetapa=>{\r\n                if(auxetapa === ciclo){\r\n                  auxSubetapas[ciclo].forEach(auxsub => {\r\n                    if(subetapas === auxsub){\r\n                      flagSubetapa=true;\r\n                    }\r\n                  });\r\n                }\r\n              })\r\n            }\r\n          }else{\r\n            flagSubetapa = true;\r\n          }\r\n          if(flagSubetapa){\r\n            Object.keys(auxDatos[fase][subetapas]).forEach(idelemento => {\r\n              if(idelemento==auxidelemento.toString()){\r\n                flag = true\r\n                this.ElementosContructivosEliminados.forEach(elementoEliminado => {\r\n                  if(elementoEliminado === idelemento){\r\n                    flag = false\r\n                  }\r\n                });\r\n              }\r\n            })\r\n          }\r\n        });\r\n      }\r\n      });\r\n      if(flag){\r\n        iconos[auxidelemento.toString()] = {};\r\n        iconos[auxidelemento.toString()]['habilitado'] = false;\r\n      }else{\r\n        iconos[auxidelemento.toString()] = {};\r\n        iconos[auxidelemento.toString()]['habilitado'] = true;\r\n      }\r\n    })\r\n    return iconos;\r\n  }\r\n\r\n  agrupacionDeProduccion(idP){\r\n    this.InfoMostrada.forEach((proyecto,index) => {\r\n      if(proyecto.id == idP){\r\n        let resultado = true;\r\n        let aux = {}\r\n        if(this.InfoMostrada[index]['flagAgruparProduccion']){\r\n          this.InfoMostrada[index]['flagAgruparProduccion'] = false\r\n          this.InfoMostrada[index]['textoBotonAgrupar'] = \"Desagrupar\"\r\n          resultado = false;\r\n        }else{\r\n          this.InfoMostrada[index]['flagAgruparProduccion'] = true;\r\n          this.InfoMostrada[index]['textoBotonAgrupar'] = \"Agrupar\"\r\n        }\r\n\r\n        aux = {'idProyecto':idP,'cambioEn':'AgruparProducción','cambio':resultado}\r\n        this.CambioEstadoTercerSeccion.emit(aux);\r\n\r\n        if(this.InfoMostrada[index]['CicloSeleccionado'] != \" \"){\r\n          if(this.InfoMostrada[index]['flagAgruparProduccion']){\r\n            document.getElementById(this.InfoMostrada[index]['id'].toString().concat(this.InfoMostrada[index]['CicloSeleccionado'].concat('botonC'))).className = 'espacio-sin-selecciomar';\r\n          }else{\r\n            //let auxBotonesEtapa = {'A1':'Producción','A2':'Producción','A3':'Producción', 'A4':'Construccion', 'B4':'Uso'}\r\n            let auxBotonesEtapa = {}\r\n            let auxA1A3 = false;\r\n            Object.keys(this.InfoMostrada[index]['DatosMateriales']['Producción']).forEach(subE => {\r\n              if(subE === 'A1-A3'){\r\n                auxA1A3 = true;\r\n              }\r\n            });\r\n            if(auxA1A3){\r\n              auxBotonesEtapa = {'A1':'Producción','A2':'Producción','A3':'Producción','A1-A3':'Producción', 'A4':'Construccion', 'B4':'Uso'}\r\n            }else{\r\n              auxBotonesEtapa = {'A1':'Producción','A2':'Producción','A3':'Producción', 'A4':'Construccion', 'B4':'Uso'}\r\n            }\r\n            Object.keys(auxBotonesEtapa).forEach(element => {\r\n              if(auxBotonesEtapa[element] === this.InfoMostrada[index]['CicloSeleccionado']){\r\n                document.getElementById(this.InfoMostrada[index]['id'].toString().concat(element.concat('botonC'))).className = 'espacio-sin-selecciomar';\r\n              }\r\n            });\r\n          }\r\n          this.InfoMostrada[index]['CicloSeleccionado'] = ' '\r\n          this.InfoMostrada[index]['infoTabla'] = this.IniciarTablaMateriales(this.InfoMostrada[index]['DatosMateriales'],\"\",0,this.InfoMostrada[index]['flagAgruparProduccion'],\" \");\r\n          let auxgrafica = this.IniciarGraficaMateriales(this.InfoMostrada[index]['DatosMateriales'],\"\",\"General\",0,this.InfoMostrada[index]['flagAgruparProduccion'],\"\");\r\n          this.InfoMostrada[index]['DataGraficaMateriales']=auxgrafica['grafica'];\r\n          this.InfoMostrada[index]['labelsMateriales'] = auxgrafica['labels'];\r\n          this.InfoMostrada[index]['ElementosConstructivosGrafica'] = false;\r\n          this.InfoMostrada[index]['DatosElementosConstructivos']=[];\r\n          this.InfoMostrada[index]['iconosElementosConstrucivos']={};\r\n          this.InfoMostrada[index]['Coloreslementos'] = {};\r\n        }\r\n        this.InfoMostrada[index]['ElementoConstructivoSeleccionado']=\" \"\r\n        this.InfoMostrada[index]['DatosCicloVida']=this.GraficaCicloVida(this.InfoMostrada[index]['CicloVida'],this.InfoMostrada[index]['CicloSeleccionado'],this.InfoMostrada[index]['flagAgruparProduccion'],this.InfoMostrada[index]['DatosMateriales']);\r\n        this.InfoMostrada[index]['LabelsCicloVida'] = this.graficaCicloVidaBar(this.InfoMostrada[index]['DatosMateriales'],this.InfoMostrada[index]['flagAgruparProduccion'])\r\n        let botonesCiclo = this.llenarBotonesCiclo(this.InfoMostrada[index]['flagAgruparProduccion'],this.InfoMostrada[index]['id'],this.InfoMostrada[index]['DatosMateriales']);\r\n        this.InfoMostrada[index]['botonesCiclo'] = botonesCiclo['botones']\r\n        this.InfoMostrada[index]['ids_RespuestasBotones'] = botonesCiclo\r\n\r\n        aux = {'idProyecto':idP,'cambioEn':'CicloVida','cambio':\" \"}\r\n        this.CambioEstadoTercerSeccion.emit(aux);\r\n      }\r\n\r\n    });\r\n  }\r\n}\r\n\r\n","<cdk-virtual-scroll-viewport appendOnly itemSize=\"50\" class=\"viewport\">\r\n  <mat-card *ngFor=\"let item of InfoMostrada; let i = index\" class=\"card-indicador\">\r\n      <div>\r\n        <div class=\"subtitulo-proyecto\">\r\n          <div class=\"titulo-proyecto\">\r\n            <a>{{item.nombre}}</a>\r\n            <p>Dispersión del impacto ambiental <br> por elementos constructivos</p>\r\n          </div>\r\n          <button mat-icon-button>Exportar<mat-icon>camera_rear</mat-icon></button>\r\n        </div>\r\n        <div *ngIf=\"item.CicloGraficaPie\">\r\n          <div class=\"canvas-container seccionTresPie\">\r\n                <canvas #MyChart='base-chart' #canvas baseChart\r\n                            [datasets]=\"item.DatosCicloVida\"\r\n                            [chartType]=\"doughnutChartType\"\r\n                            [options]=\"pieChartOptions\"\r\n                            width=\"217px\" height=\"292px\">\r\n                </canvas>\r\n              </div>\r\n        </div>\r\n        <div *ngIf=\"item.CicloGraficaBar\">\r\n          <div class=\"canvas-container seccionTresBar\">\r\n            <canvas #MyChart='base-chart' #canvas baseChart\r\n                [datasets]=\"item.DatosCicloVida\"\r\n                [labels]=\"item.LabelsCicloVida\"\r\n                [options]=\"barChartOptions\"\r\n                [legend]=\"barChartLegend\"\r\n                [plugins]=\"barChartPlugins\"\r\n                [chartType]=\"barChartType\"\r\n                  height=\"305px\">\r\n              </canvas>\r\n          </div>\r\n      </div>\r\n        <div class=\"seccion_botones_elementos_constructivos\">\r\n          <div *ngFor=\"let ciclo of item.botonesCiclo\" class=\"botones-elementos-contructivos\">\r\n            <div id=\"{{item.ids_RespuestasBotones['idsBotones'][ciclo]}}\" class=\"espacio-sin-selecciomar\">\r\n              <button class=\"button-elemento-seleccionado color-texto\" (click)=\"onChartClick(item.ids_RespuestasBotones['respuesta'][ciclo],item.id)\"> \r\n                <div>{{ciclo}}</div>\r\n                <div [style.background-color] =item.ids_RespuestasBotones.colores[ciclo] class='button-icon'>\r\n                </div></button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"button-graph\">\r\n            <mat-button-toggle-group>\r\n                <mat-button-toggle (click)=\"cambioGrafica(1,item.id)\"><mat-icon>pie_chart</mat-icon></mat-button-toggle>\r\n                <mat-button-toggle (click)=\"cambioGrafica(2,item.id)\"><mat-icon>bar_chart</mat-icon></mat-button-toggle>\r\n            </mat-button-toggle-group>\r\n            <button class=\"espacio-sin-selecciomar color-texto\" (click) = \"agrupacionDeProduccion(item.id)\"> \r\n              {{item.textoBotonAgrupar}}</button>\r\n        </div>\r\n      </div>\r\n      <div>\r\n          <div>\r\n            <p>Dispersión del impacto en fase del cico de vida<br> por impactos elementos constructivos</p>\r\n          </div>\r\n          <div *ngIf=\"item.ElementosConstructivosGrafica\">\r\n              <div class=\"canvas-container seccionTresPie\">\r\n                <canvas #MyChart='base-chart' #canvas baseChart\r\n                            [datasets]=\"item.DatosElementosConstructivos\"\r\n                            [chartType]=\"doughnutChartType\"\r\n                            [options]=\"pieChartOptionsDos\"\r\n                            width=\"217px\" height=\"292px\">\r\n                </canvas>\r\n              </div>\r\n              <div class=\"seccion_botones_elementos_constructivos\">\r\n                <div *ngFor=\"let elementoConstructivo of botones_elementos_constructivos\" class=\"botones-elementos-contructivos\">\r\n                  <div id=\"{{item.idsIconosElementos[elementoConstructivo.id]['idTEXTO']}}\" class=\"espacio-sin-selecciomar\">\r\n                    <button class=\"button-elemento-seleccionado color-texto\" [disabled]=\"item.iconosElementosConstrucivos[elementoConstructivo.id]['habilitado']\" (click)=\"onChartClickElemento(elementoConstructivo.id,item.id)\"> \r\n                      <div>{{elementoConstructivo.name_section}}</div>\r\n                      <div [style.background-color] =item.coloresBotonesElementos[elementoConstructivo.id] class='button-icon'>\r\n                      </div></button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n      <div>\r\n          <div>\r\n            <p>Dispersión del impacto {{item.nombreSeccionMostrado}}</p>\r\n          </div>\r\n          <div>\r\n              <div class=\"canvas-container seccionTresBar\">\r\n                <canvas #MyChart='base-chart' #canvas baseChart\r\n                    [datasets]=\"item.DataGraficaMateriales\"\r\n                    [labels]=\"item.labelsMateriales\"\r\n                    [options]=\"barChartOptions\"\r\n                    [legend]=\"barChartLegend\"\r\n                    [plugins]=\"barChartPlugins\"\r\n                    [chartType]=\"barChartType\"\r\n                     height=\"205px\">\r\n                  </canvas>\r\n              </div>\r\n              <div>\r\n                  <p>Materiales</p>\r\n                  <div class=\"example-container\">\r\n                      <table mat-table [dataSource]=\"item.infoTabla\" >\r\n                        <ng-container matColumnDef=\"no\" sticky>\r\n                          <th mat-header-cell *matHeaderCellDef> No. </th>\r\n                          <td mat-cell *matCellDef=\"let element\"> {{element.no}} </td>\r\n                        </ng-container>\r\n                      \r\n                        <ng-container matColumnDef=\"material\">\r\n                          <th mat-header-cell *matHeaderCellDef> Material </th>\r\n                          <td mat-cell *matCellDef=\"let element\"> {{element.material}} </td>\r\n                        </ng-container>\r\n                      \r\n                        <ng-container matColumnDef=\"porcentaje\">\r\n                          <th mat-header-cell *matHeaderCellDef> % </th>\r\n                          <td mat-cell *matCellDef=\"let element\"> {{element.porcentaje}} </td>\r\n                        </ng-container>\r\n                      \r\n                        <ng-container matColumnDef=\"numero\" stickyEnd>\r\n                          <th mat-header-cell *matHeaderCellDef> {{unidadImpactoAmiental}} </th>\r\n                          <td mat-cell *matCellDef=\"let element\"> {{element.numero}} </td>\r\n                        </ng-container>\r\n                      \r\n                        <tr mat-header-row *matHeaderRowDef=\"displayedColumnsDispercion\"></tr>\r\n                        <tr mat-row *matRowDef=\"let row; columns: displayedColumnsDispercion;\"></tr>\r\n                      </table>\r\n                  </div>\r\n                </div>\r\n          </div>\r\n      </div>\r\n  </mat-card>\r\n</cdk-virtual-scroll-viewport>\r\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { EventEmitter, Input, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-image-edificio',\r\n  templateUrl: './image-edificio.component.html',\r\n  styleUrls: ['./image-edificio.component.scss']\r\n})\r\nexport class ImageEdificioComponent implements OnInit {\r\n\r\n  constructor() { }\r\n  @ViewChild('canvasTecho') public canvasTecho!: ElementRef;\r\n  @ViewChild('canvasEntrepiso') public canvasEntrepiso!: ElementRef;\r\n  @ViewChild('canvasCimentacion') public canvasCimentacion!: ElementRef;\r\n  @ViewChild('canvasEstructura') public canvasEstructura!: ElementRef;\r\n  @ViewChild('canvasLosas') public canvasLosas!: ElementRef;\r\n  @ViewChild('canvasMurosExteriores') public canvasMurosExteriores!: ElementRef;\r\n  @ViewChild('canvasMurosInteriores') public canvasMurosInteriores!: ElementRef;\r\n  @ViewChild('canvasPiso') public canvasPiso!: ElementRef;\r\n  @ViewChild('canvasPuertas') public canvasPuertas!: ElementRef;\r\n  @ViewChild('canvasVentanas') public canvasVentanas!: ElementRef;\r\n  @Input() idP:any;\r\n  @Input() idImg:any;\r\n  @Input() inputPtoyect: any;\r\n  @Input() elementoSeleccionado : String;\r\n  @Input() impactoSeleccionado : String;\r\n  @Input() niveles:any;\r\n  @Input() nivelesProyect:any;\r\n  @Output() seleccion= new EventEmitter<any>();\r\n  nivelesLocal = [];\r\n\r\n  elementosList = {\r\n    1:'Cimentacion',\r\n    2:'MurosExteriores',\r\n    3:'MurosInteriores',\r\n    4:'Piso',\r\n    5:'Techo',\r\n    6:'Entrepiso',\r\n    7:'Estructura',\r\n    8:'Puertas',\r\n    9:'Ventanas',\r\n    10:'Losas',\r\n  }\r\n\r\n  canvasw=300;\r\n  canvash=205;\r\n  elementoCambio = \"\";\r\n  canvas1: any;\r\n  canvas2: any;\r\n  canvas3: any;\r\n  canvas4: any;\r\n  canvas5: any;\r\n  canvas6: any;\r\n  canvas7: any;\r\n  canvas8: any;\r\n  canvas9: any;\r\n  canvas10: any;\r\n  canvas:{}\r\n\r\n  ctx1!: CanvasRenderingContext2D;\r\n  ctx2!: CanvasRenderingContext2D;\r\n  ctx3!: CanvasRenderingContext2D;\r\n  ctx4!: CanvasRenderingContext2D;\r\n  ctx5!: CanvasRenderingContext2D;\r\n  ctx6!: CanvasRenderingContext2D;\r\n  ctx7!: CanvasRenderingContext2D;\r\n  ctx8!: CanvasRenderingContext2D;\r\n  ctx9!: CanvasRenderingContext2D;\r\n  ctx10!: CanvasRenderingContext2D;\r\n\r\n  imageObj5 = new Image();\r\n  imageName5 = \"../assets/images/elementos-individuales/5_solo.png\"\r\n  imageObj6 = new Image();\r\n  imageName6 = \"../assets/images/elementos-individuales/6_solo.png\";\r\n  imageObj1 = new Image();\r\n  imageName1 = \"../assets/images/elementos-individuales/1_solo.png\";\r\n  imageObj7= new Image();\r\n  imageName7= \"../assets/images/elementos-individuales/7_solo.png\";\r\n  imageObj10= new Image();\r\n  imageName10= \"../assets/images/elementos-individuales/10_solo.png\";\r\n  imageObj2= new Image();\r\n  imageName2= \"../assets/images/elementos-individuales/2_solo.png\";\r\n  imageObj3= new Image();\r\n  imageName3= \"../assets/images/elementos-individuales/3_solo.png\";\r\n  imageObj4= new Image();\r\n  imageName4= \"../assets/images/elementos-individuales/4_solo.png\";\r\n  imageObj8= new Image();\r\n  imageName8= \"../assets/images/elementos-individuales/8_solo.png\";\r\n  imageObj9= new Image();\r\n  imageName9= \"../assets/images/elementos-individuales/9_solo.png\";\r\n\r\n  ngAfterViewInit(){\r\n    if(this.impactoSeleccionado != null){\r\n      let auximpacto = this.impactoSeleccionado['index'];\r\n      this.nivelesLocal = this.nivelesProyect[auximpacto.toString()];\r\n    }\r\n    this.canvas5 = this.canvasTecho.nativeElement;\r\n    this.ctx5 = this.canvas5.getContext('2d');\r\n\r\n    this.canvas5.width = this.canvasw;\r\n    this.canvas5.height = this.canvash;\r\n\r\n    this.imageObj5.src = this.imageName5;\r\n    //Entrespiso\r\n    this.canvas6 = this.canvasEntrepiso.nativeElement;\r\n    this.ctx6 = this.canvas6.getContext('2d');\r\n\r\n    this.canvas6.width = this.canvasw;\r\n    this.canvas6.height = this.canvash;\r\n\r\n    this.imageObj6.src = this.imageName6;\r\n\r\n    //cimentación\r\n    this.canvas1 = this.canvasCimentacion.nativeElement;\r\n    this.ctx1 = this.canvas1.getContext('2d');\r\n\r\n    this.canvas1.width = this.canvasw;\r\n    this.canvas1.height = this.canvash;\r\n\r\n    this.imageObj1.src = this.imageName1;\r\n    //Estructura\r\n    this.canvas7 = this.canvasEstructura.nativeElement;\r\n    this.ctx7 = this.canvas7.getContext('2d');\r\n\r\n    this.canvas7.width = this.canvasw;\r\n    this.canvas7.height = this.canvash;\r\n\r\n    this.imageObj7.src = this.imageName7;\r\n    //Losas\r\n    this.canvas10 = this.canvasLosas.nativeElement;\r\n    this.ctx10 = this.canvas10.getContext('2d');\r\n\r\n    this.canvas10.width = this.canvasw;\r\n    this.canvas10.height = this.canvash;\r\n\r\n    this.imageObj10.src = this.imageName10;\r\n    //Muros Ext\r\n    this.canvas2 = this.canvasMurosExteriores.nativeElement;\r\n    this.ctx2 = this.canvas2.getContext('2d');\r\n\r\n    this.canvas2.width = this.canvasw;\r\n    this.canvas2.height = this.canvash;\r\n\r\n    this.imageObj2.src = this.imageName2;\r\n    //Muros Int\r\n    this.canvas3 = this.canvasMurosInteriores.nativeElement;\r\n    this.ctx3 = this.canvas3.getContext('2d');\r\n\r\n    this.canvas3.width = this.canvasw;\r\n    this.canvas3.height = this.canvash;\r\n\r\n    this.imageObj3.src = this.imageName3;\r\n    //Piso\r\n    this.canvas4 = this.canvasPiso.nativeElement;\r\n    this.ctx4 = this.canvas4.getContext('2d');\r\n\r\n    this.canvas4.width = this.canvasw;\r\n    this.canvas4.height = this.canvash;\r\n\r\n    this.imageObj4.src = this.imageName4;\r\n    //Puertas\r\n    this.canvas8 = this.canvasPuertas.nativeElement;\r\n    this.ctx8 = this.canvas8.getContext('2d');\r\n\r\n    this.canvas8.width = this.canvasw;\r\n    this.canvas8.height = this.canvash;\r\n\r\n    this.imageObj8.src = this.imageName8;\r\n    //Ventanas\r\n    this.canvas9 = this.canvasVentanas.nativeElement;\r\n    this.ctx9 = this.canvas9.getContext('2d');\r\n\r\n    this.canvas9.width = this.canvasw;\r\n    this.canvas9.height = this.canvash;\r\n\r\n    this.imageObj9.src = this.imageName9;\r\n\r\n    setTimeout(() => \r\n          this.funcionRealizar(),500\r\n    )\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    \r\n  }\r\n\r\n  draw(){\r\n    //Techo\r\n    this.ctx5.clearRect(0, 0, this.canvas5.width, this.canvas5.height);\r\n    this.ctx5.drawImage(this.imageObj5, 0,0, this.canvas5.width, this.canvas5.height);\r\n    //Entrepiso\r\n    this.ctx6.clearRect(0, 0, this.canvas6.width, this.canvas6.height);\r\n    this.ctx6.drawImage(this.imageObj6, 0, 0, this.canvas6.width, this.canvas6.height);\r\n    //cimentación\r\n    this.ctx1.clearRect(0, 0, this.canvas1.width, this.canvas1.height);\r\n    this.ctx1.drawImage(this.imageObj1, 0, 0, this.canvas1.width, this.canvas1.height);\r\n    //Estructura\r\n    this.ctx7.clearRect(0, 0, this.canvas7.width, this.canvas7.height);\r\n    this.ctx7.drawImage(this.imageObj7, 0,0, this.canvas7.width, this.canvas7.height);\r\n    //Losas\r\n    this.ctx10.clearRect(0, 0, this.canvas10.width, this.canvas10.height);\r\n    this.ctx10.drawImage(this.imageObj10, 0,0, this.canvas10.width, this.canvas10.height);\r\n    //Muros Ext\r\n    this.ctx2.clearRect(0, 0, this.canvas2.width, this.canvas2.height);\r\n    this.ctx2.drawImage(this.imageObj2, 0,0, this.canvas2.width, this.canvas2.height);\r\n    //Muros Int\r\n    this.ctx3.clearRect(0, 0, this.canvas3.width, this.canvas3.height);\r\n    this.ctx3.drawImage(this.imageObj3, 0,0, this.canvas3.width, this.canvas3.height);\r\n    //Piso\r\n    this.ctx4.clearRect(0, 0, this.canvas4.width, this.canvas4.height);\r\n    this.ctx4.drawImage(this.imageObj4, 0,0, this.canvas4.width, this.canvas4.height);\r\n    //Puertas\r\n    this.ctx8.clearRect(0, 0, this.canvas8.width, this.canvas8.height);\r\n    this.ctx8.drawImage(this.imageObj8, 0,0, this.canvas8.width, this.canvas8.height);\r\n    //Ventanas\r\n    this.ctx9.clearRect(0, 0, this.canvas9.width, this.canvas9.height);\r\n    this.ctx9.drawImage(this.imageObj9, 0,0, this.canvas9.width, this.canvas9.height);\r\n  }\r\n\r\n  funcionRealizar(){\r\n    this.draw();\r\n    this.edificioSinSeleccion();\r\n    if(this.elementoSeleccionado!=\" \" && this.impactoSeleccionado != null){\r\n      let colorResaltado = \"\"\r\n      this.nivelesLocal.forEach((nivel,index) =>{\r\n        if(nivel == Number(this.elementoSeleccionado)){\r\n          colorResaltado = this.inputPtoyect[index]\r\n        }\r\n      })\r\n      this.edificioUnElemento(colorResaltado);\r\n    }else if(this.elementoSeleccionado!=\" \" && this.impactoSeleccionado === null){\r\n      this.edificioUnElemento(\"#17202A\");\r\n    }else if(this.elementoSeleccionado===\" \" && this.impactoSeleccionado != null){\r\n      this.edificioVariosElementos();\r\n    }\r\n  }\r\n\r\n  //Poner elementos del edificio sin colores resaltados por selección\r\n  edificioSinSeleccion(){\r\n    this.ajusteColorTecho(\"#B3B6B7\");\r\n    this.ajusteColorEntrepiso(\"#B3B6B7\");\r\n    this.ajusteColorCimentación(\"#B3B6B7\");\r\n    this.ajusteColorEstructura(\"#B3B6B7\");\r\n    this.ajusteColorLosas(\"#FFFFFF\")\r\n    this.ajusteColorMurosExt(\"#FFFFFF\");\r\n    this.ajusteColorMurosInt(\"#FFFFFF\");\r\n    this.ajusteColorPiso(\"#FFFFFF\");\r\n    this.ajusteColorPuertas(\"#B3B6B7\");\r\n    this.ajusteColorVentanas(\"#B3B6B7\");\r\n  }\r\n\r\n  //Resaltar solo un elemento seleccionado.\r\n  edificioUnElemento(coloraResaltar){\r\n    if(Number(this.elementoSeleccionado) == 1){\r\n      this.ajusteColorCimentación(coloraResaltar);\r\n    }else if(Number(this.elementoSeleccionado) == 2){\r\n      this.ajusteColorMurosExt(coloraResaltar);\r\n    }else if(Number(this.elementoSeleccionado) == 3){\r\n      this.ajusteColorMurosInt(coloraResaltar);\r\n    }else if(Number(this.elementoSeleccionado) == 4){\r\n      this.ajusteColorPiso(coloraResaltar);\r\n    }else if(Number(this.elementoSeleccionado) == 5){\r\n      this.ajusteColorTecho(coloraResaltar);\r\n    }else if(Number(this.elementoSeleccionado) == 6){\r\n      this.ajusteColorEntrepiso(coloraResaltar);\r\n    }else if(Number(this.elementoSeleccionado) == 7){\r\n      this.ajusteColorEstructura(coloraResaltar);\r\n    }else if(Number(this.elementoSeleccionado) == 8){\r\n      this.ajusteColorPuertas(coloraResaltar);\r\n    }else if(Number(this.elementoSeleccionado) == 9){\r\n      this.ajusteColorVentanas(coloraResaltar);\r\n    }else if(Number(this.elementoSeleccionado) == 10){\r\n      this.ajusteColorLosas(coloraResaltar)\r\n    }\r\n  }\r\n\r\n  //Resaltar todos los elementos del proyecto con sus colores respecto al impacto ambiental\r\n  edificioVariosElementos(){\r\n    let data = {}\r\n    Object.keys(this.elementosList).forEach(element =>{\r\n      data[element] ={\r\n        'color' : '',\r\n        'flag' : false\r\n      }\r\n    })\r\n    this.nivelesLocal.forEach((nivel,index) =>{\r\n      if(nivel<=10){\r\n        data[nivel]['flag'] = true;\r\n        data[nivel]['color'] = this.inputPtoyect[index];\r\n      }\r\n    });\r\n\r\n    if(data[1]['flag']){\r\n      this.ajusteColorCimentación(data[1]['color']);\r\n    }\r\n    if(data[2]['flag']){\r\n      this.ajusteColorMurosExt(data[2]['color']);\r\n    }\r\n    if(data[3]['flag']){\r\n      this.ajusteColorMurosInt(data[3]['color']);\r\n    }\r\n    if(data[4]['flag']){\r\n      this.ajusteColorPiso(data[4]['color']);\r\n    }\r\n    if(data[5]['flag']){\r\n      this.ajusteColorTecho(data[5]['color']);\r\n    }\r\n    if(data[6]['flag']){\r\n      this.ajusteColorEntrepiso(data[6]['color']);\r\n    }\r\n    if(data[7]['flag']){\r\n      this.ajusteColorEstructura(data[7]['color']);\r\n    }\r\n    if(data[8]['flag']){\r\n      this.ajusteColorPuertas(data[8]['color']);\r\n    }\r\n    if(data[9]['flag']){\r\n      this.ajusteColorVentanas(data[9]['color']);\r\n    }\r\n    if(data[10]['flag']){\r\n      this.ajusteColorLosas(data[10]['color']);\r\n    }\r\n  }\r\n\r\n  //Ajustes de colores \r\n  ajusteColorTecho(color){\r\n    this.ctx5.globalCompositeOperation = \"source-in\";\r\n    this.ctx5.fillStyle = color;\r\n    this.ctx5.fillRect(50, 0, this.canvas5.width, this.canvas5.height);\r\n  }\r\n\r\n  ajusteColorEntrepiso(color){\r\n    this.ctx6.globalCompositeOperation = \"source-in\";\r\n    this.ctx6.fillStyle = color;\r\n    this.ctx6.fillRect(50, 0, this.canvas6.width, this.canvas6.height);\r\n  }\r\n\r\n  ajusteColorCimentación(color){\r\n    this.ctx1.globalCompositeOperation = \"source-in\";\r\n    this.ctx1.fillStyle = color;\r\n    this.ctx1.fillRect(50, 0, this.canvas1.width, this.canvas1.height);\r\n  }\r\n\r\n  ajusteColorEstructura(color){\r\n    this.ctx7.globalCompositeOperation = \"source-in\";\r\n    this.ctx7.fillStyle = color;\r\n    this.ctx7.fillRect(50, 0, this.canvas7.width, this.canvas7.height);\r\n  }\r\n\r\n  ajusteColorLosas(color){\r\n    this.ctx10.globalCompositeOperation = \"source-in\";\r\n    this.ctx10.fillStyle = color;\r\n    this.ctx10.fillRect(50, 0, this.canvas10.width, this.canvas10.height);\r\n  }\r\n\r\n  ajusteColorMurosExt(color){\r\n    this.ctx2.globalCompositeOperation = \"source-in\";\r\n    this.ctx2.fillStyle = color;\r\n    this.ctx2.fillRect(50, 0, this.canvas2.width, this.canvas2.height);\r\n  }\r\n\r\n  ajusteColorMurosInt(color){\r\n    this.ctx3.globalCompositeOperation = \"source-in\";\r\n    this.ctx3.fillStyle = color;\r\n    this.ctx3.fillRect(50, 0, this.canvas3.width, this.canvas3.height);\r\n  }\r\n\r\n  ajusteColorPiso(color){\r\n    this.ctx4.globalCompositeOperation = \"source-in\";\r\n    this.ctx4.fillStyle = color;\r\n    this.ctx4.fillRect(50, 0, this.canvas4.width, this.canvas4.height);\r\n  }\r\n\r\n  ajusteColorPuertas(color){\r\n    this.ctx8.globalCompositeOperation = \"source-in\";\r\n    this.ctx8.fillStyle = color;\r\n    this.ctx8.fillRect(50, 0, this.canvas8.width, this.canvas8.height);\r\n  }\r\n\r\n  ajusteColorVentanas(color){\r\n    this.ctx9.globalCompositeOperation = \"source-in\";\r\n    this.ctx9.fillStyle = color;\r\n    this.ctx9.fillRect(50, 0, this.canvas9.width, this.canvas9.height);\r\n  }\r\n\r\n  seleccionIMG(){\r\n    let aux = [this.idImg,this.idP];\r\n    this.seleccion.emit(aux);\r\n  }\r\n\r\n}\r\n","<div class=\"principal_img\" (click) = \"seleccionIMG()\">\r\n    <div class=\"imagen\">\r\n      <div class=\"elemento\">\r\n        <canvas #canvasTecho>\r\n        </canvas>\r\n      </div>\r\n      <div class=\"elemento\">\r\n        <canvas #canvasEntrepiso>\r\n        </canvas>\r\n      </div>\r\n      <div class=\"elemento\">\r\n        <canvas #canvasEstructura>\r\n        </canvas>\r\n      </div>\r\n      <div class=\"elemento\">\r\n        <canvas #canvasCimentacion>\r\n        </canvas>\r\n      </div>\r\n      <div class=\"elemento\">\r\n        <canvas #canvasLosas>\r\n        </canvas>\r\n      </div>\r\n      <div class=\"elemento\">\r\n        <canvas #canvasMurosExteriores>\r\n        </canvas>\r\n      </div>\r\n      <div class=\"elemento\">\r\n        <canvas #canvasMurosInteriores>\r\n        </canvas>\r\n      </div>\r\n      <div class=\"elemento\">\r\n        <canvas #canvasPiso>\r\n        </canvas>\r\n      </div>\r\n      <div class=\"elemento\">\r\n        <canvas #canvasPuertas>\r\n        </canvas>\r\n      </div>\r\n      <div class=\"elemento\">\r\n        <canvas #canvasVentanas>\r\n        </canvas>\r\n      </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CompararComponent } from './component/comparar/comparar.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    component: CompararComponent,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CompararRoutingModule { }\r\n","<div *ngIf=\"showGr\"  class=\"div-principal\">\r\n  <div style=\"display: block\">\r\n    <canvas #MyChart='base-chart' #canvas baseChart\r\n        [datasets]=\"barChartData\"\r\n        [labels]=\"barChartLabels\"\r\n        [options]=\"barChartOptions\"\r\n        [plugins]=\"barChartPlugins\"\r\n        [legend]=\"barChartLegend\"\r\n        (chartClick)='onChartClick($event)'\r\n        [chartType]=\"barChartType\">\r\n    </canvas>\r\n  </div>\r\n</div>\r\n<div *ngIf=\"showlastGr\"  class=\"div-principal\">\r\n  <div style=\"display: block\">\r\n    <canvas #MyChart='base-chart' #canvas baseChart\r\n        [datasets]=\"barChartDataSecond[0]\"\r\n        [labels]=\"barChartLabelsSecond\"\r\n        [options]=\"barChartOptions\"\r\n        [plugins]=\"barChartPlugins\"\r\n        [legend]=\"barChartLegend\"\r\n        [chartType]=\"barChartType\">\r\n    </canvas>\r\n  </div>\r\n</div>\r\n","<div class=\"graficas-especificas\">\r\n  <div  *ngFor=\"let item of inputProyect;let i = index\">\r\n    <mat-card>\r\n      <mat-card-header>\r\n        {{item.Nombre}}\r\n        <br>\r\n        {{subtitulo}}\r\n      </mat-card-header>\r\n    </mat-card>\r\n    <div>\r\n      <canvas #MyChart='base-chart' #canvas baseChart\r\n      [datasets]=\"radarChartData[i]\"\r\n      [options]=\"radarChartOptions\"\r\n      [labels]=\"radarChartLabels\"\r\n      [chartType]=\"radarChartType\">\r\n      </canvas>\r\n    </div>\r\n  </div>\r\n  <div>\r\n  </div>\r\n</div>\r\n","<div style=\"display: block\">\r\n    <canvas #MyChart='base-chart' #canvas baseChart\r\n        [datasets]=\"barChartData\"\r\n        [labels]=\"barChartLabels\"\r\n        [options]=\"barChartOptions\"\r\n        [plugins]=\"barChartPlugins\"\r\n        [legend]=\"barChartLegend\"\r\n        [chartType]=\"barChartType\"\r\n        (chartClick)='onChartClick($event)'\r\n        (chartHover)='onChartHover($event)'>\r\n    </canvas>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle'\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport {ScrollingModule} from '@angular/cdk/scrolling';\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\n\r\nimport { CompararRoutingModule } from './comparar-routing.module';\r\nimport { CompararComponent } from './component/comparar/comparar.component';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { MaterialModule } from './../material/material.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { PieChartComponent } from '../pie-chart/pie-chart.component';\r\nimport { RadialChartComponent } from '../radial-chart/radial-chart.component';\r\nimport { ChartsModule } from 'ng2-charts';\r\nimport { BarChartComponent } from '../bar-chart/bar-chart.component';\r\nimport { BarChartSimpleComponent } from '../bar-chart-simple/bar-chart-simple.component';\r\nimport {MatCheckboxModule} from '@angular/material/checkbox';\r\nimport { GraficasTercerSeccionComponent } from './component/graficas-tercer-seccion/graficas-tercer-seccion.component';\r\nimport { ImageEdificioComponent } from '../image-edificio/image-edificio.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CompararComponent,\r\n    PieChartComponent,\r\n    RadialChartComponent,\r\n    BarChartComponent,\r\n    BarChartSimpleComponent,\r\n    GraficasTercerSeccionComponent,\r\n    ImageEdificioComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    CompararRoutingModule,\r\n    MaterialModule,\r\n    FormsModule,\r\n    ChartsModule,\r\n    MatTabsModule,\r\n    MatMenuModule,\r\n    MatButtonToggleModule,\r\n    MatSelectModule,\r\n    ScrollingModule,\r\n    MatCheckboxModule,\r\n    MatSlideToggleModule\r\n  ],\r\n  exports: [\r\n    CompararComponent,\r\n  ],\r\n})\r\nexport class CompararModule { }\r\n","import subetapasInfo from 'src/app/calculos/Subetapas.json';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\n\r\nexport class CalculosTercerSeccion {\r\n  subetapas_list: any = subetapasInfo;\r\n  projectsList: [];\r\n  materialList: [];\r\n  materialSchemeDataList: [];\r\n  materialSchemeProyectList: [];\r\n  potentialTypesList: [];\r\n  standarsList: [];\r\n  CSEList: [];\r\n  SIDList: [];\r\n  SIList: [];\r\n  ACRList: [];\r\n  ECDList: [];\r\n  TEDList: [];\r\n  TEList: [];\r\n  ULList: [];\r\n  ECDPList: [];\r\n  sectionList: [];\r\n  PTList:[];\r\n  conversionList:[];\r\n  impactosIgnorar2 = [\r\n    'PARNR',\r\n    'POT',\r\n    'Human toxicity',\r\n    'Fresh water aquatic ecotox.',\r\n    'Marine aquatic ecotoxicity',\r\n    'Terrestrial ecotoxicity',\r\n  ];\r\n\r\n  OperacionesDeFasePorElementoConstructivoCicloVida(idProyecto,info,BD) {\r\n    this.projectsList = info.projectsList;\r\n    this.materialList = info.materialList;\r\n    this.materialSchemeDataList = info.materialSchemeDataList;\r\n    this.materialSchemeProyectList = info.materialSchemeProyectList;\r\n    this.potentialTypesList = info.potentialTypesList;\r\n    this.standarsList = info.standarsList;\r\n    this.CSEList = info.CSEList;\r\n    this.SIDList = info.SIDList;\r\n    this.SIList = info.SIList;\r\n    this.ACRList = info.ACRList;\r\n    this.ECDList = info.ECDList;\r\n    this.TEDList = info.TEDList;\r\n    this.TEList = info.TEList;\r\n    this.ULList = info.ULList;\r\n    this.ECDPList = info.ECDPList;\r\n    this.sectionList = info.sectionsList;\r\n    this.PTList = info.PTList;\r\n    this.conversionList =  info.conversionList;\r\n    \r\n    let Datos = {};\r\n    let DatosMateriales = {};\r\n    let schemeProyect = null;\r\n  \r\n    schemeProyect = this.materialSchemeProyectList.filter(\r\n      (msp) => msp['project_id'] == idProyecto\r\n    );\r\n\r\n    let impacto_ban = true;\r\n    let nameImpacto: string;\r\n\r\n    this.potentialTypesList.forEach((impacto, index) => {\r\n      this.impactosIgnorar2.forEach((ignorar) => {\r\n        if (impacto['name_potential_type'] === ignorar) {\r\n          impacto_ban = false;\r\n        }\r\n      });\r\n      if (impacto_ban) {\r\n        nameImpacto = impacto['name_complete_potential_type'];\r\n        nameImpacto = this.ajustarNombre(nameImpacto);\r\n        console.log(nameImpacto)\r\n        Datos[nameImpacto]={};\r\n        DatosMateriales[nameImpacto]={};\r\n        Datos[nameImpacto]['Producción'] = {'A1':{},'A2':{},'A3':{}};\r\n        Datos[nameImpacto]['Construccion']={'A4':{}};\r\n        Datos[nameImpacto]['Uso']={'B4':{}};\r\n        DatosMateriales[nameImpacto]['Producción'] = {'A1':{},'A2':{},'A3':{}};\r\n        DatosMateriales[nameImpacto]['Construccion']={'A4':{}};\r\n        DatosMateriales[nameImpacto]['Uso']={'B4':{}};\r\n        let elementoscreados=[];\r\n        let sumaParaReempazos = {};\r\n        let auxMaterialesTransporte = {};\r\n        let auxMaterialesYaSumados={};\r\n        //Cálculos de la sección de producción\r\n        let etapas = [2, 3, 4]; //Subetaps A1 A2 y A3\r\n        etapas.forEach((subetapa) => {\r\n          elementoscreados=[];\r\n          let auxSub = \"A\".concat((subetapa-1).toString())\r\n          //console.log(subetapa)\r\n          if (schemeProyect.length > 0) {\r\n            schemeProyect.forEach((ps, num) => {\r\n              let baseDatosMaterial = this.materialList.filter((bs)=> bs['id']==ps['material_id']);\r\n              if(BD[baseDatosMaterial[0]['database_from']]){\r\n                if(baseDatosMaterial[0]['database_from']==='EPiC'){\r\n                  let elementoscreadosA1A3=[];\r\n                  let materiales_subetapa = this.materialSchemeDataList.filter(\r\n                    (msd) =>\r\n                      msd['material_id'] == ps['material_id'] &&\r\n                      msd['standard_id'] == 1 &&\r\n                      msd['potential_type_id'] == impacto['id']\r\n                  );\r\n                  if (materiales_subetapa.length > 0) {    \r\n                      let flagExisteA1A3 = false\r\n                      Object.keys(Datos[nameImpacto]['Producción']).forEach(sube =>{\r\n                        if(sube === 'A1-A3'){\r\n                          flagExisteA1A3 = true;\r\n                        }\r\n                      });\r\n                      if(!flagExisteA1A3){\r\n                        Datos[nameImpacto]['Producción']['A1-A3'] = {}\r\n                        DatosMateriales[nameImpacto]['Producción']['A1-A3']={}\r\n                      }\r\n                      materiales_subetapa.forEach((material, index) => {\r\n                        if(!elementoscreadosA1A3.includes(ps['section_id'])){\r\n                          elementoscreadosA1A3.push(ps['section_id']);\r\n                          Datos[nameImpacto]['Producción']['A1-A3'][ps['section_id']]=0;\r\n                          DatosMateriales[nameImpacto]['Producción']['A1-A3'][ps['section_id']]={};\r\n                          sumaParaReempazos[ps['section_id']]={};\r\n                          auxMaterialesYaSumados[ps['section_id']] = [];\r\n                          auxMaterialesTransporte[ps['section_id']] = [];\r\n                        }\r\n                        let auxres = materiales_subetapa[index]['value'] * ps['quantity'];\r\n                        DatosMateriales[nameImpacto]['Producción']['A1-A3'][ps['section_id']][ps['material_id']]=auxres;\r\n                        Datos[nameImpacto]['Producción']['A1-A3'][ps['section_id']] = Datos[nameImpacto]['Producción']['A1-A3'][ps['section_id']] + auxres;\r\n                        //console.log(ps['material_id'],DatosMateriales[nameImpacto]['Producción'][auxSub][ps['section_id']][ps['material_id']],\"res\",auxres)\r\n                    });\r\n                  } \r\n                }else{\r\n                  let materiales_subetapa = this.materialSchemeDataList.filter(\r\n                    (msd) =>\r\n                      msd['material_id'] == ps['material_id'] &&\r\n                      msd['standard_id'] == subetapa &&\r\n                      msd['potential_type_id'] == impacto['id']\r\n                  );\r\n                  if (materiales_subetapa.length > 0) {    \r\n                      materiales_subetapa.forEach((material, index) => {\r\n                        if(!elementoscreados.includes(ps['section_id'])){\r\n                          elementoscreados.push(ps['section_id']);\r\n                          Datos[nameImpacto]['Producción'][auxSub][ps['section_id']]=0;\r\n                          DatosMateriales[nameImpacto]['Producción'][auxSub][ps['section_id']]={};\r\n                          sumaParaReempazos[ps['section_id']]={};\r\n                          auxMaterialesYaSumados[ps['section_id']] = [];\r\n                          auxMaterialesTransporte[ps['section_id']] = [];\r\n                        }\r\n                        let auxres = materiales_subetapa[index]['value'] * ps['quantity'];\r\n                        //console.log(DatosMateriales[nameImpacto]['Producción'][auxSub])\r\n                        DatosMateriales[nameImpacto]['Producción'][auxSub][ps['section_id']][ps['material_id']]=auxres;\r\n                        Datos[nameImpacto]['Producción'][auxSub][ps['section_id']] = Datos[nameImpacto]['Producción'][auxSub][ps['section_id']] + auxres;\r\n                        //console.log(ps['material_id'],DatosMateriales[nameImpacto]['Producción'][auxSub][ps['section_id']][ps['material_id']],\"res\",auxres)\r\n                    });\r\n                  } \r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n        //console.log(DatosMateriales[nameImpacto])\r\n        //A4 Transporte\r\n        elementoscreados=[];\r\n        if (schemeProyect.length > 0) {\r\n          schemeProyect.forEach((ps) => {\r\n            let baseDatosMaterial = this.materialList.filter((bs)=> bs['id']==ps['material_id']);\r\n            let internacional;\r\n            let nacional;\r\n            if (ps['distance_init'] == null) {\r\n              internacional = 0;\r\n            } else {\r\n              let transporteSeleccionado = 1;\r\n              if (ps['transport_id_origin'] != null) {\r\n                transporteSeleccionado = ps['transport_id_origin'];\r\n              }\r\n              let value_transport = this.PTList.filter(\r\n                (val) =>\r\n                  val['potential_type_id'] == impacto['id'] &&\r\n                  val['transport_id'] == transporteSeleccionado\r\n              );\r\n              internacional = value_transport[0]['value'] * ps['distance_init'];\r\n            }\r\n            if (ps['distance_end'] == null) {\r\n              nacional = 0;\r\n            } else {\r\n              let transporteSeleccionado = 4;\r\n              if (ps['transport_id_end'] != null) {\r\n                transporteSeleccionado = ps['transport_id_end'];\r\n              }\r\n              let value_transport = this.PTList.filter(\r\n                (val) =>\r\n                  val['potential_type_id'] == impacto['id'] &&\r\n                  val['transport_id'] == transporteSeleccionado\r\n              );\r\n              nacional = value_transport[0]['value'] * ps['distance_end'];\r\n            }\r\n            let conversion_val = this.conversionList.filter(\r\n              (val) => val['material_id'] == ps['material_id']\r\n            );\r\n            let peso = 1;\r\n            if (conversion_val.length > 0) {\r\n              peso = conversion_val[0]['value'];\r\n            }\r\n            if(BD[baseDatosMaterial[0]['database_from']]){\r\n              let auxres = peso * ps['quantity'] * (nacional + internacional)\r\n              if(auxres != 0){\r\n                if(!elementoscreados.includes(ps['section_id'])){\r\n                  elementoscreados.push(ps['section_id']);\r\n                  Datos[nameImpacto]['Construccion']['A4'][ps['section_id']]=0;\r\n                  DatosMateriales[nameImpacto]['Construccion']['A4'][ps['section_id']] = {};\r\n                  sumaParaReempazos[ps['section_id']]={};\r\n                  auxMaterialesYaSumados[ps['section_id']] = [];\r\n                  auxMaterialesTransporte[ps['section_id']] = [];\r\n                }\r\n                if(!auxMaterialesTransporte[ps['section_id']].includes(ps['material_id'])){\r\n                  sumaParaReempazos[ps['section_id']][ps['material_id']]=0;\r\n                  auxMaterialesTransporte[ps['section_id']].push(ps['material_id']);\r\n                }\r\n                sumaParaReempazos[ps['section_id']][ps['material_id']] +=  peso * ps['quantity'] * (nacional + internacional);\r\n                DatosMateriales[nameImpacto]['Construccion']['A4'][ps['section_id']][ps['material_id']]=auxres;\r\n                Datos[nameImpacto]['Construccion']['A4'][ps['section_id']] =\r\n                Datos[nameImpacto]['Construccion']['A4'][ps['section_id']] +\r\n                auxres;\r\n              }\r\n            }\r\n          });\r\n        }\r\n        elementoscreados=[];\r\n        //B4 USO\r\n        //las etapas son las mismas que en la sección de producción\r\n        etapas.forEach((subetapa) => {\r\n          if (schemeProyect.length > 0) {\r\n            schemeProyect.forEach((ps, num) => {\r\n              if(ps['replaces'] != 0){\r\n                let baseDatosMaterial = this.materialList.filter((bs)=> bs['id']==ps['material_id']);\r\n                if(BD[baseDatosMaterial[0]['database_from']]){\r\n                  let auxSumaParaReemplazo = sumaParaReempazos[ps['section_id']][ps['material_id']];\r\n                    if(auxSumaParaReemplazo != undefined){\r\n                      if(!elementoscreados.includes(ps['section_id'])){\r\n                        elementoscreados.push(ps['section_id']);\r\n                        Datos[nameImpacto]['Uso']['B4'][ps['section_id']]=0;\r\n                        DatosMateriales[nameImpacto]['Uso']['B4'][ps['section_id']]={};\r\n                      }\r\n                      DatosMateriales[nameImpacto]['Uso']['B4'][ps['section_id']][ps['material_id']]=auxSumaParaReemplazo;\r\n                      console.log(DatosMateriales[nameImpacto]['Uso']['B4'][ps['section_id']][ps['material_id']],auxSumaParaReemplazo)\r\n                        Datos[nameImpacto]['Uso']['B4'][ps['section_id']] =\r\n                        Datos[nameImpacto]['Uso']['B4'][ps['section_id']] + auxSumaParaReemplazo;\r\n                    }\r\n                  if(baseDatosMaterial[0]['database_from']==='EPiC'){\r\n                    let materiales_subetapa = this.materialSchemeDataList.filter(\r\n                      (msd) =>\r\n                        msd['material_id'] == ps['material_id'] &&\r\n                        msd['standard_id'] == 1 &&\r\n                        msd['potential_type_id'] == impacto['id']\r\n                    );\r\n                    if (materiales_subetapa.length > 0) {\r\n                      materiales_subetapa.forEach((material, index) => {\r\n                        if(!elementoscreados.includes(ps['section_id'])){\r\n                          elementoscreados.push(ps['section_id']);\r\n                          Datos[nameImpacto]['Uso']['B4'][ps['section_id']]=0;\r\n                          DatosMateriales[nameImpacto]['Uso']['B4'][ps['section_id']]={};\r\n                        }\r\n                        let auxres = ((materiales_subetapa[index]['value'] * ps['quantity'])) * ps['replaces']\r\n                        DatosMateriales[nameImpacto]['Uso']['B4'][ps['section_id']][ps['material_id']]+=auxres;\r\n                        Datos[nameImpacto]['Uso']['B4'][ps['section_id']] =\r\n                        Datos[nameImpacto]['Uso']['B4'][ps['section_id']] + auxres;\r\n                      });\r\n                    }\r\n                  }else{\r\n                    let materiales_subetapa = this.materialSchemeDataList.filter(\r\n                      (msd) =>\r\n                        msd['material_id'] == ps['material_id'] &&\r\n                        msd['standard_id'] == subetapa &&\r\n                        msd['potential_type_id'] == impacto['id']\r\n                    );\r\n                    if (materiales_subetapa.length > 0) {\r\n                      materiales_subetapa.forEach((material, index) => {\r\n                        if(!elementoscreados.includes(ps['section_id'])){\r\n                          elementoscreados.push(ps['section_id']);\r\n                          Datos[nameImpacto]['Uso']['B4'][ps['section_id']]=0;\r\n                          DatosMateriales[nameImpacto]['Uso']['B4'][ps['section_id']]={};\r\n                        }\r\n                        let auxres = ((materiales_subetapa[index]['value'] * ps['quantity'])) * ps['replaces']\r\n                        DatosMateriales[nameImpacto]['Uso']['B4'][ps['section_id']][ps['material_id']]+=auxres;\r\n                        Datos[nameImpacto]['Uso']['B4'][ps['section_id']] =\r\n                        Datos[nameImpacto]['Uso']['B4'][ps['section_id']] + auxres;\r\n                      });\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n      impacto_ban = true;\r\n    });\r\n\r\n    console.log(DatosMateriales)\r\n    let resultado={'materiales':DatosMateriales,'Calculos':Datos}\r\n    return resultado;\r\n  }\r\n\r\n  ajustarNombre(name: string) {\r\n    let help = name;\r\n    let spacios=0;\r\n    let numC=0;\r\n    let maxlinea=0;\r\n    for (let i of help){\r\n      if(i===' '){\r\n        spacios=spacios+1;\r\n        if(spacios==1 && maxlinea >= 9){\r\n          help = [help.slice(0, numC), '\\n', help.slice(numC)].join('');\r\n          spacios=0;\r\n          maxlinea = 0;\r\n          numC=numC+1;\r\n        }\r\n        if(spacios==2){\r\n          help = [help.slice(0, numC), '\\n', help.slice(numC)].join('');\r\n          spacios=0;\r\n          numC=numC+1;\r\n        }\r\n      }\r\n      maxlinea=maxlinea+1;\r\n      numC=numC+1;\r\n    }\r\n    \r\n    return help\r\n  }\r\n}\r\n","import { ObserversModule } from '@angular/cdk/observers';\nimport { InjectionToken, forwardRef, EventEmitter, Component, ViewEncapsulation, ChangeDetectionStrategy, ElementRef, ChangeDetectorRef, Attribute, NgZone, Inject, Optional, ViewChild, Input, Output, Directive, NgModule } from '@angular/core';\nimport { mixinTabIndex, mixinColor, mixinDisableRipple, mixinDisabled, MatRippleModule, MatCommonModule } from '@angular/material/core';\nimport { FocusMonitor } from '@angular/cdk/a11y';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS, CheckboxRequiredValidator } from '@angular/forms';\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/slide-toggle/slide-toggle-config.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Default `mat-slide-toggle` options that can be overridden.\n * @record\n */\nfunction MatSlideToggleDefaultOptions() { }\nif (false) {\n    /**\n     * Whether toggle action triggers value changes in slide toggle.\n     * @type {?|undefined}\n     */\n    MatSlideToggleDefaultOptions.prototype.disableToggleValue;\n    /**\n     * Whether drag action triggers value changes in slide toggle.\n     * @deprecated No longer being used.\n     * \\@breaking-change 10.0.0\n     * @type {?|undefined}\n     */\n    MatSlideToggleDefaultOptions.prototype.disableDragValue;\n}\n/**\n * Injection token to be used to override the default options for `mat-slide-toggle`.\n * @type {?}\n */\nconst MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS = new InjectionToken('mat-slide-toggle-default-options', {\n    providedIn: 'root',\n    factory: (/**\n     * @return {?}\n     */\n    () => ({ disableToggleValue: false }))\n});\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/slide-toggle/slide-toggle.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n// Increasing integer for generating unique ids for slide-toggle components.\n/** @type {?} */\nlet nextUniqueId = 0;\n/**\n * \\@docs-private\n * @type {?}\n */\nconst MAT_SLIDE_TOGGLE_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef((/**\n     * @return {?}\n     */\n    () => MatSlideToggle)),\n    multi: true\n};\n/**\n * Change event object emitted by a MatSlideToggle.\n */\nclass MatSlideToggleChange {\n    /**\n     * @param {?} source\n     * @param {?} checked\n     */\n    constructor(source, checked) {\n        this.source = source;\n        this.checked = checked;\n    }\n}\nif (false) {\n    /**\n     * The source MatSlideToggle of the event.\n     * @type {?}\n     */\n    MatSlideToggleChange.prototype.source;\n    /**\n     * The new `checked` value of the MatSlideToggle.\n     * @type {?}\n     */\n    MatSlideToggleChange.prototype.checked;\n}\n// Boilerplate for applying mixins to MatSlideToggle.\n/**\n * \\@docs-private\n */\nclass MatSlideToggleBase {\n    /**\n     * @param {?} _elementRef\n     */\n    constructor(_elementRef) {\n        this._elementRef = _elementRef;\n    }\n}\nif (false) {\n    /** @type {?} */\n    MatSlideToggleBase.prototype._elementRef;\n}\n/** @type {?} */\nconst _MatSlideToggleMixinBase = mixinTabIndex(mixinColor(mixinDisableRipple(mixinDisabled(MatSlideToggleBase)), 'accent'));\n/**\n * Represents a slidable \"switch\" toggle that can be moved between on and off.\n */\nclass MatSlideToggle extends _MatSlideToggleMixinBase {\n    /**\n     * @param {?} elementRef\n     * @param {?} _focusMonitor\n     * @param {?} _changeDetectorRef\n     * @param {?} tabIndex\n     * @param {?} _ngZone\n     * @param {?} defaults\n     * @param {?=} _animationMode\n     * @param {?=} _dir\n     */\n    constructor(elementRef, _focusMonitor, _changeDetectorRef, tabIndex, \n    /**\n     * @deprecated `_ngZone` and `_dir` parameters to be removed.\n     * @breaking-change 10.0.0\n     */\n    _ngZone, defaults, _animationMode, _dir) {\n        super(elementRef);\n        this._focusMonitor = _focusMonitor;\n        this._changeDetectorRef = _changeDetectorRef;\n        this.defaults = defaults;\n        this._animationMode = _animationMode;\n        this._onChange = (/**\n         * @param {?} _\n         * @return {?}\n         */\n        (_) => { });\n        this._onTouched = (/**\n         * @return {?}\n         */\n        () => { });\n        this._uniqueId = `mat-slide-toggle-${++nextUniqueId}`;\n        this._required = false;\n        this._checked = false;\n        /**\n         * Name value will be applied to the input element if present.\n         */\n        this.name = null;\n        /**\n         * A unique id for the slide-toggle input. If none is supplied, it will be auto-generated.\n         */\n        this.id = this._uniqueId;\n        /**\n         * Whether the label should appear after or before the slide-toggle. Defaults to 'after'.\n         */\n        this.labelPosition = 'after';\n        /**\n         * Used to set the aria-label attribute on the underlying input element.\n         */\n        this.ariaLabel = null;\n        /**\n         * Used to set the aria-labelledby attribute on the underlying input element.\n         */\n        this.ariaLabelledby = null;\n        /**\n         * An event will be dispatched each time the slide-toggle changes its value.\n         */\n        this.change = new EventEmitter();\n        /**\n         * An event will be dispatched each time the slide-toggle input is toggled.\n         * This event is always emitted when the user toggles the slide toggle, but this does not mean\n         * the slide toggle's value has changed.\n         */\n        this.toggleChange = new EventEmitter();\n        /**\n         * An event will be dispatched each time the slide-toggle is dragged.\n         * This event is always emitted when the user drags the slide toggle to make a change greater\n         * than 50%. It does not mean the slide toggle's value is changed. The event is not emitted when\n         * the user toggles the slide toggle to change its value.\n         * @deprecated No longer being used. To be removed.\n         * \\@breaking-change 10.0.0\n         */\n        this.dragChange = new EventEmitter();\n        this.tabIndex = parseInt(tabIndex) || 0;\n    }\n    /**\n     * Whether the slide-toggle is required.\n     * @return {?}\n     */\n    get required() { return this._required; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set required(value) { this._required = coerceBooleanProperty(value); }\n    /**\n     * Whether the slide-toggle element is checked or not.\n     * @return {?}\n     */\n    get checked() { return this._checked; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set checked(value) {\n        this._checked = coerceBooleanProperty(value);\n        this._changeDetectorRef.markForCheck();\n    }\n    /**\n     * Returns the unique id for the visual hidden input.\n     * @return {?}\n     */\n    get inputId() { return `${this.id || this._uniqueId}-input`; }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        this._focusMonitor\n            .monitor(this._elementRef, true)\n            .subscribe((/**\n         * @param {?} focusOrigin\n         * @return {?}\n         */\n        focusOrigin => {\n            // Only forward focus manually when it was received programmatically or through the\n            // keyboard. We should not do this for mouse/touch focus for two reasons:\n            // 1. It can prevent clicks from landing in Chrome (see #18269).\n            // 2. They're already handled by the wrapping `label` element.\n            if (focusOrigin === 'keyboard' || focusOrigin === 'program') {\n                this._inputElement.nativeElement.focus();\n            }\n            else if (!focusOrigin) {\n                // When a focused element becomes disabled, the browser *immediately* fires a blur event.\n                // Angular does not expect events to be raised during change detection, so any state\n                // change (such as a form control's 'ng-touched') will cause a changed-after-checked\n                // error. See https://github.com/angular/angular/issues/17793. To work around this,\n                // we defer telling the form control it has been touched until the next tick.\n                Promise.resolve().then((/**\n                 * @return {?}\n                 */\n                () => this._onTouched()));\n            }\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this._focusMonitor.stopMonitoring(this._elementRef);\n    }\n    /**\n     * Method being called whenever the underlying input emits a change event.\n     * @param {?} event\n     * @return {?}\n     */\n    _onChangeEvent(event) {\n        // We always have to stop propagation on the change event.\n        // Otherwise the change event, from the input element, will bubble up and\n        // emit its event object to the component's `change` output.\n        event.stopPropagation();\n        this.toggleChange.emit();\n        // When the slide toggle's config disables toggle change event by setting\n        // `disableToggleValue: true`, the slide toggle's value does not change, and the\n        // checked state of the underlying input needs to be changed back.\n        if (this.defaults.disableToggleValue) {\n            this._inputElement.nativeElement.checked = this.checked;\n            return;\n        }\n        // Sync the value from the underlying input element with the component instance.\n        this.checked = this._inputElement.nativeElement.checked;\n        // Emit our custom change event only if the underlying input emitted one. This ensures that\n        // there is no change event, when the checked state changes programmatically.\n        this._emitChangeEvent();\n    }\n    /**\n     * Method being called whenever the slide-toggle has been clicked.\n     * @param {?} event\n     * @return {?}\n     */\n    _onInputClick(event) {\n        // We have to stop propagation for click events on the visual hidden input element.\n        // By default, when a user clicks on a label element, a generated click event will be\n        // dispatched on the associated input element. Since we are using a label element as our\n        // root container, the click event on the `slide-toggle` will be executed twice.\n        // The real click event will bubble up, and the generated click event also tries to bubble up.\n        // This will lead to multiple click events.\n        // Preventing bubbling for the second event will solve that issue.\n        event.stopPropagation();\n    }\n    /**\n     * Implemented as part of ControlValueAccessor.\n     * @param {?} value\n     * @return {?}\n     */\n    writeValue(value) {\n        this.checked = !!value;\n    }\n    /**\n     * Implemented as part of ControlValueAccessor.\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnChange(fn) {\n        this._onChange = fn;\n    }\n    /**\n     * Implemented as part of ControlValueAccessor.\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnTouched(fn) {\n        this._onTouched = fn;\n    }\n    /**\n     * Implemented as a part of ControlValueAccessor.\n     * @param {?} isDisabled\n     * @return {?}\n     */\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n        this._changeDetectorRef.markForCheck();\n    }\n    /**\n     * Focuses the slide-toggle.\n     * @param {?=} options\n     * @return {?}\n     */\n    focus(options) {\n        this._focusMonitor.focusVia(this._inputElement, 'keyboard', options);\n    }\n    /**\n     * Toggles the checked state of the slide-toggle.\n     * @return {?}\n     */\n    toggle() {\n        this.checked = !this.checked;\n        this._onChange(this.checked);\n    }\n    /**\n     * Emits a change event on the `change` output. Also notifies the FormControl about the change.\n     * @private\n     * @return {?}\n     */\n    _emitChangeEvent() {\n        this._onChange(this.checked);\n        this.change.emit(new MatSlideToggleChange(this, this.checked));\n    }\n    /**\n     * Method being called whenever the label text changes.\n     * @return {?}\n     */\n    _onLabelTextChange() {\n        // Since the event of the `cdkObserveContent` directive runs outside of the zone, the\n        // slide-toggle component will be only marked for check, but no actual change detection runs\n        // automatically. Instead of going back into the zone in order to trigger a change detection\n        // which causes *all* components to be checked (if explicitly marked or not using OnPush),\n        // we only trigger an explicit change detection for the slide-toggle view and its children.\n        this._changeDetectorRef.detectChanges();\n    }\n}\nMatSlideToggle.decorators = [\n    { type: Component, args: [{\n                selector: 'mat-slide-toggle',\n                exportAs: 'matSlideToggle',\n                host: {\n                    'class': 'mat-slide-toggle',\n                    '[id]': 'id',\n                    // Needs to be `-1` so it can still receive programmatic focus.\n                    '[attr.tabindex]': 'disabled ? null : -1',\n                    '[attr.aria-label]': 'null',\n                    '[attr.aria-labelledby]': 'null',\n                    '[class.mat-checked]': 'checked',\n                    '[class.mat-disabled]': 'disabled',\n                    '[class.mat-slide-toggle-label-before]': 'labelPosition == \"before\"',\n                    '[class._mat-animation-noopable]': '_animationMode === \"NoopAnimations\"',\n                },\n                template: \"<label [attr.for]=\\\"inputId\\\" class=\\\"mat-slide-toggle-label\\\" #label>\\n  <div #toggleBar class=\\\"mat-slide-toggle-bar\\\"\\n       [class.mat-slide-toggle-bar-no-side-margin]=\\\"!labelContent.textContent || !labelContent.textContent.trim()\\\">\\n\\n    <input #input class=\\\"mat-slide-toggle-input cdk-visually-hidden\\\" type=\\\"checkbox\\\"\\n           role=\\\"switch\\\"\\n           [id]=\\\"inputId\\\"\\n           [required]=\\\"required\\\"\\n           [tabIndex]=\\\"tabIndex\\\"\\n           [checked]=\\\"checked\\\"\\n           [disabled]=\\\"disabled\\\"\\n           [attr.name]=\\\"name\\\"\\n           [attr.aria-checked]=\\\"checked.toString()\\\"\\n           [attr.aria-label]=\\\"ariaLabel\\\"\\n           [attr.aria-labelledby]=\\\"ariaLabelledby\\\"\\n           (change)=\\\"_onChangeEvent($event)\\\"\\n           (click)=\\\"_onInputClick($event)\\\">\\n\\n    <div class=\\\"mat-slide-toggle-thumb-container\\\" #thumbContainer>\\n      <div class=\\\"mat-slide-toggle-thumb\\\"></div>\\n      <div class=\\\"mat-slide-toggle-ripple mat-focus-indicator\\\" mat-ripple\\n           [matRippleTrigger]=\\\"label\\\"\\n           [matRippleDisabled]=\\\"disableRipple || disabled\\\"\\n           [matRippleCentered]=\\\"true\\\"\\n           [matRippleRadius]=\\\"20\\\"\\n           [matRippleAnimation]=\\\"{enterDuration: 150}\\\">\\n\\n        <div class=\\\"mat-ripple-element mat-slide-toggle-persistent-ripple\\\"></div>\\n      </div>\\n    </div>\\n\\n  </div>\\n\\n  <span class=\\\"mat-slide-toggle-content\\\" #labelContent (cdkObserveContent)=\\\"_onLabelTextChange()\\\">\\n    <!-- Add an invisible span so JAWS can read the label -->\\n    <span style=\\\"display:none\\\">&nbsp;</span>\\n    <ng-content></ng-content>\\n  </span>\\n</label>\\n\",\n                providers: [MAT_SLIDE_TOGGLE_VALUE_ACCESSOR],\n                inputs: ['disabled', 'disableRipple', 'color', 'tabIndex'],\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\\n\"]\n            }] }\n];\n/** @nocollapse */\nMatSlideToggle.ctorParameters = () => [\n    { type: ElementRef },\n    { type: FocusMonitor },\n    { type: ChangeDetectorRef },\n    { type: String, decorators: [{ type: Attribute, args: ['tabindex',] }] },\n    { type: NgZone },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS,] }] },\n    { type: String, decorators: [{ type: Optional }, { type: Inject, args: [ANIMATION_MODULE_TYPE,] }] },\n    { type: Directionality, decorators: [{ type: Optional }] }\n];\nMatSlideToggle.propDecorators = {\n    _thumbEl: [{ type: ViewChild, args: ['thumbContainer',] }],\n    _thumbBarEl: [{ type: ViewChild, args: ['toggleBar',] }],\n    name: [{ type: Input }],\n    id: [{ type: Input }],\n    labelPosition: [{ type: Input }],\n    ariaLabel: [{ type: Input, args: ['aria-label',] }],\n    ariaLabelledby: [{ type: Input, args: ['aria-labelledby',] }],\n    required: [{ type: Input }],\n    checked: [{ type: Input }],\n    change: [{ type: Output }],\n    toggleChange: [{ type: Output }],\n    dragChange: [{ type: Output }],\n    _inputElement: [{ type: ViewChild, args: ['input',] }]\n};\nif (false) {\n    /** @type {?} */\n    MatSlideToggle.ngAcceptInputType_required;\n    /** @type {?} */\n    MatSlideToggle.ngAcceptInputType_checked;\n    /** @type {?} */\n    MatSlideToggle.ngAcceptInputType_disabled;\n    /** @type {?} */\n    MatSlideToggle.ngAcceptInputType_disableRipple;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSlideToggle.prototype._onChange;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSlideToggle.prototype._onTouched;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSlideToggle.prototype._uniqueId;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSlideToggle.prototype._required;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSlideToggle.prototype._checked;\n    /**\n     * Reference to the thumb HTMLElement.\n     * @type {?}\n     */\n    MatSlideToggle.prototype._thumbEl;\n    /**\n     * Reference to the thumb bar HTMLElement.\n     * @type {?}\n     */\n    MatSlideToggle.prototype._thumbBarEl;\n    /**\n     * Name value will be applied to the input element if present.\n     * @type {?}\n     */\n    MatSlideToggle.prototype.name;\n    /**\n     * A unique id for the slide-toggle input. If none is supplied, it will be auto-generated.\n     * @type {?}\n     */\n    MatSlideToggle.prototype.id;\n    /**\n     * Whether the label should appear after or before the slide-toggle. Defaults to 'after'.\n     * @type {?}\n     */\n    MatSlideToggle.prototype.labelPosition;\n    /**\n     * Used to set the aria-label attribute on the underlying input element.\n     * @type {?}\n     */\n    MatSlideToggle.prototype.ariaLabel;\n    /**\n     * Used to set the aria-labelledby attribute on the underlying input element.\n     * @type {?}\n     */\n    MatSlideToggle.prototype.ariaLabelledby;\n    /**\n     * An event will be dispatched each time the slide-toggle changes its value.\n     * @type {?}\n     */\n    MatSlideToggle.prototype.change;\n    /**\n     * An event will be dispatched each time the slide-toggle input is toggled.\n     * This event is always emitted when the user toggles the slide toggle, but this does not mean\n     * the slide toggle's value has changed.\n     * @type {?}\n     */\n    MatSlideToggle.prototype.toggleChange;\n    /**\n     * An event will be dispatched each time the slide-toggle is dragged.\n     * This event is always emitted when the user drags the slide toggle to make a change greater\n     * than 50%. It does not mean the slide toggle's value is changed. The event is not emitted when\n     * the user toggles the slide toggle to change its value.\n     * @deprecated No longer being used. To be removed.\n     * \\@breaking-change 10.0.0\n     * @type {?}\n     */\n    MatSlideToggle.prototype.dragChange;\n    /**\n     * Reference to the underlying input element.\n     * @type {?}\n     */\n    MatSlideToggle.prototype._inputElement;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSlideToggle.prototype._focusMonitor;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatSlideToggle.prototype._changeDetectorRef;\n    /** @type {?} */\n    MatSlideToggle.prototype.defaults;\n    /** @type {?} */\n    MatSlideToggle.prototype._animationMode;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/slide-toggle/slide-toggle-required-validator.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst MAT_SLIDE_TOGGLE_REQUIRED_VALIDATOR = {\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef((/**\n     * @return {?}\n     */\n    () => MatSlideToggleRequiredValidator)),\n    multi: true\n};\n/**\n * Validator for Material slide-toggle components with the required attribute in a\n * template-driven form. The default validator for required form controls asserts\n * that the control value is not undefined but that is not appropriate for a slide-toggle\n * where the value is always defined.\n *\n * Required slide-toggle form controls are valid when checked.\n */\nclass MatSlideToggleRequiredValidator extends CheckboxRequiredValidator {\n}\nMatSlideToggleRequiredValidator.decorators = [\n    { type: Directive, args: [{\n                selector: `mat-slide-toggle[required][formControlName],\n             mat-slide-toggle[required][formControl], mat-slide-toggle[required][ngModel]`,\n                providers: [MAT_SLIDE_TOGGLE_REQUIRED_VALIDATOR],\n            },] }\n];\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/slide-toggle/slide-toggle-module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * This module is used by both original and MDC-based slide-toggle implementations.\n */\n// tslint:disable-next-line:class-name\nclass _MatSlideToggleRequiredValidatorModule {\n}\n_MatSlideToggleRequiredValidatorModule.decorators = [\n    { type: NgModule, args: [{\n                exports: [MatSlideToggleRequiredValidator],\n                declarations: [MatSlideToggleRequiredValidator],\n            },] }\n];\nclass MatSlideToggleModule {\n}\nMatSlideToggleModule.decorators = [\n    { type: NgModule, args: [{\n                imports: [\n                    _MatSlideToggleRequiredValidatorModule,\n                    MatRippleModule,\n                    MatCommonModule,\n                    ObserversModule,\n                ],\n                exports: [\n                    _MatSlideToggleRequiredValidatorModule,\n                    MatSlideToggle,\n                    MatCommonModule\n                ],\n                declarations: [MatSlideToggle],\n            },] }\n];\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/slide-toggle/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS, MAT_SLIDE_TOGGLE_REQUIRED_VALIDATOR, MAT_SLIDE_TOGGLE_VALUE_ACCESSOR, MatSlideToggle, MatSlideToggleChange, MatSlideToggleModule, MatSlideToggleRequiredValidator, _MatSlideToggleRequiredValidatorModule };\n//# sourceMappingURL=slide-toggle.js.map\n","import { Component } from '@angular/core';\r\nimport {\r\n  NgModule,\r\n  OnInit,\r\n  ViewChildren,\r\n  ViewChild,\r\n  QueryList,\r\n  ViewContainerRef,\r\n  ComponentFactoryResolver,\r\n} from '@angular/core';\r\n\r\nimport { BarChartSimpleComponent } from 'src/app/bar-chart-simple/bar-chart-simple.component';\r\nimport { BarChartComponent } from 'src/app/bar-chart/bar-chart.component';\r\nimport { PieChartComponent } from 'src/app/pie-chart/pie-chart.component';\r\nimport { RadialChartComponent } from 'src/app/radial-chart/radial-chart.component';\r\nimport { ImageEdificioComponent } from '../../../image-edificio/image-edificio.component';\r\n\r\nimport { GraficasTercerSeccionComponent } from '../../component/graficas-tercer-seccion/graficas-tercer-seccion.component';\r\nimport { ProjectsService } from './../../../core/services/projects/projects.service';\r\nimport { MaterialsService } from './../../../core/services/materials/materials.service';\r\nimport { AnalisisService } from './../../../core/services/analisis/analisis.service';\r\nimport { forkJoin } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport {\r\n  animate,\r\n  state,\r\n  style,\r\n  transition,\r\n  trigger,\r\n} from '@angular/animations';\r\nimport { Calculos } from '../../../calculos/calculos';\r\nimport { CalculosSegundaSeccion } from 'src/app/calculos/calculos-segunda-seccion';\r\nimport { CalculosTercerSeccion } from 'src/app/calculos/calculos-tercer-seccion';\r\nimport { UserService } from 'src/app/core/services/user/user.service';\r\nimport { createThis } from 'typescript';\r\n\r\n@Component({\r\n  selector: 'app-comparar',\r\n  templateUrl: './comparar.component.html',\r\n  styleUrls: ['./comparar.component.scss', './styleSU.scss', './styleSD.scss','./styleST.scss'],\r\n  animations: [\r\n    trigger('detailExpand', [\r\n      state('collapsed', style({ height: '0px', minHeight: '0' })),\r\n      state('expanded', style({ height: '*' })),\r\n      transition(\r\n        'expanded <=> collapsed',\r\n        animate('225ms cubic-bezier(0.4, 0.0, 0.2, 1)')\r\n      ),\r\n    ]),\r\n  ],\r\n})\r\n@NgModule({\r\n  entryComponents: [\r\n    BarChartComponent,\r\n    RadialChartComponent,\r\n    PieChartComponent,\r\n    BarChartSimpleComponent,\r\n    GraficasTercerSeccionComponent,\r\n    ImageEdificioComponent\r\n  ],\r\n})\r\nexport class CompararComponent implements OnInit {\r\n  barChartComponent = BarChartComponent;\r\n  radialChart = RadialChartComponent;\r\n  pieChart = PieChartComponent;\r\n  barChartSimpleComponent = BarChartSimpleComponent;\r\n  graficasTercerSeccionComponent = GraficasTercerSeccionComponent;\r\n  ImgEdificioComponent = ImageEdificioComponent;\r\n\r\n  @ViewChild('barContainer', { read: ViewContainerRef })\r\n  container: ViewContainerRef;\r\n  @ViewChild('barGraphDos', { read: ViewContainerRef })\r\n  containerBarGrafica: ViewContainerRef;\r\n  @ViewChild('barGraphTres', { read: ViewContainerRef })\r\n  containerGraficaT: ViewContainerRef;\r\n  @ViewChild('GraficasEspecificas', { read: ViewContainerRef })\r\n  containerGraficas: ViewContainerRef;\r\n  @ViewChild('GraficasEspecificasDos', { read: ViewContainerRef })\r\n  containerGraficasDos: ViewContainerRef;\r\n  @ViewChild('elementosCicloConteiner', { read: ViewContainerRef })\r\n  containerElementosCiclo: ViewContainerRef;\r\n  @ViewChild('dispercionImpactoConteiner', { read: ViewContainerRef })\r\n  containerDispercionImpacto: ViewContainerRef;\r\n  @ViewChild('imgEdificio', { read: ViewContainerRef })\r\n  containerImgEdificio: ViewContainerRef;\r\n\r\n  @ViewChildren(BarChartComponent)\r\n  childBar: QueryList<BarChartComponent>;\r\n  @ViewChildren(PieChartComponent)\r\n  childPie: QueryList<PieChartComponent>;\r\n  @ViewChildren(RadialChartComponent)\r\n  childRadar: QueryList<RadialChartComponent>;\r\n  @ViewChildren(BarChartSimpleComponent)\r\n  childBarSimple: QueryList<BarChartSimpleComponent>;\r\n  selector = 'Ninguno';\r\n  bandera: number;\r\n  showVar: boolean = false;\r\n  showVar_1: boolean = false;\r\n  ID: string = ' ';\r\n  proyecto = { nombre: ' ', num_epic: 0, num_epd: 0 };\r\n  banderaGrapg: number = 0;\r\n  proyect = [];\r\n  proyect_active = [];\r\n  inputproyect_bar_porcent: any;\r\n  outproyect_bar = [];\r\n  outproyect_radar = [];\r\n  outproyect_pie = [];\r\n  outproyect_bar_elementos = [];\r\n  outproyect_pie_bar_elementos = [];\r\n  indicador_impacto: string;\r\n  hover: boolean = true;\r\n  bandera_porcentaje: boolean = true;\r\n  bandera_num: boolean = false;\r\n  Impactos_menu = [];\r\n  indicador_elegido: boolean = false;\r\n  bandera_resultado: number = 0;\r\n  show_elementos: boolean = true;\r\n  Impactos_ambientales: boolean = true;\r\n  Impactos_Elementos: boolean = false;\r\n  Elementos_constructivos: boolean = false;\r\n  show_Dispercion: boolean = false;\r\n  selectedValue: string;\r\n  seleccion_columna: any;\r\n  delete_fase: boolean = true;\r\n  bandera_por_metro: boolean = false;\r\n  projectsList: any;\r\n  materialList: [];\r\n  materialSchemeDataList: [];\r\n  materialSchemeProyectList: [];\r\n  potentialTypesList: any;\r\n  standarsList: [];\r\n  CSEList: [];\r\n  SIDList: [];\r\n  SIList: [];\r\n  ACRList: [];\r\n  ECDList: [];\r\n  TEDList: [];\r\n  TEList: [];\r\n  ULList: [];\r\n  ECDPList: [];\r\n  sectionList: [];\r\n  materiales: [];\r\n  PTList: [];\r\n  DBList = [];\r\n  conversionList: [];\r\n  click_anterior: 'Ninguno';\r\n  labelPosition: 'porcentaje' | 'numero' = 'porcentaje';\r\n  proyectosMostrados_elementos = [];\r\n  bandera_graph_bar = false;\r\n  botones_elementos_constructivos = [];\r\n  impacto_seleccionado = ' ';\r\n  serie_Seleccionada: string;\r\n  bandera_serie_Seleccionada: boolean = false;\r\n  resultdosGraficos: boolean = true;\r\n  resultdosTabla: boolean = false;\r\n  DatosTabla = [];\r\n  classBotones = 'boton-principal';\r\n  fasesEliminadas = [];\r\n  elementosContructivosEliminados = [];\r\n  elementosContructivosEliminadosElementos = [];\r\n  elementoContructivoSelecionado = ' ';\r\n  iconosElementosConstrucivos = {};\r\n  proyectosMostrados = [];\r\n  idsIconosElementos = {};\r\n  cargaElementos = false;\r\n  imgSeleccionadaElemento = ' ';\r\n  nombreProyectoElegidoSeleccionadoElementos = ' ';\r\n  elementoSeleccionadoMostrado = ' ';\r\n  impactoSeleccionadoElementoConstructivo = ' ';\r\n  iconos = {\r\n    Producción: 'visibility',\r\n    Construccion: 'visibility',\r\n    Uso: 'visibility',\r\n    FinDeVida: 'visibility',\r\n  };\r\n  iconosCambioElementos = {\r\n    Producción: 'visibility',\r\n    Construccion: 'visibility',\r\n    Uso: 'visibility',\r\n    FinDeVida: 'visibility',\r\n  };\r\n  ciclosDeVidaIgnoradasElementos = [];\r\n  idsImgEdificios = [];\r\n  idProyectoSeleccionadoImagen = ' ';\r\n  banderaTipoGraficaDispercion = true;\r\n  infoTablaDispercion = [];\r\n  displayedColumnsDispercion: string[] = [\r\n    'no',\r\n    'material',\r\n    'porcentaje',\r\n    'numero',\r\n  ];\r\n  colorGraficaDispercion = ' ';\r\n  nivelesExistententesElementosConstructivos = [];\r\n  coloresExistententesElementosConstructivos = [];\r\n  impactoSeleccionadoElementoConstructivoGrafica = null;\r\n  banderaAjusteElememtos = false;\r\n  catologoImpactoAmbiental = [];\r\n  elementosConstructivosMostradosElementos = {};\r\n  elementosConstructivosMostradosElementosPorProyecto = {};\r\n  cicloVidaSeleccionadoElemento = ' ';\r\n  flagMaterialesDispercion = true;\r\n  flagSinMaterialesDispercion = false;\r\n  estadoTercerSeccion = {};\r\n  unidadImpactoAmientalTabla = '';\r\n  idsImpactosAmbientales = {};\r\n  //basesDatos={'EDPs':true,'EPic':false,'MEX':false}\r\n  basesDatos = {};\r\n  toppingList: string[] = [\r\n    'Extra cheese',\r\n    'Mushroom',\r\n    'Onion',\r\n    'Pepperoni',\r\n    'Sausage',\r\n    'Tomato',\r\n  ];\r\n\r\n  // vars analisis\r\n  idProyectoActivo: number;\r\n  botones_grafica_activos: boolean = false;\r\n  columnsToDisplay = [];\r\n  impactoAmbientalSeleccionado: string;\r\n\r\n  constructor(\r\n    private materials: MaterialsService,\r\n    private projects: ProjectsService,\r\n    private analisis: AnalisisService,\r\n    private router: Router,\r\n    private users: UserService,\r\n    private calculos: Calculos,\r\n    private calculosSegunaSeccion: CalculosSegundaSeccion,\r\n    private calculosTercerSeccion: CalculosTercerSeccion,\r\n    private componentFactoryResolver: ComponentFactoryResolver\r\n  ) {\r\n    this.users\r\n      .searchUser(localStorage.getItem('email-login'))\r\n      .subscribe((data) => {\r\n        localStorage.setItem('email-id', data[0].id);\r\n        this.projectsList = [];\r\n        this.projects.getProjects().subscribe((data) => {\r\n          data.map((item) => {\r\n            if (\r\n              item.user_platform_id ===\r\n              parseInt(localStorage.getItem('email-id'), 10)\r\n            ) {\r\n              this.projectsList.push(item);\r\n            }\r\n          });\r\n        });\r\n      });\r\n    forkJoin([\r\n      this.analisis.getTypeEnergy(),\r\n      this.materials.getMaterials(),\r\n      this.analisis.getMaterialSchemeData(),\r\n      this.analisis.getMaterialSchemeProyect(),\r\n      this.analisis.getPotentialTypes(),\r\n      this.analisis.getStandars(),\r\n      this.analisis.getConstructiveSystemElement(),\r\n      this.analisis.getSourceInformationData(),\r\n      this.analisis.getSourceInformation(),\r\n      this.analisis.getAnnualConsumptionRequired(),\r\n      this.analisis.getElectricityConsumptionData(),\r\n      this.analisis.getTypeEnergyData(),\r\n      this.analisis.getUsefulLife(),\r\n      this.analisis.getECDP(),\r\n      this.analisis.getSectionsList(),\r\n      this.analisis.getMaterials(),\r\n      this.analisis.getPotentialTransport(),\r\n      this.analisis.getConversion(),\r\n      this.analisis.getDB(),\r\n    ]).subscribe(\r\n      ([\r\n        TE,\r\n        materialData,\r\n        materialSchemeData,\r\n        materialSchemeProyect,\r\n        potentialTypes,\r\n        standards,\r\n        CSE,\r\n        SID,\r\n        SI,\r\n        ACR,\r\n        ECD,\r\n        TED,\r\n        UL,\r\n        ECDP,\r\n        sectionsList,\r\n        materiales,\r\n        PT,\r\n        conversions,\r\n        DB,\r\n      ]) => {\r\n        this.materialList = materialData;\r\n        this.materialSchemeDataList = materialSchemeData;\r\n        this.materialSchemeProyectList = materialSchemeProyect;\r\n        this.potentialTypesList = potentialTypes;\r\n        let aux = this.calculos.FiltradoDeImpactos(potentialTypes);\r\n        this.catologoImpactoAmbiental = aux;\r\n        this.llenarIdsBotonesImpactos(aux);\r\n        this.selectedValue =\r\n          this.catologoImpactoAmbiental[0]['name_complete_potential_type'];\r\n        this.impactoAmbientalSeleccionado = this.calculos.ajustarNombre(\r\n          this.catologoImpactoAmbiental[0]['name_complete_potential_type']\r\n        );\r\n        this.standarsList = standards;\r\n        this.CSEList = CSE;\r\n        this.SIDList = SID;\r\n        this.SIList = SI;\r\n        this.ACRList = ACR;\r\n        this.ECDList = ECD;\r\n        this.TEDList = TED;\r\n        this.TEList = TE;\r\n        this.ULList = UL;\r\n        this.ECDPList = ECDP;\r\n        this.sectionList = sectionsList;\r\n        this.materiales = materiales;\r\n        this.PTList = PT;\r\n        this.conversionList = conversions;\r\n        this.botones_elementos_constructivos = sectionsList;\r\n        this.BDInicio(DB);\r\n        this.llenarIdsBotones(sectionsList);\r\n        this.idProyectoActivo = parseInt(sessionStorage.getItem('projectID'));\r\n        this.columnsToDisplay = this.calculos.ImpactosSeleccionados(\r\n          this.potentialTypesList\r\n        );\r\n        this.menu_inicio();\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  //Regreso a la página de inicio\r\n  returnHome() {\r\n    this.router.navigateByUrl('home-evamed');\r\n  }\r\n\r\n  //ids Necesarios para modificar en html\r\n  llenarIdsBotonesImpactos(catalogo) {\r\n    this.idsImpactosAmbientales = { idsCiclo: [], idsElementos: [] };\r\n    catalogo.forEach((impacto) => {\r\n      let auxIDCiclo = impacto['id'].toString().concat('LineaImpactoCiclo');\r\n      let auxIDElementos = impacto['id']\r\n        .toString()\r\n        .concat('LineaImpactoElememtos');\r\n      this.idsImpactosAmbientales['idsCiclo'].push(auxIDCiclo);\r\n      this.idsImpactosAmbientales['idsElementos'].push(auxIDElementos);\r\n      //this.idsImpactosAmbientales['respuesta'].push(impacto['id'])\r\n    });\r\n  }\r\n\r\n  //inicio de Base de datos que se consideran para los calculos\r\n  BDInicio(listaBD) {\r\n    this.DBList = [];\r\n    this.basesDatos = {};\r\n    listaBD.forEach((element) => {\r\n      this.DBList.push(element['name']);\r\n      this.basesDatos[element['name']] = false;\r\n    });\r\n  }\r\n\r\n  //eliminar fase de ciclo de visa y redistribución;\r\n  ajusteDeGraficaFASE(fase: string) {\r\n    if (this.fasesEliminadas.includes(fase)) {\r\n      this.fasesEliminadas.forEach((element, index) => {\r\n        if (element == fase) {\r\n          this.fasesEliminadas.splice(index, 1);\r\n          document.getElementById(fase.concat('Ojo')).className = 'boton-icono';\r\n          this.iconos[fase] = 'visibility';\r\n        }\r\n      });\r\n    } else {\r\n      this.iconos[fase] = 'visibility_off';\r\n      document.getElementById(fase.concat('Ojo')).className =\r\n        'boton-ojito-select';\r\n      this.fasesEliminadas.push(fase);\r\n    }\r\n    this.outproyect_bar = [];\r\n    this.proyect_active.forEach((element) => {\r\n      let data = this.llamarCalculos(element);\r\n      let analisis = this.getAnalisisBarras(element, data);\r\n      this.outproyect_bar.push(analisis);\r\n    });\r\n    this.fasesEliminadas.forEach((value) => {\r\n      this.outproyect_bar.forEach((proyecto, index) => {\r\n        let indicadores = Object.keys(proyecto.Datos);\r\n        indicadores.forEach((element) => {\r\n          delete this.outproyect_bar[index].Datos[element][value];\r\n        });\r\n      });\r\n    });\r\n    if (this.resultdosGraficos) {\r\n      this.iniciaBarras();\r\n    } else {\r\n      this.TablaResultados();\r\n    }\r\n  }\r\n\r\n  //agregar proyecto a graficas\r\n\r\n  iniciar_graficas(id: number) {\r\n    if (this.proyect_active.some((item) => item == id)) {\r\n      return;\r\n    }\r\n    this.proyect_active.push(id);\r\n    this.idsImgEdificios.push(id.toString().concat('imagen'));\r\n\r\n    if (this.proyect_active.length > 1) {\r\n      this.banderaAjusteElememtos = true;\r\n    }\r\n\r\n    let data = this.llamarCalculos(id);\r\n\r\n    let analisis = this.getAnalisisBarras(id, data);\r\n    let analisisRad = this.getAnalisisRadial(id, data);\r\n    let analisisPie = this.getAnalisisPie(id, data);\r\n    let analisisBarDos = this.getAnalisisBarrasElementosConstructivos(id);\r\n    let analisisPieBarDos = this.getAnalisisPieBarSegunaSeccion(id);\r\n    let analisisPieTres = this.getAnalisisElementos(id);\r\n\r\n    this.proyect.forEach((proyecto, index) => {\r\n      if (proyecto.id == id && proyecto.id != this.idProyectoActivo) {\r\n        this.proyect[index].num_epic = this.calculos.materiales_EPIC;\r\n        this.proyect[index].num_epd = this.calculos.materiales_EPD;\r\n        this.proyect[index].card = true;\r\n        this.proyectosMostrados = [\r\n          ...this.proyectosMostrados,\r\n          {\r\n            num: this.proyect_active.length,\r\n            Nombre: this.proyect[index].Nombre,\r\n            id: this.proyect[index].id,\r\n          },\r\n        ];\r\n      }\r\n    });\r\n\r\n    this.banderaAjusteElememtos = false;\r\n    this.outproyect_bar.push(analisis);\r\n    this.outproyect_radar.push(analisisRad);\r\n    this.outproyect_pie.push(analisisPie);\r\n    this.outproyect_bar_elementos.push(analisisBarDos);\r\n    this.outproyect_pie_bar_elementos.push(analisisPieBarDos);\r\n\r\n    if(this.Impactos_ambientales){\r\n      //elementos de la dección 1\r\n      if (this.ID != ' ') {\r\n        document.getElementById(this.ID).className = 'boton-principal';\r\n      }\r\n    }\r\n    if (this.resultdosTabla) {\r\n      this.TablaResultados();\r\n    } else {\r\n      this.iniciaBarras();\r\n    }\r\n    if (this.Impactos_Elementos) {\r\n      //elementos de la sección 2\r\n      this.iniciaBarrasSeccionDos();\r\n      if(this.imgSeleccionadaElemento!=' '){\r\n        this.DispercionAP(this.imgSeleccionadaElemento,' ');\r\n      }\r\n      Object.keys(this.iconosElementosConstrucivos).forEach(element => {\r\n        if(this.iconosElementosConstrucivos[element]['habilitado'] === false){\r\n          document.getElementById(this.idsIconosElementos[element]['idTEXTO']).className = 'espacio-sin-selecciomar';\r\n        }\r\n      })\r\n      this.catologoImpactoAmbiental.forEach((impacto) => {\r\n        let auxID = impacto['id'].toString().concat('LineaImpactoElememtos');\r\n        let elementosflag = document.getElementById(auxID);\r\n        if (elementosflag != null) {\r\n          elementosflag.className = 'dot';\r\n        }\r\n      });\r\n      this.graficabar(null);\r\n    }\r\n    this.containerGraficas.clear();\r\n    this.receiveSelector(null);\r\n    this.banderaGrapg == 0;\r\n\r\n    this.proyectosMostrados_elementos = [\r\n      ...this.proyectosMostrados_elementos,\r\n      {\r\n        idproyecto: id,\r\n        nombre: analisis.Nombre,\r\n        data: analisisPieTres,\r\n      },\r\n    ];\r\n    this.estadoTercerSeccion[id] = {\r\n      agruparProduccion: false,\r\n      cicloSeleccionado: ' ',\r\n      flagPie: true,\r\n      fragBar: false,\r\n    };\r\n    \r\n    if (this.Elementos_constructivos) {\r\n      this.iniciarSeccionTres();\r\n    }\r\n    this.showVar = false;\r\n    this.showVar_1 = false;\r\n    this.banderaGrapg = 0;\r\n    return;\r\n  }\r\n\r\n  iniciaBarras() {\r\n    if (this.resultdosGraficos) {\r\n      this.container.clear();\r\n      const componentFactory =\r\n        this.componentFactoryResolver.resolveComponentFactory(\r\n          this.barChartComponent\r\n        );\r\n      const grafica = this.container.createComponent(componentFactory);\r\n      grafica.instance.porcentaje = this.bandera_porcentaje;\r\n      grafica.instance.inputProyects = this.outproyect_bar;\r\n      grafica.instance.showMe = true;\r\n      grafica.instance.Bandera_bar = false;\r\n      grafica.instance.Columna_seleccionada = this.selector;\r\n      grafica.instance.banera_enfoqueSerie_externo =\r\n        this.bandera_serie_Seleccionada;\r\n      grafica.instance.serie_input = this.serie_Seleccionada;\r\n      grafica.instance.impactos = this.potentialTypesList;\r\n      grafica.instance.lastClickEvent.subscribe((e) => this.receiveSelector(e));\r\n    }\r\n  }\r\n\r\n  iniciarImgEdificio(){\r\n    this.containerImgEdificio.clear();\r\n    let componentFactory = this.componentFactoryResolver.resolveComponentFactory(\r\n      this.ImgEdificioComponent,\r\n    )\r\n    let containers = {}\r\n    this.proyect_active.forEach((proyecto, index) => {\r\n      //console.log(this.elementosConstructivosMostradosElementosPorProyecto[proyecto]);\r\n      let auxN = 'imgEdificio'.concat(proyecto);\r\n      containers[auxN] = this.containerImgEdificio.createComponent(componentFactory);\r\n      containers[auxN].instance.inputPtoyect = this.coloresExistententesElementosConstructivos;\r\n      containers[auxN].instance.elementoSeleccionado = this.elementoContructivoSelecionado;\r\n      containers[auxN].instance.niveles = this.nivelesExistententesElementosConstructivos;\r\n      containers[auxN].instance.idImg = this.idsImgEdificios[index];\r\n      containers[auxN].instance.idP = this.proyect_active[index];\r\n      containers[auxN].instance.impactoSeleccionado = this.impactoSeleccionadoElementoConstructivoGrafica;\r\n      containers[auxN].instance.nivelesProyect = this.elementosConstructivosMostradosElementosPorProyecto[proyecto];\r\n      containers[auxN].instance.seleccion.subscribe((e) => this.recepcionAP(e));\r\n    })\r\n    /**\r\n     const imgEdificioC = this.containerImgEdificio.createComponent(componentFactory);\r\n     imgEdificioC.instance.inputPtoyect = this.coloresExistententesElementosConstructivos;\r\n     imgEdificioC.instance.elementoSeleccionado = this.elementoContructivoSelecionado;\r\n     imgEdificioC.instance.niveles = this.nivelesExistententesElementosConstructivos;\r\n     imgEdificioC.instance.idImg = this.idsImgEdificios[0];\r\n     imgEdificioC.instance.idP = this.proyect_active[0];\r\n     imgEdificioC.instance.impactoSeleccionado = this.impactoSeleccionadoElementoConstructivoGrafica;\r\n     imgEdificioC.instance.seleccion.subscribe((e) => this.recepcionAP(e));\r\n     */\r\n    //const imfEdificioCDOS = this.containerImgEdificio.createComponent(componentFactory);\r\n    //imfEdificioCDOS.instance.inputPtoyect = 2;\r\n\r\n  }\r\n\r\n  //creación de gráfica de barras para la sección de impactos ambientales por\r\n  //elementos onstructivos\r\n  iniciaBarrasSeccionDos() {\r\n    this.containerBarGrafica.clear();\r\n    const componentFactory =\r\n      this.componentFactoryResolver.resolveComponentFactory(\r\n        this.barChartComponent\r\n      );\r\n    const grafica = this.containerBarGrafica.createComponent(componentFactory);\r\n    grafica.instance.inputProyects = this.outproyect_bar_elementos;\r\n    grafica.instance.showMe = false;\r\n    grafica.instance.Bandera_bar = this.bandera_graph_bar;\r\n    grafica.instance.porcentaje = true;\r\n    grafica.instance.elementoConstructivo = this.elementoContructivoSelecionado;\r\n    grafica.instance.impactoAmbiental =\r\n      this.impactoSeleccionadoElementoConstructivoGrafica;\r\n    grafica.instance.ClickEvent.subscribe((e) => this.receiveSelectorDos(e));\r\n  }\r\n\r\n  iniciarSeccionTres() {\r\n    this.containerGraficaT.clear();\r\n    const componentFactory =\r\n      this.componentFactoryResolver.resolveComponentFactory(\r\n        this.graficasTercerSeccionComponent\r\n      );\r\n    const grafica = this.containerGraficaT.createComponent(componentFactory);\r\n    grafica.instance.impactoAmbientalMostrado =\r\n      this.impactoAmbientalSeleccionado;\r\n    grafica.instance.ElementosContructivosEliminados =\r\n      this.elementosContructivosEliminadosElementos;\r\n    grafica.instance.FaseSeleccionada = this.cicloVidaSeleccionadoElemento;\r\n    grafica.instance.FasesEliminadas = this.ciclosDeVidaIgnoradasElementos;\r\n    grafica.instance.inputProyect = this.proyectosMostrados_elementos;\r\n    grafica.instance.materiales = this.materialList;\r\n    grafica.instance.Secciones = this.sectionList;\r\n    grafica.instance.EstadoSeccion = this.estadoTercerSeccion;\r\n    grafica.instance.unidades = this.potentialTypesList;\r\n    grafica.instance.CambioEstadoTercerSeccion.subscribe((e) =>\r\n      this.cambioEstadoTercerSección(e)\r\n    );\r\n  }\r\n\r\n  iniciaRadiales() {\r\n    this.containerGraficas.clear();\r\n    const componentFactory =\r\n      this.componentFactoryResolver.resolveComponentFactory(this.radialChart);\r\n    const grafica = this.containerGraficas.createComponent(componentFactory);\r\n    grafica.instance.inputProyect = this.outproyect_radar;\r\n    grafica.instance.showMe = this.showVar_1;\r\n    grafica.instance.id = this.ID;\r\n    grafica.instance.impactos = this.potentialTypesList;\r\n  }\r\n  iniciaPie() {\r\n    this.containerGraficas.clear();\r\n    const componentFactory =\r\n      this.componentFactoryResolver.resolveComponentFactory(this.pieChart);\r\n    const grafica = this.containerGraficas.createComponent(componentFactory);\r\n    grafica.instance.inputProyect = this.outproyect_pie;\r\n    grafica.instance.showMePartially = this.showVar;\r\n    grafica.instance.indicador = this.selector;\r\n    grafica.instance.id = this.ID;\r\n    grafica.instance.Bandera_resultado = 2;\r\n    grafica.instance.unidades = this.potentialTypesList;\r\n  }\r\n\r\n  llamarCalculosTercerSeccion(idProyecto) {\r\n    let DatosCalculos = {\r\n      TEList: this.TEList,\r\n      projectsList: this.projectsList,\r\n      materialList: this.materialList,\r\n      materialSchemeDataList: this.materialSchemeDataList,\r\n      materialSchemeProyectList: this.materialSchemeProyectList,\r\n      potentialTypesList: this.potentialTypesList,\r\n      standarsList: this.standarsList,\r\n      CSEList: this.CSEList,\r\n      SIDList: this.SIDList,\r\n      SIList: this.SIList,\r\n      ACRList: this.ACRList,\r\n      ECDList: this.ECDList,\r\n      TEDList: this.TEDList,\r\n      ULList: this.ULList,\r\n      ECDPList: this.ECDPList,\r\n      sectionList: this.sectionList,\r\n      PTList: this.PTList,\r\n      conversionList: this.conversionList,\r\n    };\r\n    let aux =\r\n      this.calculosTercerSeccion.OperacionesDeFasePorElementoConstructivoCicloVida(\r\n        idProyecto,\r\n        DatosCalculos,\r\n        this.basesDatos\r\n      );\r\n    //console.log(aux)\r\n    return aux;\r\n  }\r\n\r\n  getAnalisisElementos(idProyecto) {\r\n    return this.llamarCalculosTercerSeccion(idProyecto);\r\n  }\r\n\r\n  llamarCalculos(idProyecto) {\r\n    let DatosCalculos = {\r\n      TEList: this.TEList,\r\n      projectsList: this.projectsList,\r\n      materialList: this.materialList,\r\n      materialSchemeDataList: this.materialSchemeDataList,\r\n      materialSchemeProyectList: this.materialSchemeProyectList,\r\n      potentialTypesList: this.potentialTypesList,\r\n      standarsList: this.standarsList,\r\n      CSEList: this.CSEList,\r\n      SIDList: this.SIDList,\r\n      SIList: this.SIList,\r\n      ACRList: this.ACRList,\r\n      ECDList: this.ECDList,\r\n      TEDList: this.TEDList,\r\n      ULList: this.ULList,\r\n      ECDPList: this.ECDPList,\r\n      sectionList: this.sectionList,\r\n      PTList: this.PTList,\r\n      conversionList: this.conversionList,\r\n    };\r\n\r\n    let auxdata = this.calculos.OperacionesDeFase(\r\n      idProyecto,\r\n      DatosCalculos,\r\n      this.basesDatos\r\n    );\r\n    let auxDatos = auxdata[0];\r\n    return auxDatos;\r\n  }\r\n\r\n  getAnalisisBarras(idProyecto, data) {\r\n    //Creación de espacio para guardar los datos del proyecto\r\n    let analisisProyectos: Record<string, any> = {\r\n      Nombre: this.projectsList.filter((p) => p['id'] == idProyecto)[0][\r\n        'name_project'\r\n      ],\r\n      id: idProyecto,\r\n      Datos: {},\r\n    };\r\n\r\n    let auxDatos = data;\r\n    Object.keys(auxDatos).forEach((impacto) => {\r\n      analisisProyectos.Datos[impacto] = {};\r\n      Object.keys(auxDatos[impacto]).forEach((fase) => {\r\n        analisisProyectos.Datos[impacto][fase] = 0;\r\n        Object.keys(auxDatos[impacto][fase]).forEach((subetapa) => {\r\n          analisisProyectos.Datos[impacto][fase] =\r\n            analisisProyectos.Datos[impacto][fase] +\r\n            auxDatos[impacto][fase][subetapa];\r\n        });\r\n        if (this.bandera_por_metro) {\r\n          let superficieConstruida = 0;\r\n          if (fase === 'Uso') {\r\n            superficieConstruida = this.calculos.projectsList.filter(\r\n              (p) => p['id'] == idProyecto\r\n            )[0]['living_area'];\r\n          } else {\r\n            superficieConstruida = this.calculos.projectsList.filter(\r\n              (p) => p['id'] == idProyecto\r\n            )[0]['builded_surface'];\r\n          }\r\n          analisisProyectos.Datos[impacto][fase] =\r\n            analisisProyectos.Datos[impacto][fase] / superficieConstruida;\r\n        }\r\n      });\r\n    });\r\n    return analisisProyectos;\r\n  }\r\n\r\n  getAnalisisRadial(idProyecto, data) {\r\n    let analisisProyectos: Record<string, any> = {\r\n      Nombre: this.calculos.projectsList.filter(\r\n        (p) => p['id'] == idProyecto\r\n      )[0]['name_project'],\r\n      id: idProyecto,\r\n      Datos: {},\r\n    };\r\n\r\n    let auxDatos = data;\r\n    let auxFases = [];\r\n    Object.keys(auxDatos).forEach((impacto) => {\r\n      Object.keys(auxDatos[impacto]).forEach((fase) => {\r\n        if (!auxFases.includes(fase)) {\r\n          auxFases.push(fase);\r\n          analisisProyectos.Datos[fase] = {};\r\n        }\r\n        analisisProyectos.Datos[fase][impacto] = 0;\r\n        Object.keys(auxDatos[impacto][fase]).forEach((subetapa) => {\r\n          analisisProyectos.Datos[fase][impacto] =\r\n            analisisProyectos.Datos[fase][impacto] +\r\n            auxDatos[impacto][fase][subetapa];\r\n        });\r\n        if (this.bandera_por_metro) {\r\n          let superficieConstruida = 0;\r\n          if (fase === 'Uso') {\r\n            superficieConstruida = this.calculos.projectsList.filter(\r\n              (p) => p['id'] == idProyecto\r\n            )[0]['living_area'];\r\n          } else {\r\n            superficieConstruida = this.calculos.projectsList.filter(\r\n              (p) => p['id'] == idProyecto\r\n            )[0]['builded_surface'];\r\n          }\r\n          analisisProyectos.Datos[fase][impacto] =\r\n            analisisProyectos.Datos[fase][impacto] / superficieConstruida;\r\n        }\r\n      });\r\n    });\r\n    return analisisProyectos;\r\n  }\r\n\r\n  getAnalisisPie(idProyecto, data) {\r\n    let analisisProyectos: Record<string, any> = {\r\n      Nombre: this.calculos.projectsList.filter(\r\n        (p) => p['id'] == idProyecto\r\n      )[0]['name_project'],\r\n      id: idProyecto,\r\n      Datos: {},\r\n    };\r\n\r\n    let auxDatos = data;\r\n    Object.keys(auxDatos).forEach((impacto) => {\r\n      let impacto_ambiental = impacto.replace(/\\n/g, ' ');\r\n      analisisProyectos.Datos[impacto_ambiental] = {};\r\n      Object.keys(auxDatos[impacto]).forEach((fase) => {\r\n        analisisProyectos.Datos[impacto_ambiental][fase] =\r\n          auxDatos[impacto][fase];\r\n        if (this.bandera_por_metro) {\r\n          let superficieConstruida = 0;\r\n          if (fase === 'Uso') {\r\n            superficieConstruida = this.calculos.projectsList.filter(\r\n              (p) => p['id'] == idProyecto\r\n            )[0]['living_area'];\r\n          } else {\r\n            superficieConstruida = this.calculos.projectsList.filter(\r\n              (p) => p['id'] == idProyecto\r\n            )[0]['builded_surface'];\r\n          }\r\n          Object.keys(analisisProyectos.Datos[impacto_ambiental][fase]).forEach(\r\n            (subetapa) => {\r\n              analisisProyectos.Datos[impacto_ambiental][fase][subetapa] =\r\n                analisisProyectos.Datos[impacto_ambiental][fase][subetapa] /\r\n                superficieConstruida;\r\n            }\r\n          );\r\n        }\r\n      });\r\n    });\r\n\r\n    return analisisProyectos;\r\n  }\r\n\r\n  getAnalisisPieBarSegunaSeccion(idProyecto) {\r\n    //Calculos y obtención de datos para crear correctamente las gráficas de barras\r\n    let analisisProyectos: Record<string, any> = {\r\n      Nombre: this.calculos.projectsList.filter(\r\n        (p) => p['id'] == idProyecto\r\n      )[0]['name_project'],\r\n      id: idProyecto,\r\n      Datos: {},\r\n    };\r\n    let auxData = {};\r\n    let auxDatosDos = this.llamarCalculosTercerSeccion(idProyecto);\r\n    Object.keys(auxDatosDos['materiales']).forEach((impactoAmbiental) => {\r\n      auxData[impactoAmbiental] = {};\r\n      let seccionesCreadas = [];\r\n      let materialSeccion = {};\r\n      Object.keys(auxDatosDos['materiales'][impactoAmbiental]).forEach(\r\n        (cicloVida) => {\r\n          Object.keys(\r\n            auxDatosDos['materiales'][impactoAmbiental][cicloVida]\r\n          ).forEach((subEtapa) => {\r\n            Object.keys(\r\n              auxDatosDos['materiales'][impactoAmbiental][cicloVida][subEtapa]\r\n            ).forEach((seccion) => {\r\n              if (!seccionesCreadas.includes(seccion)) {\r\n                auxData[impactoAmbiental][seccion] = {};\r\n                materialSeccion[seccion] = [];\r\n                seccionesCreadas.push(seccion);\r\n              }\r\n              Object.keys(\r\n                auxDatosDos['materiales'][impactoAmbiental][cicloVida][\r\n                  subEtapa\r\n                ][seccion]\r\n              ).forEach((material) => {\r\n                if (!materialSeccion[seccion].includes(material)) {\r\n                  auxData[impactoAmbiental][seccion][material] = 0;\r\n                  materialSeccion[seccion].push(material);\r\n                }\r\n                auxData[impactoAmbiental][seccion][material] +=\r\n                  auxDatosDos['materiales'][impactoAmbiental][cicloVida][\r\n                    subEtapa\r\n                  ][seccion][material];\r\n              });\r\n            });\r\n          });\r\n        }\r\n      );\r\n    });\r\n    analisisProyectos['Datos'] = auxData;\r\n    return analisisProyectos;\r\n  }\r\n\r\n  AjustePorMetro(flag) {\r\n    this.outproyect_bar = [];\r\n    this.outproyect_pie = [];\r\n    this.outproyect_radar = [];\r\n    this.fasesEliminadas = [];\r\n    this.proyect_active.forEach((id) => {\r\n      if (flag == 0) {\r\n        this.bandera_por_metro = true;\r\n      } else {\r\n        this.bandera_por_metro = false;\r\n      }\r\n\r\n      let data = this.llamarCalculos(id);\r\n\r\n      let analisis = this.getAnalisisBarras(id, data);\r\n      let analisisRad = this.getAnalisisRadial(id, data);\r\n      let analisisPie = this.getAnalisisPie(id, data);\r\n\r\n      this.outproyect_bar.push(analisis);\r\n      this.outproyect_radar.push(analisisRad);\r\n      this.outproyect_pie.push(analisisPie);\r\n    });\r\n\r\n    if (this.resultdosGraficos) {\r\n      this.containerGraficas.clear();\r\n      this.receiveSelector(null);\r\n      this.ID = ' ';\r\n      this.iniciaBarras();\r\n    } else {\r\n      this.TablaResultados();\r\n    }\r\n  }\r\n\r\n  //creación de tabla de resultado\r\n  TablaResultados() {\r\n    this.botones_grafica_activos = true;\r\n    this.container.clear();\r\n    let auxL = ['Producción', 'Construccion', 'Uso', 'FinDeVida'];\r\n    let aux_color = ['#4DBE89', '#148A93', '#8F5091', '#DEA961', '#767676'];\r\n    //se prepara la información por filas\r\n    let aux = [];\r\n    let flagMasProyectos = false;\r\n    let auxtotal = {};\r\n    let auxImpactosTotal = {};\r\n    this.outproyect_bar.forEach((element) => {\r\n      auxtotal[element.id] = {};\r\n      auxImpactosTotal[element.id] = [];\r\n      Object.keys(element.Datos).forEach((impacto) => {\r\n        let auxNombreImpacto = impacto.replace(/\\n/g, '');\r\n        if (!auxImpactosTotal[element.id].includes(auxNombreImpacto)) {\r\n          auxtotal[element.id][auxNombreImpacto] = 0;\r\n          auxImpactosTotal[element.id].push(auxNombreImpacto);\r\n        }\r\n      });\r\n    });\r\n    auxL.forEach((ciclo, index) => {\r\n      let auxdata = {};\r\n      let auximpactos = [];\r\n      auxdata['ciclo de vida'] = ciclo;\r\n      let flagCiclo = true;\r\n      this.fasesEliminadas.forEach((cicloEliminado) => {\r\n        if (ciclo === cicloEliminado) {\r\n          flagCiclo = false;\r\n        }\r\n      });\r\n      if (flagCiclo) {\r\n        this.outproyect_bar.forEach((element) => {\r\n          Object.keys(element.Datos).forEach((impacto) => {\r\n            let auxNombreImpacto = impacto.replace(/\\n/g, '');\r\n            let resultado = element.Datos[impacto][ciclo];\r\n            let resultadoExponencial = resultado.toExponential(2);\r\n            if (!auximpactos.includes(auxNombreImpacto)) {\r\n              auximpactos.push(auxNombreImpacto);\r\n              auxdata[auxNombreImpacto] = resultadoExponencial\r\n                .toString()\r\n                .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n              auxtotal[element.id][auxNombreImpacto] += resultado;\r\n            } else {\r\n              flagMasProyectos = true;\r\n              let last = auxdata[auxNombreImpacto].toString();\r\n              auxdata[auxNombreImpacto] = last.concat(\r\n                '\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0'\r\n              );\r\n              auxdata[auxNombreImpacto] = auxdata[auxNombreImpacto].concat(\r\n                resultadoExponencial\r\n                  .toString()\r\n                  .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n              );\r\n              auxtotal[element.id][auxNombreImpacto] += resultado;\r\n            }\r\n          });\r\n        });\r\n        auximpactos = [];\r\n        aux = [...aux, { data: auxdata, color: aux_color[index] }];\r\n      }\r\n      if (ciclo === 'FinDeVida') {\r\n        auxdata = {};\r\n        Object.keys(auxtotal).forEach((element, indexproyectos) => {\r\n          if (indexproyectos == 0) {\r\n            Object.keys(auxtotal[element]).forEach((impacto) => {\r\n              let resultado = auxtotal[element][impacto];\r\n              let resultadoExponencial = resultado.toExponential(2);\r\n              auxdata[impacto] = resultadoExponencial;\r\n            });\r\n          } else {\r\n            Object.keys(auxtotal[element]).forEach((impacto) => {\r\n              let resultado = auxtotal[element][impacto];\r\n              let resultadoExponencial = resultado.toExponential(2);\r\n              let last = auxdata[impacto].toString();\r\n              auxdata[impacto] = last.concat(\r\n                '\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0'\r\n              );\r\n              auxdata[impacto] = auxdata[impacto].concat(\r\n                resultadoExponencial\r\n                  .toString()\r\n                  .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n              );\r\n            });\r\n          }\r\n        });\r\n        auxdata['ciclo de vida'] = 'Total';\r\n        aux = [...aux, { data: auxdata, color: aux_color[index + 1] }];\r\n      }\r\n      if (ciclo === 'FinDeVida' && flagMasProyectos == true) {\r\n        auxdata = {};\r\n        let numProyecto = 0;\r\n        this.outproyect_bar.forEach((element) => {\r\n          numProyecto = numProyecto + 1;\r\n          Object.keys(element.Datos).forEach((impacto) => {\r\n            let auxNombreImpacto = impacto.replace(/\\n/g, '');\r\n            if (!auximpactos.includes(auxNombreImpacto)) {\r\n              auximpactos.push(auxNombreImpacto);\r\n              auxdata[auxNombreImpacto] = numProyecto.toString();\r\n            } else {\r\n              let last = auxdata[auxNombreImpacto].toString();\r\n              auxdata[auxNombreImpacto] = last.concat(\r\n                '\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0'\r\n              );\r\n              auxdata[auxNombreImpacto] = auxdata[auxNombreImpacto].concat(\r\n                numProyecto.toString()\r\n              );\r\n            }\r\n          });\r\n        });\r\n        aux = [{ data: auxdata, color: aux_color[index + 1] }, ...aux];\r\n      }\r\n    });\r\n    this.DatosTabla = aux;\r\n    this.resultdosTabla = true;\r\n    this.resultdosGraficos = false;\r\n  }\r\n\r\n  //regreso a gráfica\r\n  GraficasResultados() {\r\n    this.botones_grafica_activos = false;\r\n    this.resultdosTabla = false;\r\n    this.resultdosGraficos = true;\r\n    this.iniciaBarras();\r\n  }\r\n\r\n  ajusteUsoBaseDatos(seleccion){\r\n    this.outproyect_bar = [];\r\n    this.outproyect_pie = [];\r\n    this.outproyect_radar = [];\r\n    this.outproyect_bar_elementos = [];\r\n    this.iconosElementosConstrucivos = {};\r\n    this.outproyect_pie_bar_elementos = [];\r\n    this.proyectosMostrados_elementos = [];\r\n    this.estadoTercerSeccion = {};\r\n    this.elementosConstructivosMostradosElementos={};\r\n\r\n    Object.keys(this.basesDatos).forEach(bd =>{\r\n      let flag=false;\r\n      seleccion.forEach(bdSelect => {\r\n        if(bdSelect===bd){\r\n          flag = true;\r\n        }\r\n      });\r\n      this.basesDatos[bd] = flag;\r\n    });\r\n    this.proyect_active.forEach(id => {\r\n      let data = this.llamarCalculos(id)\r\n      let analisis = this.getAnalisisBarras(id,data);\r\n      let analisisRad = this.getAnalisisRadial(id,data);\r\n      let analisisPie = this.getAnalisisPie(id,data);\r\n      let analisisPieBarDos = this.getAnalisisPieBarSegunaSeccion(id);\r\n      let analisisPieTres = this.getAnalisisElementos(id);\r\n      \r\n      //sección uno\r\n      this.outproyect_bar.push(analisis);\r\n      this.outproyect_radar.push(analisisRad);\r\n      this.outproyect_pie.push(analisisPie);\r\n      //sección dos\r\n      let analisisBarDos = this.getAnalisisBarrasElementosConstructivos(id);\r\n      this.outproyect_bar_elementos.push(analisisBarDos);\r\n      //sección tres\r\n      this.outproyect_pie_bar_elementos.push(analisisPieBarDos);\r\n      this.proyectosMostrados_elementos = [...this.proyectosMostrados_elementos, {\r\n        idproyecto: id,\r\n        nombre:analisis.Nombre,\r\n        data:analisisPieTres,\r\n      }];\r\n      this.estadoTercerSeccion[id] = {\r\n        'agruparProduccion':false,\r\n        'cicloSeleccionado':\" \",\r\n        'flagPie':true,\r\n        'fragBar':false\r\n      }\r\n    });\r\n    //Se reinicia la sección 1\r\n    if(this.Impactos_ambientales){\r\n      if(this.resultdosGraficos){\r\n        this.containerGraficas.clear();\r\n        this.receiveSelector(null);\r\n        this.ID = ' ';\r\n      }\r\n    }\r\n    if(this.resultdosGraficos){\r\n      this.iniciaBarras()\r\n    }\r\n    else{\r\n      this.TablaResultados();\r\n    }\r\n    //se reinicia la sección 2\r\n    if(this.Impactos_Elementos){\r\n      this.iniciaBarrasSeccionDos();\r\n      if(this.imgSeleccionadaElemento!=' '){\r\n        this.DispercionAP(this.imgSeleccionadaElemento,' ');\r\n      }\r\n      Object.keys(this.iconosElementosConstrucivos).forEach(element => {\r\n        if(this.iconosElementosConstrucivos[element]['habilitado'] === false){\r\n          document.getElementById(this.idsIconosElementos[element]['idTEXTO']).className = 'espacio-sin-selecciomar';\r\n        }\r\n      })\r\n      this.catologoImpactoAmbiental.forEach((impacto) => {\r\n        let auxID = impacto['id'].toString().concat('LineaImpactoElememtos');\r\n        let elementosflag = document.getElementById(auxID);\r\n        if (elementosflag != null) {\r\n          elementosflag.className = 'dot';\r\n        }\r\n      });\r\n      this.graficabar(null);\r\n    }\r\n    //se reinicia la sección tres\r\n    if(this.Elementos_constructivos){\r\n      this.iniciarSeccionTres();\r\n    }\r\n\r\n  }\r\n\r\n  //termino de cambio de sección\r\n  finShow(){\r\n    if(this.Impactos_ambientales){\r\n      let auxEtapas = ['Producción','Construccion','Uso','FinDeVida']\r\n      if(this.ID === ' '){\r\n        auxEtapas.forEach(etapa =>{\r\n          document.getElementById(etapa).className = 'boton-principal';\r\n        })\r\n      }\r\n      if(this.selector==null){\r\n        this.catologoImpactoAmbiental.forEach((impacto) => {\r\n          let auxID = impacto['id'].toString().concat('LineaImpactoCiclo');\r\n          let elementosflag = document.getElementById(auxID);\r\n          if (elementosflag != null) {\r\n            elementosflag.className = 'dot';\r\n          }\r\n        });\r\n        this.containerGraficas.clear();\r\n      }\r\n    }\r\n    if(this.Impactos_Elementos){\r\n      // this.impactoSeleccionadoElementoConstructivo != ' ' &&\r\n      //this.elementoContructivoSelecionado != ' '\r\n      if(this.imgSeleccionadaElemento === ' '){\r\n        this.idsImgEdificios.forEach(img=>{\r\n          document.getElementById(img).className = 'edificio-individual';\r\n        })\r\n      }\r\n      if(this.impactoSeleccionadoElementoConstructivo === ' '){\r\n        //this.show_Dispercion = false;\r\n        this.catologoImpactoAmbiental.forEach((impacto) => {\r\n          let auxID = impacto['id'].toString().concat('LineaImpactoElememtos');\r\n          let elementosflag = document.getElementById(auxID);\r\n          if (elementosflag != null) {\r\n            elementosflag.className = 'dot';\r\n          }\r\n        });\r\n        this.graficabar(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  //controlar la activación de elementos en la interacción con los tipos de resultados\r\n  show($event) {\r\n    if ($event == 0) {\r\n      this.Impactos_ambientales = true;\r\n      this.Impactos_Elementos = false;\r\n      this.Elementos_constructivos = false;\r\n      this.bandera_graph_bar = false;\r\n      this.impacto_seleccionado = ' ';\r\n    } else if ($event == 1) {\r\n      this.Impactos_ambientales = false;\r\n      this.Impactos_Elementos = true;\r\n      this.Elementos_constructivos = false;\r\n      this.bandera_graph_bar = true;\r\n      this.iniciaBarrasSeccionDos();\r\n      this.iniciarImgEdificio();\r\n    } else {\r\n      this.Impactos_ambientales = false;\r\n      this.Impactos_Elementos = false;\r\n      this.Elementos_constructivos = true;\r\n      this.impacto_seleccionado = ' ';\r\n      this.iniciarSeccionTres();\r\n    }\r\n    this.ResetTabs($event);\r\n  }\r\n\r\n  getAnalisisBarrasElementosConstructivos(idProyecto) {\r\n    //Calculos y obtención de datos para crear correctamente las gráficas de barras\r\n    let analisisProyectos: Record<string, any> = {\r\n      Nombre: this.calculos.projectsList.filter(\r\n        (p) => p['id'] == idProyecto\r\n      )[0]['name_project'],\r\n      id: idProyecto,\r\n      Datos: {},\r\n    };\r\n\r\n    let DatosCalculos = {\r\n      TEList: this.TEList,\r\n      projectsList: this.projectsList,\r\n      materialList: this.materialList,\r\n      materialSchemeDataList: this.materialSchemeDataList,\r\n      materialSchemeProyectList: this.materialSchemeProyectList,\r\n      potentialTypesList: this.potentialTypesList,\r\n      standarsList: this.standarsList,\r\n      CSEList: this.CSEList,\r\n      SIDList: this.SIDList,\r\n      SIList: this.SIList,\r\n      ACRList: this.ACRList,\r\n      ECDList: this.ECDList,\r\n      TEDList: this.TEDList,\r\n      ULList: this.ULList,\r\n      ECDPList: this.ECDPList,\r\n      sectionList: this.sectionList,\r\n      PTList: this.PTList,\r\n      conversionList: this.conversionList,\r\n    };\r\n\r\n    let auxDatos =\r\n      this.calculosSegunaSeccion.OperacionesDeFasePorElementoConstructivo(\r\n        idProyecto,\r\n        DatosCalculos,\r\n        this.basesDatos\r\n      );\r\n    this.AjustarElementosMostrados(auxDatos);\r\n    //console.log(this.iconosElementosConstrucivos)\r\n    this.AjustarElementosMostradosElemntos(auxDatos);\r\n    analisisProyectos['Datos'] = auxDatos;\r\n    return analisisProyectos;\r\n  }\r\n\r\n  AjustarElementosMostrados(auxDatos) {\r\n    if (this.elementoContructivoSelecionado != ' ') {\r\n      let elementoDom = document.getElementById(\r\n        'texto'.concat(this.elementoContructivoSelecionado)\r\n      );\r\n      if(elementoDom != null){\r\n        elementoDom.className = 'espacio-sin-selecciomar';\r\n      }\r\n    }\r\n    this.impactoSeleccionadoElementoConstructivo = ' ';\r\n    this.impactoSeleccionadoElementoConstructivoGrafica = null;\r\n    this.elementoContructivoSelecionado = ' ';\r\n    if (Object.keys(this.iconosElementosConstrucivos).length == 0) {\r\n      this.sectionList.forEach((element) => {\r\n        //Aqui falta de que en caso de que se otro proyecto y tenga más o menos elementos que no cause problemas y se activen o desactiven bien los botones\r\n        let flag = false;\r\n        let auxidelemento: String = element['id'];\r\n        Object.keys(auxDatos).forEach((impacto) => {\r\n          Object.keys(auxDatos[impacto]).forEach((idelemento) => {\r\n            if (idelemento == auxidelemento.toString()) {\r\n              flag = true;\r\n            }\r\n          });\r\n        });\r\n        if (flag) {\r\n          this.iconosElementosConstrucivos[auxidelemento.toString()] = {};\r\n          this.iconosElementosConstrucivos[auxidelemento.toString()]['icono'] =\r\n            'visibility';\r\n          this.iconosElementosConstrucivos[auxidelemento.toString()][\r\n            'habilitado'\r\n          ] = false;\r\n        } else {\r\n          this.iconosElementosConstrucivos[auxidelemento.toString()] = {};\r\n          this.iconosElementosConstrucivos[auxidelemento.toString()]['icono'] =\r\n            'visibility_off';\r\n          this.iconosElementosConstrucivos[auxidelemento.toString()][\r\n            'habilitado'\r\n          ] = true;\r\n        }\r\n      });\r\n    }\r\n    if (this.banderaAjusteElememtos) {\r\n      this.sectionList.forEach((element) => {\r\n        //Aqui falta de que en caso de que se otro proyecto y tenga más o menos elementos que no cause problemas y se activen o desactiven bien los botones\r\n        let flag = false;\r\n        let auxidelemento: String = element['id'];\r\n        let auximpacto = this.calculosSegunaSeccion.ajustarNombre(\r\n          this.potentialTypesList[0]['name_complete_potential_type']\r\n        );\r\n        Object.keys(auxDatos[auximpacto]).forEach((idelemento) => {\r\n          if (idelemento == auxidelemento.toString()) {\r\n            flag = true;\r\n          }\r\n        });\r\n        if (flag) {\r\n          this.iconosElementosConstrucivos[auxidelemento.toString()] = {};\r\n          this.iconosElementosConstrucivos[auxidelemento.toString()]['icono'] =\r\n            'visibility';\r\n          this.iconosElementosConstrucivos[auxidelemento.toString()][\r\n            'habilitado'\r\n          ] = false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  AjustarElementosMostradosElemntos(auxDatos) {\r\n    if (\r\n      Object.keys(this.elementosConstructivosMostradosElementos).length == 0\r\n    ) {\r\n      this.sectionList.forEach((element) => {\r\n        //Aqui falta de que en caso de que se otro proyecto y tenga más o menos elementos que no cause problemas y se activen o desactiven bien los botones\r\n        let flag = false;\r\n        let auxidelemento: String = element['id'];\r\n        let auximpacto = this.calculosSegunaSeccion.ajustarNombre(\r\n          this.potentialTypesList[0]['name_complete_potential_type']\r\n        );\r\n        Object.keys(auxDatos[auximpacto]).forEach((idelemento) => {\r\n          if (idelemento == auxidelemento.toString()) {\r\n            flag = true;\r\n          }\r\n        });\r\n        if (flag) {\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ] = {};\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ]['nombre'] = element['name_section'];\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ]['habilitado'] = false;\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ]['check'] = true;\r\n        } else {\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ] = {};\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ]['nombre'] = element['name_section'];\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ]['habilitado'] = true;\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ]['check'] = false;\r\n        }\r\n      });\r\n    }\r\n    if (this.banderaAjusteElememtos) {\r\n      this.sectionList.forEach((element) => {\r\n        let flag = false;\r\n        let auxidelemento: String = element['id'];\r\n        let auximpacto = this.calculosSegunaSeccion.ajustarNombre(\r\n          this.potentialTypesList[0]['name_complete_potential_type']\r\n        );\r\n        Object.keys(auxDatos[auximpacto]).forEach((idelemento) => {\r\n          if (idelemento == auxidelemento.toString()) {\r\n            flag = true;\r\n          }\r\n        });\r\n        if (flag) {\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ] = {};\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ]['nombre'] = element['name_section'];\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ]['habilitado'] = false;\r\n          this.elementosConstructivosMostradosElementos[\r\n            auxidelemento.toString()\r\n          ]['check'] = true;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  //Se cargan los proyetcos existentes y se configura el menu\r\n  menu_inicio() {\r\n    this.projectsList.forEach((proyecto) => {\r\n      if (proyecto['id'] == this.idProyectoActivo) {\r\n        this.proyecto.nombre = proyecto['name_project'];\r\n        this.proyecto.num_epic = this.calculos.materiales_EPIC;\r\n        this.proyecto.num_epd = this.calculos.materiales_EPD;\r\n        return;\r\n      }\r\n      this.proyect = [\r\n        ...this.proyect,\r\n        {\r\n          Nombre: proyecto['name_project'],\r\n          id: proyecto['id'],\r\n          num_epic: 0,\r\n          card: false,\r\n          num_epd: 0,\r\n        },\r\n      ];\r\n    });\r\n\r\n    this.iniciar_graficas(this.idProyectoActivo);\r\n  }\r\n\r\n  //activar gráfica de porcentaje\r\n  porcentaje(val: boolean, val2: number) {\r\n    if (val == this.bandera_porcentaje) {\r\n      return;\r\n    }\r\n    this.receiveSelector(null);\r\n    this.bandera_porcentaje = val;\r\n    this.ID = ' ';\r\n    this.iniciaBarras();\r\n    this.containerGraficas.clear();\r\n    return;\r\n  }\r\n\r\n  //quitar proyecto a las gráficas\r\n  quitarProyecto(ID: number) {\r\n    this.proyect.forEach((proyecto, index) => {\r\n      if (proyecto.id == ID) {\r\n        this.proyect[index].card = false;\r\n      }\r\n    });\r\n    this.proyect_active.forEach((element, index) => {\r\n      if(element === ID){\r\n        this.idsImgEdificios.splice(index,1);\r\n      }\r\n    });\r\n    this.proyect_active = this.proyect_active.filter((item) => item != ID);\r\n\r\n    this.proyectosMostrados = this.proyectosMostrados.filter(\r\n      ({ id }) => id != ID\r\n    );\r\n    let nump = 1;\r\n    this.proyect_active.forEach((element, index) => {\r\n      this.proyectosMostrados.forEach((pr, numproy) => {\r\n        if (pr.id == element) {\r\n          nump = nump + 1;\r\n          this.proyectosMostrados[numproy].num = nump;\r\n        }\r\n      });\r\n    });\r\n    this.proyectosMostrados_elementos =\r\n      this.proyectosMostrados_elementos.filter(\r\n        ({ idproyecto }) => idproyecto != ID\r\n      );\r\n    this.outproyect_bar = this.outproyect_bar.filter(({ id }) => id != ID);\r\n    this.outproyect_radar = this.outproyect_radar.filter(({ id }) => id != ID);\r\n    this.outproyect_pie = this.outproyect_pie.filter(({ id }) => id != ID);\r\n    this.outproyect_bar_elementos = this.outproyect_bar_elementos.filter(\r\n      ({ id }) => id != ID\r\n    );\r\n    this.iconosElementosConstrucivos = {};\r\n    this.elementosConstructivosMostradosElementos = {};\r\n    delete this.estadoTercerSeccion[ID];\r\n    this.outproyect_bar_elementos.forEach((element, index) => {\r\n      if (index < 1) {\r\n        this.banderaAjusteElememtos = false;\r\n      } else {\r\n        this.banderaAjusteElememtos = true;\r\n      }\r\n      this.AjustarElementosMostrados(element.Datos);\r\n      this.AjustarElementosMostradosElemntos(element.Datos);\r\n    });\r\n    this.banderaAjusteElememtos = false;\r\n\r\n    if (this.resultdosTabla) {\r\n      this.TablaResultados();\r\n    } else {\r\n      this.iniciaBarras();\r\n    }\r\n    if (this.Impactos_ambientales) {\r\n      this.containerGraficas.clear();\r\n      this.receiveSelector(null);\r\n      if (this.ID != ' ') {\r\n        document.getElementById(this.ID).className = 'boton-principal';\r\n      }\r\n    }\r\n    this.ID = ' ';\r\n    this.selector=null;\r\n    if (this.Impactos_Elementos) {\r\n      this.iniciaBarrasSeccionDos();\r\n      if (this.imgSeleccionadaElemento != ' ') {\r\n        this.DispercionAP(this.imgSeleccionadaElemento, ' ');\r\n      }\r\n      if (this.elementoContructivoSelecionado != ' ') {\r\n        document.getElementById(\r\n          'texto'.concat(this.elementoContructivoSelecionado)\r\n        ).className = 'espacio-sin-selecciomar';\r\n      }\r\n      this.catologoImpactoAmbiental.forEach((impacto) => {\r\n        let auxID = impacto['id'].toString().concat('LineaImpactoElememtos');\r\n        let elementosflag = document.getElementById(auxID);\r\n        if (elementosflag != null) {\r\n          elementosflag.className = 'dot';\r\n        }\r\n      });\r\n      this.graficabar(null);\r\n    }\r\n    this.elementoContructivoSelecionado = ' ';\r\n    this.imgSeleccionadaElemento = ' ';\r\n    if (this.Elementos_constructivos) {\r\n      this.iniciarSeccionTres();\r\n    }\r\n    Object.keys(this.estadoTercerSeccion).forEach(pr =>{\r\n      this.estadoTercerSeccion[pr] = {\r\n        'agruparProduccion':false,\r\n        'cicloSeleccionado':\" \",\r\n        'flagPie':true,\r\n        'fragBar':false\r\n      };\r\n    })\r\n  }\r\n\r\n  //interacción con la gráfca de bar\r\n  receiveSelector($event) {\r\n    //cordinate with bar graph\r\n    let aux;\r\n    if (Array.isArray($event)) {\r\n      let sl;\r\n      $event.forEach((element, index) => {\r\n        if (index == 0) {\r\n          sl = element;\r\n        } else {\r\n          sl = sl.concat(' ', element);\r\n        }\r\n      });\r\n      aux = sl;\r\n    } else {\r\n      aux = $event;\r\n    }\r\n\r\n    this.showVar_1 = false;\r\n    this.showVar = false;\r\n    this.selector = aux;\r\n\r\n    if ($event == null) {\r\n      this.bandera = 0;\r\n      this.hover = true;\r\n      if (this.ID != ' ') {\r\n        let IDDom = document.getElementById(this.ID);\r\n        if(IDDom != null){\r\n          IDDom.className = 'boton-principal';\r\n        }\r\n        this.ID = ' ';\r\n      }\r\n      this.catologoImpactoAmbiental.forEach((impacto) => {\r\n        let auxID = impacto['id'].toString().concat('LineaImpactoCiclo');\r\n        let elementosflag = document.getElementById(auxID);\r\n        if (elementosflag != null) {\r\n          elementosflag.className = 'dot';\r\n        }\r\n      });\r\n    } else {\r\n      this.bandera = 1;\r\n      this.hover = false;\r\n      if (this.ID != ' ') {\r\n        document.getElementById(this.ID).className = 'boton-principal';\r\n      }\r\n      this.catologoImpactoAmbiental.forEach((impacto) => {\r\n        let auxnameI = impacto['name_complete_potential_type'].replace(\r\n          /\\s/g,\r\n          ''\r\n        );\r\n        let auxnameIS = aux.replace(/\\s/g, '');\r\n        if (auxnameIS === auxnameI) {\r\n          let auxID = impacto['id'].toString().concat('LineaImpactoCiclo');\r\n          document.getElementById(auxID).className = 'linea-select';\r\n        } else {\r\n          let auxID = impacto['id'].toString().concat('LineaImpactoCiclo');\r\n          document.getElementById(auxID).className = 'dot';\r\n        }\r\n      });\r\n      //catologoImpactoAmbiental\r\n      this.ID = ' ';\r\n    }\r\n    this.containerGraficas.clear();\r\n  }\r\n\r\n  //Despliegue gráficas de pie o radar\r\n  grafica(x: string) {\r\n    //activate graph selectioned\r\n    if (this.ID != ' ') {\r\n      //console.log('in');\r\n      document.getElementById(this.ID).className = 'boton-principal';\r\n    }\r\n\r\n    if (this.resultdosGraficos) {\r\n      this.containerGraficas.clear();\r\n      this.bandera_resultado = 2;\r\n      if (this.banderaGrapg == 0) {\r\n        this.banderaGrapg++;\r\n        this.ID = ' ';\r\n      }\r\n      if (x === this.ID) {\r\n        if (this.bandera == 1) {\r\n          this.showVar = false;\r\n        } else {\r\n          this.showVar_1 = false;\r\n          this.hover = true;\r\n          this.bandera_serie_Seleccionada = false;\r\n        }\r\n        this.banderaGrapg = 0;\r\n        this.ID = ' ';\r\n        this.containerGraficas.clear();\r\n      } else {\r\n        this.ID = x;\r\n        if (this.bandera == 1) {\r\n          this.showVar = true;\r\n          this.showVar_1 = false;\r\n          this.iniciaPie();\r\n        } else {\r\n          this.showVar_1 = true;\r\n          this.showVar = false;\r\n          this.hover = false;\r\n          this.serie_Seleccionada = x;\r\n          this.iniciaRadiales();\r\n        }\r\n      }\r\n      if (this.ID != ' ') {\r\n        let boton = document.getElementById(this.ID);\r\n        boton.className = 'boton-select';\r\n      }\r\n    }\r\n  }\r\n\r\n  //despliegue gráfica de pie para sección de resultados\r\n  selectImpactoAmbiental() {\r\n    this.impactoAmbientalSeleccionado = this.calculos.ajustarNombre(\r\n      this.selectedValue\r\n    );\r\n    this.iniciarSeccionTres();\r\n  }\r\n\r\n  selectEtapa(etapa) {\r\n    let flag = true;\r\n    this.ciclosDeVidaIgnoradasElementos.forEach((etapaEliminada) => {\r\n      if (etapaEliminada === etapa) flag = false;\r\n    });\r\n    if (flag) {\r\n      let color = {\r\n        Producción: '#4DBE89',\r\n        Construccion: '#0DADBA',\r\n        Uso: '#8F5091',\r\n        FinDeVida: '#DEA961',\r\n      };\r\n      let auxResultado = ' ';\r\n      if (this.cicloVidaSeleccionadoElemento === ' ') {\r\n        this.cicloVidaSeleccionadoElemento = etapa;\r\n        auxResultado = etapa;\r\n        document.getElementById(etapa.concat('TextoElemento')).className =\r\n          'button-info-select';\r\n        Object.keys(color).forEach((element) => {\r\n          if (element === etapa) {\r\n            document.getElementById(\r\n              etapa.concat('TextoElemento')\r\n            ).style.borderColor = color[element];\r\n          }\r\n        });\r\n      } else {\r\n        if (this.cicloVidaSeleccionadoElemento != etapa) {\r\n          document.getElementById(etapa.concat('TextoElemento')).className =\r\n            'button-info-select';\r\n          Object.keys(color).forEach((element) => {\r\n            if (element === etapa) {\r\n              document.getElementById(\r\n                etapa.concat('TextoElemento')\r\n              ).style.borderColor = color[element];\r\n            }\r\n          });\r\n          document.getElementById(\r\n            this.cicloVidaSeleccionadoElemento.concat('TextoElemento')\r\n          ).className = 'button-info';\r\n          this.cicloVidaSeleccionadoElemento = etapa;\r\n          auxResultado = etapa;\r\n        } else {\r\n          document.getElementById(\r\n            this.cicloVidaSeleccionadoElemento.concat('TextoElemento')\r\n          ).className = 'button-info';\r\n          this.cicloVidaSeleccionadoElemento = ' ';\r\n          auxResultado = ' ';\r\n        }\r\n      }\r\n      Object.keys(this.estadoTercerSeccion).forEach((idP) => {\r\n        this.estadoTercerSeccion[idP]['cicloSeleccionado'] = auxResultado;\r\n      });\r\n      this.iniciarSeccionTres();\r\n    }\r\n  }\r\n\r\n  eliminarEtapa(etapa) {\r\n    if (this.ciclosDeVidaIgnoradasElementos.includes(etapa)) {\r\n      this.ciclosDeVidaIgnoradasElementos.forEach((element, index) => {\r\n        if (element === etapa) {\r\n          this.iconosCambioElementos[etapa] = 'visibility';\r\n          this.ciclosDeVidaIgnoradasElementos.splice(index, 1);\r\n        }\r\n      });\r\n    } else {\r\n      this.iconosCambioElementos[etapa] = 'visibility_off';\r\n      this.ciclosDeVidaIgnoradasElementos.push(etapa);\r\n      if (this.cicloVidaSeleccionadoElemento === etapa) {\r\n        document.getElementById(\r\n          this.cicloVidaSeleccionadoElemento.concat('TextoElemento')\r\n        ).className = 'button-info';\r\n        this.cicloVidaSeleccionadoElemento = ' ';\r\n      }\r\n      let auxBotonesEtapa = {\r\n        A1: 'Producción',\r\n        A2: 'Producción',\r\n        A3: 'Producción',\r\n        A4: 'Construccion',\r\n        B4: 'Uso',\r\n      };\r\n      Object.keys(this.estadoTercerSeccion).forEach((idP) => {\r\n        if (this.estadoTercerSeccion[idP]['cicloSeleccionado'] === etapa) {\r\n          this.estadoTercerSeccion[idP]['cicloSeleccionado'] = ' ';\r\n        } else if (\r\n          this.estadoTercerSeccion[idP]['cicloSeleccionado'] ===\r\n          auxBotonesEtapa[etapa]\r\n        ) {\r\n          this.estadoTercerSeccion[idP]['cicloSeleccionado'] = ' ';\r\n        }\r\n      });\r\n    }\r\n    this.iniciarSeccionTres();\r\n  }\r\n\r\n  elementoSeleccionadoElementos(recive) {\r\n    if (\r\n      this.elementosContructivosEliminadosElementos.includes(recive.toString())\r\n    ) {\r\n      this.elementosContructivosEliminadosElementos.forEach(\r\n        (element, index) => {\r\n          if (element == recive.toString()) {\r\n            this.elementosContructivosEliminadosElementos.splice(index, 1);\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      this.elementosContructivosEliminadosElementos.push(recive.toString());\r\n    }\r\n    this.iniciarSeccionTres();\r\n  }\r\n\r\n  //resetear secciones\r\n  ResetTabs(value: number) {\r\n    if (value == 2) {\r\n      this.outproyect_bar_elementos.forEach((element, index) => {\r\n        if (index < 1) {\r\n          this.banderaAjusteElememtos = false;\r\n        } else {\r\n          this.banderaAjusteElememtos = true;\r\n        }\r\n        this.AjustarElementosMostradosElemntos(element.Datos);\r\n      });\r\n      this.banderaAjusteElememtos = false;\r\n    }\r\n  }\r\n\r\n  //cambio entre grafica pie y bar en sección elementos contructivos\r\n  change_graph(value: number, IDproyect: number) {\r\n    this.proyectosMostrados_elementos.forEach((element) => {\r\n      if (element.idproyecto == IDproyect) {\r\n        element.showciclo = false;\r\n        element.showcimenta = false;\r\n        element.ciclo = ' ';\r\n        element.elemento = ' ';\r\n        //activar pie\r\n        if (value == 1) {\r\n          element.showbar = false;\r\n          element.showpie = true;\r\n        } else {\r\n          //activar bar\r\n          element.showbar = true;\r\n          element.showpie = false;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  //configuración de la sección dispersión del en fase de ciclo de vida\r\n  configurarDatos($event, IDproyect: number) {\r\n    let auxdatos = $event;\r\n    this.proyectosMostrados_elementos.forEach((element) => {\r\n      if (element.idproyecto == IDproyect) {\r\n        element.showcimenta = false;\r\n        element.showciclo = auxdatos.show;\r\n        element.ciclo = auxdatos.etapa;\r\n        if (element.showciclo) {\r\n          this.childPie.forEach((c) => c.cambioID(element.ciclo, IDproyect));\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  recepcionAP($event){\r\n    this.DispercionAP($event[0],$event[1])\r\n  }\r\n\r\n  DispercionAP(item, proyectoID) {\r\n    let flagMostrarInfo = false;\r\n    if (item != null) {\r\n      if (\r\n        this.impactoSeleccionadoElementoConstructivo != ' ' &&\r\n        this.elementoContructivoSelecionado != ' '\r\n      ) {\r\n        if (this.imgSeleccionadaElemento === ' ') {\r\n          this.show_Dispercion = true;\r\n          this.imgSeleccionadaElemento = item;\r\n          this.idProyectoSeleccionadoImagen = proyectoID;\r\n          document.getElementById(item).className = 'edificio-individual-seleccionado';\r\n          flagMostrarInfo = true;\r\n          this.proyectosMostrados_elementos.forEach((element) => {\r\n            if (element.idproyecto == proyectoID) {\r\n              this.nombreProyectoElegidoSeleccionadoElementos = element.nombre;\r\n            }\r\n          });\r\n          let elemento = this.sectionList.filter(\r\n            ({ id }) => id == Number(this.elementoContructivoSelecionado)\r\n          );\r\n          this.elementoSeleccionadoMostrado = elemento[0]['name_section'];\r\n        } else {\r\n          if (item != this.imgSeleccionadaElemento) {\r\n            document.getElementById(this.imgSeleccionadaElemento).className =\r\n              'edificio-individual';\r\n            document.getElementById(item).className =\r\n              'edificio-individual-seleccionado';\r\n            this.imgSeleccionadaElemento = item.toString();\r\n            this.idProyectoSeleccionadoImagen = proyectoID;\r\n            flagMostrarInfo = true;\r\n            this.proyectosMostrados_elementos.forEach((element) => {\r\n              if (element.idproyecto == proyectoID) {\r\n                this.nombreProyectoElegidoSeleccionadoElementos =\r\n                  element.nombre;\r\n              }\r\n            });\r\n            let elemento = this.sectionList.filter(\r\n              ({ id }) => id == Number(this.elementoContructivoSelecionado)\r\n            );\r\n            this.elementoSeleccionadoMostrado = elemento[0]['name_section'];\r\n          } else {\r\n            this.show_Dispercion = false;\r\n            document.getElementById(item).className = 'edificio-individual';\r\n            this.nombreProyectoElegidoSeleccionadoElementos = ' ';\r\n            this.imgSeleccionadaElemento = ' ';\r\n            this.idProyectoSeleccionadoImagen = ' ';\r\n            this.banderaTipoGraficaDispercion = true;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      flagMostrarInfo = true;\r\n    }\r\n    if (flagMostrarInfo) {\r\n      this.iniciarTabaDispercion();\r\n      if (this.containerGraficasDos != undefined) {\r\n        this.iniciarGraficaEspecificaDispercion();\r\n      }\r\n    }\r\n  }\r\n\r\n  findUnidad(indicador) {\r\n    let final_unit;\r\n    let impacto = indicador.replace(/\\n/g, '');\r\n    impacto = impacto.replace(/\\s/g, '');\r\n    this.potentialTypesList.forEach((element) => {\r\n      let aux_element = element['name_complete_potential_type'].replace(\r\n        /\\s/g,\r\n        ''\r\n      );\r\n      if (impacto === aux_element) {\r\n        final_unit = element['unit_potential_type'];\r\n      }\r\n    });\r\n    if (indicador != undefined) {\r\n    }\r\n    return final_unit;\r\n  }\r\n\r\n  iniciarTabaDispercion() {\r\n    this.infoTablaDispercion = [];\r\n    //'color-'no', 'material', 'porcentaje', 'numero'\r\n    //console.log(this.outproyect_pie_bar_elementos)\r\n    this.outproyect_pie_bar_elementos.forEach((element) => {\r\n      if (element['id'] == this.idProyectoSeleccionadoImagen) {\r\n        let auxhelp = [];\r\n        let suma = 0;\r\n        let auxdatos = [];\r\n        Object.keys(element.Datos).forEach((impacto) => {\r\n          let auxNombre = this.calculosSegunaSeccion.ajustarNombre(\r\n            this.impactoSeleccionadoElementoConstructivo\r\n          );\r\n          if (impacto === auxNombre) {\r\n            Object.keys(element.Datos[impacto]).forEach((elementoC) => {\r\n              if (elementoC == this.elementoContructivoSelecionado) {\r\n                //Ordear de mayor a menor\r\n                Object.keys(element.Datos[impacto][elementoC]).forEach(\r\n                  (material, index) => {\r\n                    suma += element.Datos[impacto][elementoC][material];\r\n                    auxhelp = [\r\n                      ...auxhelp,\r\n                      element.Datos[impacto][elementoC][material],\r\n                    ];\r\n                  }\r\n                );\r\n                auxdatos = auxhelp.sort((n1, n2) => {\r\n                  if (n1 > n2) {\r\n                    return 1;\r\n                  }\r\n\r\n                  if (n1 < n2) {\r\n                    return -1;\r\n                  }\r\n\r\n                  return 0;\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n        auxdatos = auxdatos.reverse();\r\n        let num = 0;\r\n        let auxColor = {\r\n          '#5A1002': 'rgb(90,16,2)',\r\n          '#902511': 'rgb(144,37,17)',\r\n          '#BE3218': 'rgb(190,50,24)',\r\n          '#EB3F20': 'rgb(235,63,32)',\r\n          '#EB5720': 'rgb(235,87,32)',\r\n          '#EB7620': 'rgb(235,118,32)',\r\n          '#EB9520': 'rgb(235,149,32)',\r\n          '#EBC420': 'rgb(235,196,32)',\r\n          '#EBDB20': 'rgb(235,219,32)',\r\n          '#CCEB20': 'rgb(204,235,32)',\r\n          '#76EB20': 'rgb(118,235,32)',\r\n        };\r\n        if (auxdatos.length == 0) {\r\n          this.flagMaterialesDispercion = false;\r\n          this.flagSinMaterialesDispercion = true;\r\n        } else {\r\n          let colorhelp = auxColor[this.colorGraficaDispercion].match(\r\n            /rgba?\\((\\d{1,3}), ?(\\d{1,3}), ?(\\d{1,3})\\)?(?:, ?(\\d(?:\\.\\d?))\\))?/\r\n          );\r\n          let cambioR = colorhelp[1];\r\n          let cambioG = colorhelp[2];\r\n          let cambioB = colorhelp[3];\r\n          auxdatos.forEach((lugar, ii) => {\r\n            Object.keys(element.Datos).forEach((impacto) => {\r\n              let auxNombre = this.calculosSegunaSeccion.ajustarNombre(\r\n                this.impactoSeleccionadoElementoConstructivo\r\n              );\r\n              if (impacto === auxNombre) {\r\n                this.unidadImpactoAmientalTabla = impacto;\r\n                Object.keys(element.Datos[impacto]).forEach((elementoC) => {\r\n                  if (elementoC == this.elementoContructivoSelecionado) {\r\n                    Object.keys(element.Datos[impacto][elementoC]).forEach(\r\n                      (material, index) => {\r\n                        let aux = {};\r\n                        if (\r\n                          lugar == element.Datos[impacto][elementoC][material]\r\n                        ) {\r\n                          //Sección para determinar el color en la tabla con relación a la gráfica\r\n                          let auxrgbcolor = 'rgb(';\r\n                          if (ii <= 2) {\r\n                            auxrgbcolor = auxrgbcolor\r\n                              .concat(cambioR.toString())\r\n                              .concat(',')\r\n                              .concat(cambioG)\r\n                              .concat(',')\r\n                              .concat(cambioB)\r\n                              .concat(')');\r\n                            if (255 - cambioR >= 40) {\r\n                              cambioR = (Number(cambioR) + 40).toString();\r\n                            } else if (cambioG - 40 >= 0) {\r\n                              cambioG = (Number(cambioG) - 40).toString();\r\n                            } else {\r\n                              cambioB = (Number(cambioB) + 40).toString();\r\n                            }\r\n                          } else {\r\n                            auxrgbcolor = auxrgbcolor\r\n                              .concat(cambioR.toString())\r\n                              .concat(',')\r\n                              .concat(colorhelp[2])\r\n                              .concat(',')\r\n                              .concat(colorhelp[3])\r\n                              .concat(')');\r\n                          }\r\n                          aux['color'] = auxrgbcolor;\r\n                          let helpMaterial = this.materiales.filter(\r\n                            ({ id }) => id == material\r\n                          );\r\n                          num = num + 1;\r\n                          aux['no'] = num;\r\n                          aux['material'] = helpMaterial[0]['name_material'];\r\n                          aux['porcentaje'] = (\r\n                            (element.Datos[impacto][elementoC][material] / suma) *\r\n                            100\r\n                          ).toFixed(2);\r\n                          aux['numero'] =\r\n                            element.Datos[impacto][elementoC][\r\n                              material\r\n                            ].toExponential(2);\r\n                          this.infoTablaDispercion.push(aux);\r\n                        }\r\n                      }\r\n                    );\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          });    \r\n          this.flagMaterialesDispercion = true;\r\n          this.flagSinMaterialesDispercion = false;\r\n        }\r\n      }\r\n    });\r\n    if (this.flagMaterialesDispercion) {\r\n\r\n      this.unidadImpactoAmientalTabla = this.findUnidad(\r\n        this.unidadImpactoAmientalTabla\r\n      );\r\n    }\r\n  }\r\n\r\n  iniciarGraficaEspecificaDispercion() {\r\n    //true = pie ; false = barras\r\n    let auxDatos;\r\n    let aux = {};\r\n    this.outproyect_pie_bar_elementos.forEach((element) => {\r\n      if (element['id'] == this.idProyectoSeleccionadoImagen) {\r\n        Object.keys(element.Datos).forEach((impacto) => {\r\n          let auxNombre = this.calculosSegunaSeccion.ajustarNombre(\r\n            this.impactoSeleccionadoElementoConstructivo\r\n          );\r\n          if (impacto === auxNombre) {\r\n            Object.keys(element.Datos[impacto]).forEach((elementoC) => {\r\n              if (elementoC == this.elementoContructivoSelecionado) {\r\n                Object.keys(element.Datos[impacto][elementoC]).forEach(\r\n                  (material, index) => {\r\n                    aux[material] = element.Datos[impacto][elementoC][material];\r\n                  }\r\n                );\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n    this.asignarColorGraficaDispercion();\r\n    if (this.banderaTipoGraficaDispercion) {\r\n      this.containerGraficasDos.clear();\r\n      const componentFactory =\r\n        this.componentFactoryResolver.resolveComponentFactory(this.pieChart);\r\n      const grafica =\r\n        this.containerGraficasDos.createComponent(componentFactory);\r\n      grafica.instance.inputProyect = aux;\r\n      grafica.instance.showMePartially = this.showVar;\r\n      grafica.instance.indicador = this.selector;\r\n      grafica.instance.id = this.ID;\r\n      grafica.instance.Bandera_resultado = 1;\r\n      grafica.instance.unidades = this.potentialTypesList;\r\n      grafica.instance.colorDispercion = this.colorGraficaDispercion;\r\n    } else {\r\n      this.containerGraficasDos.clear();\r\n      const componentFactory =\r\n        this.componentFactoryResolver.resolveComponentFactory(\r\n          this.barChartSimpleComponent\r\n        );\r\n      const grafica =\r\n        this.containerGraficasDos.createComponent(componentFactory);\r\n      grafica.instance.banderaDispercion = true;\r\n      grafica.instance.info = aux;\r\n      grafica.instance.showGr = false;\r\n      grafica.instance.showlastGr = true;\r\n      grafica.instance.colorDispercion = this.colorGraficaDispercion;\r\n    }\r\n  }\r\n\r\n  cambioDeTipoGraficaDispercion(bandera) {\r\n    this.banderaTipoGraficaDispercion = bandera;\r\n    this.DispercionAP(null, this.idProyectoSeleccionadoImagen);\r\n  }\r\n\r\n  //configuración de la sección dispersión del impacto en cimentación\r\n  configurarData($event, IDproyect: number) {\r\n    let auxdatos = $event;\r\n    this.proyectosMostrados_elementos.forEach((element) => {\r\n      if (element.idproyecto == IDproyect) {\r\n        element.showcimenta = auxdatos.show;\r\n        element.elemento = auxdatos.etapa;\r\n        if (element.showcimenta) {\r\n          this.childBarSimple.forEach((c) =>\r\n            c.CargarDatos(element.elemento, element.ciclo)\r\n          );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  receiveSelectorDos($event) {\r\n    //cordinate with bar graph\r\n    let aux = ' ';\r\n    this.impactoSeleccionadoElementoConstructivoGrafica = $event['selec'];\r\n    if ($event['seleccion'] != null) {\r\n      if (Array.isArray($event['seleccion'])) {\r\n        let sl;\r\n        $event['seleccion'].forEach((element, index) => {\r\n          if (index == 0) {\r\n            sl = element;\r\n          } else {\r\n            sl = sl.concat('', element);\r\n          }\r\n        });\r\n        aux = sl;\r\n      } else {\r\n        aux = $event['seleccion'];\r\n      }\r\n      this.catologoImpactoAmbiental.forEach((impacto) => {\r\n        let auxnameI = impacto['name_complete_potential_type'].replace(\r\n          /\\s/g,\r\n          ''\r\n        );\r\n        let auxnameIS = aux.replace(/\\s/g, '');\r\n        if (auxnameIS === auxnameI) {\r\n          let auxID = impacto['id'].toString().concat('LineaImpactoElememtos');\r\n          document.getElementById(auxID).className = 'linea-select';\r\n        } else {\r\n          let auxID = impacto['id'].toString().concat('LineaImpactoElememtos');\r\n          document.getElementById(auxID).className = 'dot';\r\n        }\r\n      });\r\n      let auxnombre = this.calculos.ajustarNombre(aux);\r\n      this.elementosConstructivosMostradosElementosPorProyecto = $event['nivelesProyectos'];\r\n      this.nivelesExistententesElementosConstructivos =\r\n        $event['niveles'][auxnombre];\r\n      this.coloresExistententesElementosConstructivos = $event['color'];\r\n      this.graficabar(aux);\r\n      this.asignarColorGraficaDispercion();\r\n    } else {\r\n      this.catologoImpactoAmbiental.forEach((impacto) => {\r\n        let auxID = impacto['id'].toString().concat('LineaImpactoElememtos');\r\n        let elementosflag = document.getElementById(auxID);\r\n        if (elementosflag != null) {\r\n          elementosflag.className = 'dot';\r\n        }\r\n      });\r\n      this.graficabar(null);\r\n    }\r\n  }\r\n\r\n  asignarColorGraficaDispercion() {\r\n    if (this.impactoSeleccionadoElementoConstructivo != ' ') {\r\n      if (this.elementoContructivoSelecionado != ' ') {\r\n        this.nivelesExistententesElementosConstructivos.forEach(\r\n          (element, index) => {\r\n            if (element == Number(this.elementoContructivoSelecionado)) {\r\n              this.colorGraficaDispercion =\r\n                this.coloresExistententesElementosConstructivos[index];\r\n            }\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  graficabar(item) {\r\n    if (Number.isInteger(item)) {\r\n      //En caso de oprimir un elemento constructivo\r\n      if (this.elementoContructivoSelecionado === ' ') {\r\n        this.elementoContructivoSelecionado = item.toString();\r\n        if (this.impactoSeleccionadoElementoConstructivo === ' ') {\r\n          //Opción sin seleccionar ningún impacto ambiental se selecciona un elemento;\r\n          document.getElementById('texto'.concat(item.toString())).className =\r\n            'espacio-seleccionado';\r\n          this.iniciaBarrasSeccionDos();\r\n        } else {\r\n          //Opción con un impacto elemento seleccionado y todos los botones prendidos\r\n          Object.keys(this.iconosElementosConstrucivos).forEach((element) => {\r\n            if (\r\n              this.iconosElementosConstrucivos[element]['habilitado'] === false\r\n            ) {\r\n              if (element === item.toString()) {\r\n                document.getElementById(\r\n                  this.idsIconosElementos[element]['idTEXTO']\r\n                ).className = 'espacio-seleccionado';\r\n              } else {\r\n                document.getElementById(\r\n                  this.idsIconosElementos[element]['idTEXTO']\r\n                ).className = 'espacio-sin-selecciomar';\r\n              }\r\n            }\r\n          });\r\n          //Actualizar grafica para que se ilumen el elemento solo del impacto seleccionado\r\n          this.iniciaBarrasSeccionDos();\r\n          if (this.imgSeleccionadaElemento != ' ') {\r\n            this.show_Dispercion = true;\r\n          }\r\n        }\r\n      } else {\r\n        //En caso de tener un elemento constructivo ya seleccionado\r\n        if (item != this.elementoContructivoSelecionado) {\r\n          //Cambio de elemento seleccionado\r\n          document.getElementById(\r\n            'texto'.concat(this.elementoContructivoSelecionado)\r\n          ).className = 'espacio-sin-selecciomar';\r\n          document.getElementById('texto'.concat(item.toString())).className =\r\n            'espacio-seleccionado';\r\n          this.elementoContructivoSelecionado = item.toString();\r\n          this.iniciaBarrasSeccionDos();\r\n        } else {\r\n          //quitar la selección del elemento constructivo\r\n          document.getElementById('texto'.concat(item.toString())).className =\r\n            'espacio-sin-selecciomar';\r\n          this.elementoContructivoSelecionado = ' ';\r\n          this.impactoSeleccionadoElementoConstructivo = ' ';\r\n          this.impactoSeleccionadoElementoConstructivoGrafica = null;\r\n          this.catologoImpactoAmbiental.forEach((impacto) => {\r\n            let auxID = impacto['id'].toString().concat('LineaImpactoElememtos');\r\n            let elementosflag = document.getElementById(auxID);\r\n            if (elementosflag != null) {\r\n              elementosflag.className = 'dot';\r\n            }\r\n          });\r\n          this.iniciaBarrasSeccionDos();\r\n          if (this.imgSeleccionadaElemento != ' ') {\r\n            //Quitar la selección dela imagen seleccionado y que se desactiven las graficas de las potencias de impactos\r\n            document.getElementById(this.imgSeleccionadaElemento).className =\r\n              'img-edificio';\r\n            this.imgSeleccionadaElemento = ' ';\r\n            this.show_Dispercion = false;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      //cuando se presiona un impacto ambiental\r\n      if (item === null) {\r\n        //Se elimina la selección del impacto ambiental\r\n        this.impactoSeleccionadoElementoConstructivo = ' ';\r\n        this.impactoSeleccionadoElementoConstructivoGrafica = null;\r\n        Object.keys(this.iconosElementosConstrucivos).forEach((element) => {\r\n          if (\r\n            this.iconosElementosConstrucivos[element]['habilitado'] === false\r\n          ) {\r\n            document.getElementById(\r\n              this.idsIconosElementos[element]['idTEXTO']\r\n            ).className = 'espacio-sin-selecciomar';\r\n          }\r\n        });\r\n        this.elementoContructivoSelecionado = ' ';\r\n        if (this.imgSeleccionadaElemento != ' ') {\r\n          //Quitar la selección dela imagen seleccionado y que se desactiven las graficas de las potencias de impactos\r\n          document.getElementById(this.imgSeleccionadaElemento).className =\r\n            'img-edificio';\r\n          this.imgSeleccionadaElemento = ' ';\r\n        }\r\n        this.show_Dispercion = false;\r\n        this.catologoImpactoAmbiental.forEach((impacto) => {\r\n          let auxID = impacto['id'].toString().concat('LineaImpactoElememtos');\r\n          let elementosflag = document.getElementById(auxID);\r\n          if (elementosflag != null) {\r\n            elementosflag.className = 'dot';\r\n          }\r\n        });\r\n      } else {\r\n        //seleccionar un impacto ambiental\r\n        if (this.impactoSeleccionadoElementoConstructivo === ' ') {\r\n          this.impactoSeleccionadoElementoConstructivo = item;\r\n          if (this.elementoContructivoSelecionado === ' ') {\r\n            //Opción sin seleccionar ningún elemento constructivo se seleccionan todos los elementos;\r\n            Object.keys(this.iconosElementosConstrucivos).forEach((element) => {\r\n              if (\r\n                this.iconosElementosConstrucivos[element]['habilitado'] ===\r\n                false\r\n              ) {\r\n                document.getElementById(\r\n                  this.idsIconosElementos[element]['idTEXTO']\r\n                ).className = 'espacio-seleccionado';\r\n              }\r\n            });\r\n          } else {\r\n            //recetear el impacto constructivo seleccionado\r\n            if (this.imgSeleccionadaElemento != ' ') {\r\n              this.show_Dispercion = true;\r\n            }\r\n          }\r\n        } else {\r\n          //cambio de selección en el impacto ambiental\r\n          this.impactoSeleccionadoElementoConstructivo = item;\r\n          if (this.elementoContructivoSelecionado != ' ') {\r\n            this.asignarColorGraficaDispercion();\r\n            if (this.imgSeleccionadaElemento != ' ') {\r\n              this.show_Dispercion = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (this.show_Dispercion) {\r\n      let elemento = this.sectionList.filter(\r\n        ({ id }) => id == Number(this.elementoContructivoSelecionado)\r\n      );\r\n      this.elementoSeleccionadoMostrado = elemento[0]['name_section'];\r\n      this.DispercionAP(null, this.idProyectoSeleccionadoImagen);\r\n    }\r\n    this.iniciarImgEdificio();\r\n  }\r\n\r\n  AjusteGraficaElementosContructivos(item) {\r\n    if (this.elementosContructivosEliminados.includes(item.toString())) {\r\n      this.elementosContructivosEliminados.forEach((element, index) => {\r\n        if (element == item.toString()) {\r\n          this.elementosContructivosEliminados.splice(index, 1);\r\n          document.getElementById('ojo'.concat(item.toString())).className =\r\n            'button-icono';\r\n          this.iconosElementosConstrucivos[item.toString()]['icono'] =\r\n            'visibility';\r\n        }\r\n      });\r\n    } else {\r\n      this.iconosElementosConstrucivos[item.toString()]['icono'] =\r\n        'visibility_off';\r\n      document.getElementById('ojo'.concat(item.toString())).className =\r\n        'button-icono-seleccionado';\r\n      this.elementosContructivosEliminados.push(item.toString());\r\n    }\r\n\r\n    this.outproyect_bar_elementos = [];\r\n    this.proyect_active.forEach((element) => {\r\n      let analisis = this.getAnalisisBarrasElementosConstructivos(element);\r\n      this.outproyect_bar_elementos.push(analisis);\r\n    });\r\n    this.elementosContructivosEliminados.forEach((value) => {\r\n      this.outproyect_bar_elementos.forEach((proyecto, index) => {\r\n        let indicadores = Object.keys(proyecto.Datos);\r\n        indicadores.forEach((element) => {\r\n          delete this.outproyect_bar_elementos[index].Datos[element][value];\r\n        });\r\n      });\r\n    });\r\n    this.iniciaBarrasSeccionDos();\r\n    if(this.imgSeleccionadaElemento!=' '){\r\n      this.DispercionAP(this.imgSeleccionadaElemento,' ');\r\n    }\r\n    Object.keys(this.iconosElementosConstrucivos).forEach(element => {\r\n      if(this.iconosElementosConstrucivos[element]['habilitado'] === false){\r\n        document.getElementById(this.idsIconosElementos[element]['idTEXTO']).className = 'espacio-sin-selecciomar';\r\n      }\r\n    })\r\n    this.catologoImpactoAmbiental.forEach((impacto) => {\r\n      let auxID = impacto['id'].toString().concat('LineaImpactoElememtos');\r\n      let elementosflag = document.getElementById(auxID);\r\n      if (elementosflag != null) {\r\n        elementosflag.className = 'dot';\r\n      }\r\n    });\r\n    this.graficabar(null);\r\n  }\r\n\r\n  llenarIdsBotones(elementos) {\r\n    elementos.forEach((element) => {\r\n      this.idsIconosElementos[element.id.toString()] = {};\r\n      this.idsIconosElementos[element.id.toString()]['idOJO'] = 'ojo'.concat(\r\n        element.id.toString()\r\n      );\r\n      this.idsIconosElementos[element.id.toString()]['idTEXTO'] =\r\n        'texto'.concat(element.id.toString());\r\n    });\r\n    this.cargaElementos = true;\r\n  }\r\n\r\n  cambioEstadoTercerSección(cambio) {\r\n    Object.keys(this.estadoTercerSeccion).forEach((idP) => {\r\n      if (cambio['idProyecto'].toString() === idP) {\r\n        if (cambio['cambioEn'] === 'CicloVida') {\r\n          if (this.cicloVidaSeleccionadoElemento != ' ') {\r\n            document.getElementById(\r\n              this.cicloVidaSeleccionadoElemento.concat('TextoElemento')\r\n            ).className = 'button-info';\r\n            this.cicloVidaSeleccionadoElemento = ' ';\r\n          }\r\n          this.estadoTercerSeccion[idP]['cicloSeleccionado'] = cambio['cambio'];\r\n        } else if (cambio['cambioEn'] === 'CambioGrafica') {\r\n          //'flagPie':true,\r\n          //'fragBar':false\r\n          this.estadoTercerSeccion[idP]['flagPie'] = cambio['cambio'].pie;\r\n          this.estadoTercerSeccion[idP]['fragBar'] = cambio['cambio'].bar;\r\n        } else {\r\n          this.estadoTercerSeccion[idP]['agruparProduccion'] = cambio['cambio'];\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n} from '@angular/core';\r\nimport { ChartOptions, ChartType, ChartDataSets } from 'chart.js';\r\nimport { Label, BaseChartDirective } from 'ng2-charts';\r\n\r\nimport * as pluginDataLabels from 'chartjs-plugin-datalabels';\r\nimport { runInThisContext } from 'vm';\r\nimport { element } from 'protractor';\r\nimport { convertToObject } from 'typescript';\r\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\n@Component({\r\n  selector: 'app-bar-chart',\r\n  templateUrl: './bar-chart.component.html',\r\n  styleUrls: ['./bar-chart.component.scss'],\r\n})\r\nexport class BarChartComponent implements OnInit {\r\n  @ViewChild('MyChart') chartDir: BaseChartDirective;\r\n  private canvas: any;\r\n\r\n  @Input() inputProyects: any;\r\n  @Input('porcentaje') porcentaje: any;\r\n  @Input() showMe: boolean;\r\n  @Input() Bandera_bar: boolean;\r\n  @Input() Columna_seleccionada: string;\r\n  @Input() banera_enfoqueSerie_externo: boolean;\r\n  @Input() serie_input: string;\r\n  @Input() bandera_enfoqueColumna: boolean;\r\n  @Input() elementoConstructivo: String;\r\n  @Input() impactoAmbiental: any;\r\n  @Input() impactos: any;\r\n\r\n  private colores = {\r\n    FinDeVida: '#DEA961',\r\n    Uso: '#8F5091',\r\n    Construccion: '#148A93',\r\n    Producción: '#4DBE89',\r\n  };\r\n  private coloresBWGraph2Nuevo = [\r\n    'rgb(90, 16, 2,0.5)',\r\n    'rgb(144, 37, 17,0.5)',\r\n    'rgb(190, 50, 24,0.5)',\r\n    'rgb(235, 63, 32,0.5)',\r\n    'rgb(235, 87, 32,0.5)',\r\n    'rgb(235, 118, 32,0.5)',\r\n    'rgb(235, 173, 32,0.5)',\r\n    'rgb(235, 196, 32,0.5)',\r\n    'rgb(235, 219, 32,0.5)',\r\n    'rgb(204, 235, 32,0.5)',\r\n    'rgb(118, 235, 32,0.5)',\r\n  ];\r\n  private coloresGraph2Nuevo = [\r\n    '#5A1002',\r\n    '#902511',\r\n    '#BE3218',\r\n    '#EB3F20',\r\n    '#EB5720',\r\n    '#EB7620',\r\n    '#EB9520',\r\n    '#EBC420',\r\n    '#EBDB20',\r\n    '#CCEB20',\r\n    '#76EB20',\r\n  ];\r\n  private coloresBW = {\r\n    Producción: '#B1B1B1',\r\n    Construccion: '#6A6A6A',\r\n    Uso: '#686868',\r\n    FinDeVida: '#969696',\r\n  };\r\n  private auxColor = [];\r\n  private auxColorBW = [];\r\n  private ElementosEnNiveles = [];\r\n  private banderaImpacto = false;\r\n\r\n  private lastClick = 'Ninguno';\r\n  private hovered = null;\r\n  private centrosX = {};\r\n  private proyectos = [];\r\n  private auxElementos = {};\r\n  private auxElemntosData = {};\r\n  @Output() lastClickEvent = new EventEmitter<string>();\r\n  @Output() ClickEvent = new EventEmitter<any>();\r\n  private maxValue = 0;\r\n\r\n  public barChartOptions: ChartOptions = {\r\n    responsive: true,\r\n    title: { display: true },\r\n    legend: { display: false },\r\n    tooltips: { enabled: false, mode: 'label' },\r\n    events: ['touchstart', 'mousemove', 'click'],\r\n    plugins: {\r\n      datalabels: {\r\n        color: 'white',\r\n        anchor: 'center',\r\n        align: 'center',\r\n        font: {\r\n          size: 7,\r\n        },\r\n      },\r\n    },\r\n  };\r\n  public barChartLabels: Label[];\r\n  public barChartType: ChartType = 'bar';\r\n  public barChartLegend = true;\r\n  public barChartPlugins = [\r\n    pluginDataLabels,\r\n    {\r\n      afterDraw: this.agregaTitulosProyectos.bind(this),\r\n      beforeInit: function (chart) {\r\n        chart.data.labels.forEach(function (e, i, a) {\r\n          if (/\\n/.test(e)) {\r\n            a[i] = e.split(/\\n/);\r\n          }\r\n        });\r\n      },\r\n    },\r\n  ];\r\n\r\n  public barChartData: ChartDataSets[];\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {\r\n    this.iniciaIndicadores();\r\n    this.iniciaDatos();\r\n    this.ajustaEjeY();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // Ya que se inicializa el componente\r\n    this.canvas = this.chartDir.chart.canvas;\r\n    this.canvas.addEventListener('mousemove', (e) => {\r\n      this.onHover(e);\r\n    });\r\n    this.canvas.addEventListener('mousedown', (e) => {\r\n      this.onMouseDown(e);\r\n    });\r\n  }\r\n\r\n  // configuración de datos (lectura de datos de entrada)\r\n  private ajustaEjeY() {\r\n    // se se usan porcentajes, limita el eje y de 0 a 100\r\n    if (this.porcentaje) {\r\n      this.barChartOptions.scales = {\r\n        yAxes: [\r\n          {\r\n            display: true,\r\n            ticks: {\r\n              beginAtZero: true,\r\n              max: 100,\r\n              fontSize: 11,\r\n            },\r\n          },\r\n        ],\r\n        xAxes: [\r\n          {\r\n            display: true,\r\n            ticks: {\r\n              beginAtZero: true,\r\n              max: 100,\r\n              fontSize: 11,\r\n            },\r\n          },\r\n        ],\r\n      };\r\n    } else {\r\n      this.barChartOptions.scales = {\r\n        yAxes: [\r\n          {\r\n            display: true,\r\n            ticks: {\r\n              beginAtZero: true,\r\n              max: this.maxValue,\r\n              fontSize: 11,\r\n            },\r\n          },\r\n        ],\r\n        xAxes: [\r\n          {\r\n            display: true,\r\n            ticks: {\r\n              beginAtZero: true,\r\n              max: 100,\r\n              fontSize: 11,\r\n            },\r\n          },\r\n        ],\r\n      };\r\n    }\r\n  }\r\n\r\n  private iniciaIndicadores() {\r\n    // se obtienen todos los indicadores en los proyectos\r\n    this.barChartLabels = [];\r\n    if (this.Bandera_bar) {\r\n      this.inputProyects.forEach((proyecto) => {\r\n        Object.keys(proyecto.Datos).forEach((indicador) => {\r\n          if (!this.barChartLabels.includes(indicador)) {\r\n            this.barChartLabels = [...this.barChartLabels, indicador];\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      this.inputProyects.forEach((proyecto) => {\r\n        Object.keys(proyecto.Datos).forEach((indicador) => {\r\n          let auxAbr = '';\r\n          this.impactos.forEach((impacto) => {\r\n            let auxNameImpacto = this.ajustarNombre(\r\n              impacto['name_complete_potential_type']\r\n            );\r\n            if (indicador === auxNameImpacto) {\r\n              auxAbr = impacto['name_potential_type'];\r\n            }\r\n          });\r\n          let auxIndicador = indicador.concat('\\n(', auxAbr, ')');\r\n          if (!this.barChartLabels.includes(auxIndicador)) {\r\n            this.barChartLabels = [...this.barChartLabels, auxIndicador];\r\n          }\r\n          proyecto.Datos[indicador].total = 0;\r\n          proyecto.Datos[indicador].total = Object.values(\r\n            proyecto.Datos[indicador]\r\n          ).reduce((a: any, b: any) => a + b, 0);\r\n          this.maxValue = Math.max(\r\n            this.maxValue,\r\n            proyecto.Datos[indicador].total\r\n          );\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  private iniciaDatos() {\r\n    // le da el formato necesario a los datos para que se puedan graficar\r\n    let datos = [];\r\n    this.barChartData = [];\r\n    this.ElementosEnNiveles = [];\r\n    if (this.Bandera_bar) {\r\n      //Sección para la gráfica de barras mostradas en los impactos ambientales por elementos constructivos\r\n      let numElementos = 0;\r\n      this.inputProyects.forEach((proyecto, numProyecto) => {\r\n        const auxData = {};\r\n        const auxDatos = {};\r\n        const auxDataElementos = {};\r\n        const auxDatosElementos = {};\r\n        let niveles_existentes = [];\r\n        this.auxElemntosData[proyecto.id] = {};\r\n        this.barChartLabels.forEach((indicador) => {\r\n          Object.keys(proyecto.Datos[indicador.toString()]).forEach(\r\n            (element, index) => {\r\n              let helpn = 'n'.concat(index.toString());\r\n              auxDatos[helpn] = [];\r\n              auxDatosElementos[helpn] = [];\r\n              if (!niveles_existentes.includes(helpn)) {\r\n                numElementos = numElementos + 1;\r\n                niveles_existentes.push(helpn);\r\n              }\r\n            }\r\n          );\r\n        });\r\n\r\n        this.barChartLabels.forEach((indicador, indexLabel) => {\r\n          this.auxElementos[indicador.toString()] = [];\r\n          this.auxElemntosData[proyecto.id][indexLabel.toString()] = [];\r\n          let suma = 0;\r\n          //creaición de los espacios para guardar los valores por niveles\r\n          Object.keys(proyecto.Datos[indicador.toString()]).forEach(\r\n            (element, index) => {\r\n              suma = suma + proyecto.Datos[indicador.toString()][element];\r\n            }\r\n          );\r\n          //acomodar conforme porcentajes y en orden para niveles\r\n          let auxdatos = [];\r\n          let help = [];\r\n          Object.keys(proyecto.Datos[indicador.toString()]).forEach(\r\n            (element, index) => {\r\n              help = [...help, proyecto.Datos[indicador.toString()][element]];\r\n            }\r\n          );\r\n          auxdatos = help.sort((n1, n2) => {\r\n            if (n1 > n2) {\r\n              return 1;\r\n            }\r\n\r\n            if (n1 < n2) {\r\n              return -1;\r\n            }\r\n\r\n            return 0;\r\n          });\r\n          auxdatos = auxdatos.reverse();\r\n          //se guarda el nivel de cada elemento constructivo dependiendo del impacto ambiental\r\n          auxdatos.forEach((datoC, index) => {\r\n            Object.keys(proyecto.Datos[indicador.toString()]).forEach(\r\n              (element) => {\r\n                if (datoC == proyecto.Datos[indicador.toString()][element]) {\r\n                  this.auxElementos[indicador.toString()].push(element);\r\n                  this.auxElemntosData[proyecto.id][indexLabel.toString()].push(\r\n                    element\r\n                  );\r\n                }\r\n              }\r\n            );\r\n          });\r\n          //Pasar a porsentaje\r\n          auxdatos.forEach((datoC, index) => {\r\n            let resultado = ((datoC * 100) / suma).toFixed(2);\r\n            auxdatos[index] = resultado;\r\n          });\r\n\r\n          //se guardan por niveles dependiendo del impacto ambiental\r\n          auxdatos.forEach((element, index) => {\r\n            let helpn = 'n'.concat(index.toString());\r\n            auxData[helpn] = element;\r\n            auxDataElementos[helpn] =\r\n              this.auxElementos[indicador.toString()][index];\r\n          });\r\n\r\n          //se llenan los niveles en orden\r\n          Object.keys(auxDatos).forEach((element) => {\r\n            Object.keys(auxData).forEach((valor) => {\r\n              if (element === valor) {\r\n                auxDatos[element].push(auxData[valor]);\r\n              }\r\n            });\r\n          });\r\n          Object.keys(auxDatosElementos).forEach((element) => {\r\n            Object.keys(auxDataElementos).forEach((valor) => {\r\n              if (element === valor) {\r\n                auxDatosElementos[element].push(auxDataElementos[valor]);\r\n              }\r\n            });\r\n          });\r\n        });\r\n        this.auxColor = this.coloresGraph2Nuevo;\r\n        this.auxColorBW = this.coloresBWGraph2Nuevo;\r\n\r\n        Object.keys(auxDatosElementos).forEach((etapa) => {\r\n          this.ElementosEnNiveles.push(auxDatosElementos[etapa]);\r\n        });\r\n        Object.keys(auxDatos).forEach((etapa, index) => {\r\n          datos = [\r\n            ...datos,\r\n            {\r\n              data: auxDatos[etapa],\r\n              label: etapa,\r\n              stack: proyecto,\r\n              backgroundColor: this.coloresGraph2Nuevo[index],\r\n              hoverBackgroundColor: this.coloresGraph2Nuevo[index],\r\n            },\r\n          ];\r\n        });\r\n      });\r\n    } else {\r\n      datos = [];\r\n      this.inputProyects.forEach((proyecto) => {\r\n        const auxDatos = {\r\n          Producción: [],\r\n          Construccion: [],\r\n          Uso: [],\r\n          FinDeVida: [],\r\n        };\r\n        this.barChartLabels.forEach((indicador) => {\r\n          let auxIndicador = this.reajusteNombre(indicador.toString());\r\n          Object.keys(auxDatos).forEach((etapa) => {\r\n            const indicadores = Object.keys(proyecto.Datos);\r\n            if (\r\n              !indicadores.includes(auxIndicador.toString()) ||\r\n              !Object.keys(proyecto.Datos[auxIndicador.toString()]).includes(\r\n                etapa\r\n              )\r\n            ) {\r\n              auxDatos[etapa] = [...auxDatos[etapa], 0];\r\n            } else {\r\n              auxDatos[etapa] = [\r\n                ...auxDatos[etapa],\r\n                this.porcentaje\r\n                  ? (\r\n                      (proyecto.Datos[auxIndicador.toString()][etapa] * 100) /\r\n                      proyecto.Datos[auxIndicador.toString()].total\r\n                    ).toFixed(2)\r\n                  : proyecto.Datos[auxIndicador.toString()][\r\n                      etapa\r\n                    ].toExponential(2),\r\n              ];\r\n            }\r\n          });\r\n        });\r\n        //console.log(auxDatos)\r\n        Object.keys(auxDatos).forEach((etapa) => {\r\n          datos = [\r\n            ...datos,\r\n            {\r\n              data: auxDatos[etapa],\r\n              label: etapa,\r\n              stack: proyecto.Nombre,\r\n              backgroundColor: this.colores[etapa],\r\n              hoverBackgroundColor: this.colores[etapa],\r\n            },\r\n          ];\r\n        });\r\n      });\r\n    }\r\n    this.barChartData = datos;\r\n    if (this.Bandera_bar) {\r\n      if (this.impactoAmbiental != null) {\r\n        if (this.elementoConstructivo != ' ') {\r\n          this.banderaImpacto = true;\r\n          this.focusColumnas(this.impactoAmbiental);\r\n          this.banderaImpacto = false;\r\n        }\r\n      } else {\r\n        if (this.elementoConstructivo != ' ') {\r\n          this.focusSeries(this.elementoConstructivo);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  reajusteNombre(name: String) {\r\n    let help = name;\r\n    let aux = name;\r\n    let flag = true;\r\n    for (var _i = help.length - 1; _i >= 0; _i--) {\r\n      if (flag) {\r\n        aux = aux.slice(0, _i);\r\n      }\r\n      if (help[_i] === '\\n') {\r\n        flag = false;\r\n      }\r\n    }\r\n    return aux;\r\n  }\r\n\r\n  // configurcion de estilo (Titulos de proyectos)\r\n  private iniciaPosiciones(chart: any) {\r\n    // Se encuentran las posiciones de las barras\r\n    const labels = chart['$datalabels']['_labels'];\r\n    this.centrosX = {};\r\n    this.proyectos = [];\r\n    labels.some((label) => {\r\n      if (this.Bandera_bar) {\r\n        const proyecto = label['$context']['dataset'].stack.Nombre;\r\n        const elemento = label['_el'];\r\n        const x = elemento['_view'].x;\r\n        if (this.centrosX[proyecto] == undefined) {\r\n          this.centrosX[proyecto] = [];\r\n          this.proyectos = [proyecto, ...this.proyectos];\r\n        }\r\n        if (x != NaN) {\r\n          if (!this.centrosX[proyecto].includes(x)) {\r\n            this.centrosX[proyecto].push(x);\r\n          }\r\n        }\r\n      } else {\r\n        const proyecto = label['$context']['dataset'].stack;\r\n        const elemento = label['_el'];\r\n        const x = elemento['_view'].x;\r\n\r\n        if (this.centrosX[proyecto] == undefined) {\r\n          this.centrosX[proyecto] = [];\r\n          this.proyectos = [proyecto, ...this.proyectos];\r\n        }\r\n        if (!this.centrosX[proyecto].includes(x)) {\r\n          this.centrosX[proyecto].push(x);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private agregaTitulosProyectos(chart: any) {\r\n    // Se agrega los titulos de las barras de varios proyectos (solo cuando son más de uno)\r\n    const ctx = chart.canvas.getContext('2d');\r\n    const labels = chart['$datalabels']['_labels'];\r\n    const centroY = chart['boxes'][1].height / 2;\r\n\r\n    this.iniciaPosiciones(chart);\r\n    if (chart['$datalabels']['_labels'].length == 0) {\r\n      return;\r\n    }\r\n    ctx.font = chart['$datalabels']['_labels'][0]['_ctx'].font; //'30px Comic Sans MS';\r\n    ctx.fillStyle = 'gray';\r\n    ctx.textAlign = 'center';\r\n    if (this.proyectos.length < 2) {\r\n      return;\r\n    }\r\n    // ctx.clearRect( 0, 0,this.canvas.width, chart['boxes'][1].height*3/4 );\r\n\r\n    this.proyectos.forEach((proyecto, index) => {\r\n      this.centrosX[proyecto].forEach((x) => {\r\n        ctx.fillText((index + 1).toString(), x, centroY);\r\n      });\r\n    });\r\n  }\r\n\r\n  // Control de eventos en la grafica\r\n\r\n  public onMouseDown(e: any) {\r\n    const limiteInferior =\r\n      this.chartDir.chart.height - this.chartDir.chart['boxes'][2].height;\r\n    const limiteSuperior = this.chartDir.chart['boxes'][1].height;\r\n\r\n    if (e.offsetY > limiteInferior) {\r\n      // Control de click en etiquetas\r\n      const seleccion = this.getEtiquetaCercana(e);\r\n      this.focusColumnas(seleccion);\r\n    } else if (e.offsetY < limiteSuperior) {\r\n      // Control de click de Proyecto\r\n      this.focusProyecto(e);\r\n    } else {\r\n      //this.togglePorcentaje();\r\n    }\r\n  }\r\n\r\n  private focusProyecto(e: any) {\r\n    // Selecciona todas las barras de un proyecto cuando se hace click en el area superior de la grafica\r\n    const labels = this.chartDir.chart['$datalabels']['_labels'];\r\n    let stack = null;\r\n    if (!this.Bandera_bar) {\r\n      labels.some((label) => {\r\n        const elemento = label['_el'];\r\n        if (elemento.inXRange(e.offsetX)) {\r\n          stack = label['$context']['dataset'].stack;\r\n          return true;\r\n        }\r\n      });\r\n\r\n      if (this.lastClick !== stack) {\r\n        this.barChartData.forEach((data, index) => {\r\n          let color = new Array(data.data.length);\r\n          if (data.stack == stack) {\r\n            color.fill(this.colores[data.label]);\r\n          } else {\r\n            color.fill(this.coloresBW[data.label]);\r\n          }\r\n\r\n          this.barChartData[index].backgroundColor = color;\r\n          this.barChartData[index].hoverBackgroundColor = color;\r\n        });\r\n\r\n        this.chartDir.update();\r\n        this.lastClick = stack;\r\n      } else {\r\n        this.resetColores();\r\n        this.lastClick = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  public focusColumnas(seleccion: any) {\r\n    let selec = seleccion;\r\n    if (this.lastClick !== seleccion.label) {\r\n      if (this.Bandera_bar) {\r\n        if (this.banderaImpacto) {\r\n          let nivelesAux = [];\r\n          let count = -1;\r\n          this.barChartData.forEach((datos, index) => {\r\n            let color = new Array(datos.data.length);\r\n            let coloraux = [];\r\n            if (!nivelesAux.includes(datos.label)) {\r\n              nivelesAux.push(datos.label);\r\n              count += 1;\r\n            } else {\r\n              nivelesAux = [];\r\n              nivelesAux.push(datos.label);\r\n              count = 0;\r\n            }\r\n            this.ElementosEnNiveles[index].forEach((element, ii) => {\r\n              if (ii == seleccion.index) {\r\n                if (element === this.elementoConstructivo) {\r\n                  coloraux.push(this.auxColor[count]);\r\n                } else {\r\n                  coloraux.push(this.auxColorBW[count]);\r\n                }\r\n              } else {\r\n                coloraux.push(this.auxColorBW[count]);\r\n              }\r\n            });\r\n            color = coloraux;\r\n\r\n            this.barChartData[index].backgroundColor = color;\r\n            this.barChartData[index].hoverBackgroundColor = color;\r\n          });\r\n        } else {\r\n          let nivelesAux = [];\r\n          let count = -1;\r\n          this.barChartData.forEach((datos, index) => {\r\n            let color = new Array(datos.data.length);\r\n            if (!nivelesAux.includes(datos.label)) {\r\n              nivelesAux.push(datos.label);\r\n              count += 1;\r\n            } else {\r\n              nivelesAux = [];\r\n              nivelesAux.push(datos.label);\r\n              count = 0;\r\n            }\r\n            if (this.elementoConstructivo != ' ') {\r\n              let coloraux = [];\r\n              this.ElementosEnNiveles[index].forEach((element, ii) => {\r\n                if (ii == seleccion.index) {\r\n                  if (element === this.elementoConstructivo) {\r\n                    coloraux.push(this.auxColor[count]);\r\n                  } else {\r\n                    coloraux.push(this.auxColorBW[count]);\r\n                  }\r\n                } else {\r\n                  coloraux.push(this.auxColorBW[count]);\r\n                }\r\n              });\r\n              color = coloraux;\r\n            } else {\r\n              color.fill(this.auxColorBW[count]);\r\n              color[seleccion.index] = this.auxColor[count];\r\n            }\r\n\r\n            this.barChartData[index].backgroundColor = color;\r\n            this.barChartData[index].hoverBackgroundColor = color;\r\n          });\r\n          this.chartDir.update();\r\n        }\r\n        this.lastClick = seleccion.label;\r\n      } else {\r\n        this.barChartData.forEach((datos, index) => {\r\n          let color = new Array(datos.data.length);\r\n\r\n          color.fill(this.coloresBW[datos.label]);\r\n          color[seleccion.index] = this.colores[datos.label];\r\n\r\n          this.barChartData[index].backgroundColor = color;\r\n          this.barChartData[index].hoverBackgroundColor = color;\r\n        });\r\n        this.chartDir.update();\r\n        this.lastClick = seleccion.label;\r\n      }\r\n      this.showMe = false;\r\n    } else {\r\n      if (this.Bandera_bar) {\r\n      } else {\r\n        this.showMe = true;\r\n      }\r\n      this.resetColores();\r\n      this.lastClick = null;\r\n    }\r\n    if (this.Bandera_bar) {\r\n      //aqui faltara uno que mande el color de los elementos constructivos\r\n      let aux = {\r\n        niveles: this.auxElementos,\r\n        seleccion: this.lastClick,\r\n        color: this.auxColor,\r\n        selec: selec,\r\n        nivelesProyectos: this.auxElemntosData,\r\n      };\r\n      //console.log(this.auxElementos,this.barChartData)\r\n      this.ClickEvent.emit(aux);\r\n    } else {\r\n      if (this.lastClick !== null) {\r\n        let auxLast = this.lastClick.slice(0, -1);\r\n        this.lastClickEvent.emit(auxLast);\r\n      } else {\r\n        this.lastClickEvent.emit(this.lastClick);\r\n      }\r\n    }\r\n  }\r\n\r\n  private getEtiquetaCercana(e: any) {\r\n    // Obtiene la etiqueta mas cercana al click en el eje X de acuerdo con barChartLabels\r\n    const etiquetas = this.chartDir.chart['boxes'][2]['_labelItems'];\r\n    let max = this.chartDir.chart.width;\r\n    let seleccion = '';\r\n    let indice = -1;\r\n\r\n    etiquetas.forEach((etiqueta, i) => {\r\n      const distancia = Math.abs(etiqueta.x - e.offsetX);\r\n      if (distancia < max) {\r\n        max = distancia;\r\n        seleccion = etiqueta.label;\r\n        indice = i;\r\n      }\r\n    });\r\n    return { label: seleccion, index: indice };\r\n  }\r\n\r\n  public onHover(e: any) {\r\n    // Controla el flujo de hover sobre los elementos de las barras\r\n    //console.log(this.showMe);\r\n    if (this.showMe) {\r\n      if (this.hovered !== null) {\r\n        //console.log(this.showMe);\r\n        const serie =\r\n          this.chartDir.chart.data.datasets[this.hovered['_datasetIndex']]\r\n            .label;\r\n        if (this.hovered.inRange(e.offsetX, e.offsetY)) {\r\n          if (this.lastClick !== serie) {\r\n            this.focusSeries(serie);\r\n            this.lastClick = serie;\r\n          }\r\n        } else {\r\n          this.resetColores();\r\n          this.hovered = null;\r\n          this.lastClick = null;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public resetColores() {\r\n    // Pone todas las series en color normal\r\n    if (this.Bandera_bar) {\r\n      let nivelesAux = [];\r\n      let count = -1;\r\n      this.barChartData.forEach((data, index) => {\r\n        if (!nivelesAux.includes(data.label)) {\r\n          nivelesAux.push(data.label);\r\n          count += 1;\r\n        } else {\r\n          nivelesAux = [];\r\n          nivelesAux.push(data.label);\r\n          count = 0;\r\n        }\r\n        const color = this.auxColor[count];\r\n        this.barChartData[index].backgroundColor = color;\r\n        this.barChartData[index].hoverBackgroundColor = color;\r\n      });\r\n    } else {\r\n      this.barChartData.forEach((data, index) => {\r\n        const color = this.colores[data.label];\r\n        this.barChartData[index].backgroundColor = color;\r\n        this.barChartData[index].hoverBackgroundColor = color;\r\n      });\r\n    }\r\n\r\n    this.chartDir.update();\r\n  }\r\n\r\n  public focusSeries(serie) {\r\n    // Pone la serie seleccionada de color normal, el resto se pone en blanco y negro\r\n    let count = -1;\r\n    let nivelesAux = [];\r\n    this.barChartData.forEach((datos, index) => {\r\n      let color: any;\r\n      if (this.Bandera_bar) {\r\n        let coloraux = [];\r\n        if (!nivelesAux.includes(datos.label)) {\r\n          nivelesAux.push(datos.label);\r\n          count += 1;\r\n        } else {\r\n          nivelesAux = [];\r\n          nivelesAux.push(datos.label);\r\n          count = 0;\r\n        }\r\n        this.ElementosEnNiveles[index].forEach((element) => {\r\n          if (element === serie) {\r\n            coloraux.push(this.auxColor[count]);\r\n          } else {\r\n            coloraux.push(this.auxColorBW[count]);\r\n          }\r\n        });\r\n        color = coloraux;\r\n      } else {\r\n        //console.log(this.banera_enfoqueSerie_externo,serie);\r\n        if (datos.label !== serie) {\r\n          color = this.coloresBW[datos.label];\r\n        } else {\r\n          color = this.colores[datos.label];\r\n        }\r\n      }\r\n      this.barChartData[index].backgroundColor = color;\r\n      this.barChartData[index].hoverBackgroundColor = color;\r\n    });\r\n    if (this.Bandera_bar) {\r\n    } else {\r\n      this.chartDir.update();\r\n    }\r\n  }\r\n\r\n  public onChartHover(e: any): void {\r\n    // Asigna el elemento de la grafica sobre el cual se hace hover\r\n    this.hovered = this.chartDir.chart.getElementAtEvent(event)[0];\r\n\r\n    // if(!this.hoverIniciado){\r\n    //   this.hoverIniciado = true;\r\n    //   console.log('hovered')\r\n    // // Ya que se inicializa el componente\r\n    //   this.canvas = this.chartDir.chart.canvas;\r\n    //   this.canvas.addEventListener('mousemove', e => { this.onHover(e); });\r\n    //   this.canvas.addEventListener('mousedown', e => { this.onMouseDown(e); });\r\n    // }\r\n  }\r\n\r\n  public onChartClick(e: any): void {}\r\n\r\n  ajustarNombre(name: string) {\r\n    let help = name;\r\n    let spacios = 0;\r\n    let numC = 0;\r\n    let maxlinea = 0;\r\n    for (let i of help) {\r\n      if (i === ' ') {\r\n        spacios = spacios + 1;\r\n        if (spacios == 1 && maxlinea >= 9) {\r\n          help = [help.slice(0, numC), '\\n', help.slice(numC)].join('');\r\n          spacios = 0;\r\n          maxlinea = 0;\r\n          numC = numC + 1;\r\n        }\r\n        if (spacios == 2) {\r\n          help = [help.slice(0, numC), '\\n', help.slice(numC)].join('');\r\n          spacios = 0;\r\n          numC = numC + 1;\r\n        }\r\n      }\r\n      maxlinea = maxlinea + 1;\r\n      numC = numC + 1;\r\n    }\r\n\r\n    return help;\r\n  }\r\n}\r\n","import { Component, Input, OnInit,ViewChild } from '@angular/core';\r\nimport { BaseChartDirective } from 'ng2-charts';\r\nimport * as pluginDataLabels from 'chartjs-plugin-datalabels';\r\n\r\n@Component({\r\n  selector: 'app-radial-chart',\r\n  templateUrl: './radial-chart.component.html',\r\n  styleUrls: ['./radial-chart.component.scss']\r\n})\r\nexport class RadialChartComponent implements OnInit {\r\n  @ViewChild('MyChart') chartDir: BaseChartDirective;\r\n  @Input() inputProyect:any;\r\n  @Input() showMe: boolean;\r\n  @Input() id:string;\r\n  @Input() impactos:any;\r\n  subtitulo: string;\r\n\r\n\r\n  private backcolores: any[] = [\r\n     'rgba(77,190,137,0.2)',\r\n     'rgba(20,136,147,0.2)',\r\n     'rgba(143,80,145,0.2)',\r\n     'rgba(222,169,97,0.2)'];\r\n\r\n  private pointcolores: any[] = [\r\n    '#4DBE89',\r\n    '#148A93',\r\n    '#8F5091',\r\n    '#DEA961'\r\n  ];\r\n\r\n  public radarChartOptions = {\r\n    responsive: true,\r\n    layout:{\r\n      padding:0,\r\n    },\r\n    legend:{\r\n      display:false,\r\n    },\r\n    tooltips: { enabled: false },\r\n    plugins: {\r\n      datalabels: {\r\n        display: false\r\n      }\r\n    },\r\n    scale:{\r\n      pointLabels: {\r\n        fontSize:12,\r\n      },\r\n      ticks:{\r\n        fontSize:7,\r\n      },\r\n    }\r\n  };\r\n  public radarChartLabels=[];\r\n\r\n  public radarChartData = [];\r\n  public radarChartType = 'radar';\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    this.cargarLabels(this.id);\r\n    this.cargarDatos(this.id);\r\n    console.log(\"Radar\");\r\n  }\r\n\r\n  cargarLabels(ID:string){\r\n    this.radarChartLabels = [];\r\n    this.subtitulo=ID;\r\n    this.inputProyect.forEach(proyecto => {\r\n      Object.keys(proyecto.Datos).forEach(indicador => {\r\n        if (indicador === ID){\r\n          Object.keys(proyecto.Datos[indicador]).forEach(element => {\r\n            let auxAbr=\"\"\r\n            this.impactos.forEach(impacto => {\r\n              let auxNameImpacto = this.ajustarNombre(impacto['name_complete_potential_type']);\r\n              if(element === auxNameImpacto){\r\n                auxAbr = impacto['name_potential_type']\r\n              }\r\n            });\r\n            if (!this.radarChartLabels.includes(auxAbr)) {\r\n              this.radarChartLabels = [...this.radarChartLabels, auxAbr];\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n    //console.log(this.radarChartLabels)\r\n  }\r\n\r\n  cargarDatos(ID:string){\r\n    this.radarChartData = [];\r\n    let auxlabel = ['Producción', 'Construccion', 'Uso', 'FinDeVida'];\r\n    let auxdata=[];\r\n    let auxdatos=[]\r\n    let datos=[]\r\n    let bcolor='';\r\n    let pcolor='';\r\n    this.cargarLabels(ID);\r\n    this.subtitulo=ID;\r\n\r\n    Object.keys(auxlabel).forEach(indicador => {\r\n      if (auxlabel[indicador] === ID) {\r\n        bcolor = this.backcolores[indicador];\r\n        pcolor = this.pointcolores[indicador];\r\n      }\r\n    });\r\n       //console.log(suma)\r\n    this.inputProyect.forEach(proyecto => {\r\n      let suma = 0;\r\n      let valores_suma = [];\r\n      Object.keys(proyecto.Datos[auxlabel[0]]).forEach(element => {\r\n        valores_suma[element] = 0;\r\n      });\r\n      Object.keys(auxlabel).forEach(indicador => {\r\n        auxdatos = proyecto.Datos[auxlabel[indicador]]\r\n        Object.keys(proyecto.Datos[auxlabel[indicador]]).forEach(element => {\r\n          valores_suma[element] = valores_suma[element] + auxdatos[element];\r\n        });\r\n      })\r\n      Object.keys(auxlabel).forEach(indicador => {\r\n        if (auxlabel[indicador] === ID) {\r\n          auxdatos = proyecto.Datos[auxlabel[indicador]]\r\n          Object.keys(proyecto.Datos[auxlabel[indicador]]).forEach(element => {\r\n            datos = [...datos, ((auxdatos[element]*100)/valores_suma[element]).toFixed(2)];\r\n          });\r\n        }\r\n      });\r\n      auxdata = [\r\n        {\r\n          data: datos,\r\n          backgroundColor: bcolor,\r\n          pointBackgroundColor: pcolor,\r\n          borderColor: \"transparent\",\r\n          borderWidth: 0.1\r\n        }\r\n      ];\r\n      this.radarChartData=[...this.radarChartData,auxdata]\r\n      datos=[];\r\n      auxdata=[];\r\n      auxdatos=[];\r\n    });\r\n\r\n  }\r\n\r\n  ajustarNombre(name: string) {\r\n    let help = name;\r\n    let spacios=0;\r\n    let numC=0;\r\n    let maxlinea=0;\r\n    for (let i of help){\r\n      if(i===' '){\r\n        spacios=spacios+1;\r\n        if(spacios==1 && maxlinea >= 9){\r\n          help = [help.slice(0, numC), '\\n', help.slice(numC)].join('');\r\n          spacios=0;\r\n          maxlinea = 0;\r\n          numC=numC+1;\r\n        }\r\n        if(spacios==2){\r\n          help = [help.slice(0, numC), '\\n', help.slice(numC)].join('');\r\n          spacios=0;\r\n          numC=numC+1;\r\n        }\r\n      }\r\n      maxlinea=maxlinea+1;\r\n      numC=numC+1;\r\n    }\r\n    \r\n    return help\r\n  }\r\n\r\n}\r\n","<div class=\"graficas-especificas-seccionUno\" *ngIf=\"showMePartially\">\r\n  <div style=\"display:block\" *ngFor=\"let item of inputProyect;let i = index\">\r\n    <mat-card>\r\n      <mat-card-header>\r\n        {{item.Nombre}}<br>\r\n        {{indicador}}\r\n      </mat-card-header>\r\n    </mat-card>\r\n    <div>\r\n      <canvas #MyChart='base-chart' #canvas baseChart\r\n        [datasets]=\"pieChartData[i]\"\r\n        [options]=\"pieChartOptions\"\r\n        [chartType]=\"pieChartType\"></canvas>\r\n        <div>\r\n          <ul class=\"mostrar-subetapas\">\r\n            <li *ngFor = \"let subetapa of pieChartLabels[i]; let num = index\">\r\n              <div class=\"text-subetapas\">\r\n                <button (click)=\"DeleteSubetapa(subetapa,i)\">\r\n                  <span class=\"dot\" [ngStyle]=\"{'background-color': pieChartColor[num]}\"></span>\r\n                  <a id=\"{{idSubetapas[i][num]}}\">{{subetapa}}</a>\r\n                </button>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <p class=\"totales-text\">Total : {{totales[i]}}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"graficas-especificas\" *ngIf=\"showMe_elementos\">\r\n  <canvas #MyChart='base-chart' #canvas baseChart\r\n    [datasets]=\"pieChartData[0]\"\r\n    [options]=\"pieChartOptions_elementos\"\r\n    (chartClick)='onChartClick($event)'\r\n    [chartType]=\"pieChartType\"></canvas>\r\n</div>\r\n\r\n\r\n","<div>\r\n  <div class=\"sectionOne\">\r\n    <button mat-icon-button (click)=\"returnHome()\">\r\n      <mat-icon class=\"excepction\">keyboard_arrow_left</mat-icon>\r\n    </button>\r\n    <a class=\"return-proyecto\">regresar a proyectos</a>\r\n    <br><a class=\"tittle-proyect\">{{proyecto.nombre}}</a>\r\n  </div>\r\n  <div class=\"bases-datos\">\r\n    <p class=\"text-duplicados\">Duplicados</p>\r\n    <div>\r\n      <p class=\"text-duplicados\">Bases de Datos consideradas</p>\r\n      <mat-select multiple (selectionChange)=\"ajusteUsoBaseDatos($event.value)\">\r\n        <mat-option *ngFor=\"let topping of DBList\" [value]=\"topping\">{{topping}}</mat-option>\r\n      </mat-select>\r\n    </div>\r\n  </div>\r\n  <div class=\"div-proyectos-mostrados\">\r\n    <div>\r\n      <button mat-button class=\"menu-proyectos\" [matMenuTriggerFor]=\"menu\">Selecciona una opción a visualizar\r\n       <mat-icon>keyboard_arrow_down</mat-icon></button>\r\n      <mat-menu #menu=\"matMenu\">\r\n        <button mat-menu-item\r\n          *ngFor=\"let item of proyect\"\r\n          (click)=\"iniciar_graficas(item.id)\">\r\n          <span>{{item.Nombre}}</span>\r\n        </button>\r\n      </mat-menu>\r\n    </div>\r\n    <div>\r\n      <div *ngFor=\"let item of proyectosMostrados;let i = index\" class=\"button-graph\">\r\n        <mat-card class=\"card\">\r\n          {{item.num}}\r\n          <button mat-icon-button (click)=\"quitarProyecto(item.id)\"><mat-icon>highlight_off</mat-icon></button>\r\n          {{item.Nombre}}\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <mat-card class=\"mat-master\">\r\n      <mat-tab-group mat-stretch-tabs class=\"container-principal-tab\" (selectedIndexChange)=\"show($event)\" (animationDone)=\"finShow()\">\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            Impactos ambientales<br>por etapas de ciclo de vida\r\n          </ng-template>\r\n          <div class=\"div-impactos-ambientales\">\r\n            <p>Impactos ambientales</p>\r\n            <div class=\"sub-container\">\r\n              <div>\r\n                <mat-button-toggle-group>\r\n                  <mat-button-toggle class=\"button-impactos\" (click)=\"TablaResultados()\"><mat-icon class=\"icons-options\">table_view</mat-icon></mat-button-toggle>\r\n                  <mat-button-toggle class=\"button-impactos\" (click)=\"GraficasResultados()\"><mat-icon class=\"icons-options\">bar_chart</mat-icon></mat-button-toggle>\r\n                </mat-button-toggle-group>\r\n              </div>\r\n              <div>\r\n                <mat-button-toggle-group>\r\n                  <mat-button-toggle [disabled]=\"botones_grafica_activos\" class=\"button-impactos\" (click)=\"porcentaje(true,1)\">%</mat-button-toggle>\r\n                  <mat-button-toggle [disabled]=\"botones_grafica_activos\" class=\"button-impactos\" (click)=\"porcentaje(false,1)\">#</mat-button-toggle>\r\n                </mat-button-toggle-group>\r\n              </div>\r\n              <div>\r\n                <mat-button-toggle-group>\r\n                  <mat-button-toggle class=\"button-impactos\" (click) = \"AjustePorMetro(1)\"><mat-icon class=\"icons-options\">border_all</mat-icon></mat-button-toggle>\r\n                  <mat-button-toggle class=\"button-impactos\" (click) = \"AjustePorMetro(0)\"><mat-icon class=\"icons-options\">branding_watermark</mat-icon></mat-button-toggle>\r\n                </mat-button-toggle-group>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"campo-grafica-bar\" >\r\n            <ng-template #barContainer>\r\n\r\n            </ng-template>\r\n            <div class=\"indicadores\">\r\n              <span *ngFor=\"let impacto of catologoImpactoAmbiental ; let iImpacto = index\" class=\"dot\" id=\"{{idsImpactosAmbientales['idsCiclo'][iImpacto]}}\"></span>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"resultdosTabla\" class=\"tabla\">\r\n            <table class=\"Tabla-Datos\" mat-table [dataSource]=\"DatosTabla\" multiTemplateDataRows>\r\n              <ng-container matColumnDef=\"{{column}}\" *ngFor=\"let column of columnsToDisplay\">\r\n                <th mat-header-cell *matHeaderCellDef class=\"tittle-table\">\r\n                  <span style=\"white-space: pre-line;\">{{column}}</span>\r\n                </th>\r\n                <td mat-cell *matCellDef=\"let element\" [style.color] = element.color>\r\n                  <p>{{element.data[column]}}</p></td>\r\n              </ng-container>\r\n              <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay\"></tr>\r\n              <tr mat-row *matRowDef=\"let element; columns: columnsToDisplay;\"></tr>\r\n            </table>\r\n          </div>\r\n          <div>\r\n            <p class=\"secondary-text\">Dispersión de Impacto ambiental por fase de ciclo de vida</p>\r\n          </div>\r\n          <div class=\"div-secondary-graph\">\r\n            <div>\r\n              <p>Selecciona una fase del ciclo de vida</p>\r\n              <ul>\r\n                <li>\r\n                  <button id=\"Producción\" class=\"boton-principal\" mat-stroked-button (click)=\"grafica('Producción')\">\r\n                    Producción</button>\r\n                  <button id=\"ProducciónOjo\" (click)=\"ajusteDeGraficaFASE('Producción')\" class=\"boton-icono\">\r\n                    <mat-icon class=\"uno\">{{iconos['Producción']}}</mat-icon>\r\n                  </button>\r\n                </li>\r\n                <li>\r\n                  <button id=\"Construccion\"class=\"boton-principal\" mat-stroked-button (click)=\"grafica('Construccion')\">\r\n                    Construcción</button> \r\n                    <button id=\"ConstruccionOjo\" (click)=\"ajusteDeGraficaFASE('Construccion')\" class=\"boton-icono\">\r\n                      <mat-icon class=\"dos\">{{iconos['Construccion']}}</mat-icon>\r\n                    </button>\r\n                </li>\r\n                <li>\r\n                  <button id=\"Uso\" class=\"boton-principal\" mat-stroked-button (click)=\"grafica('Uso')\">\r\n                    Uso</button> \r\n                  <button id=\"UsoOjo\" (click)=\"ajusteDeGraficaFASE('Uso')\" class=\"boton-icono\">\r\n                    <mat-icon class=\"tres\">{{iconos['Uso']}}</mat-icon>\r\n                  </button>\r\n                </li>\r\n                <li>\r\n                  <button id=\"FinDeVida\" class=\"boton-principal\" mat-stroked-button (click)=\"grafica('FinDeVida')\">\r\n                    Fin de vida</button>\r\n                  <button id=\"FinDeVidaOjo\" (click)=\"ajusteDeGraficaFASE('FinDeVida')\" class=\"boton-icono\">\r\n                    <mat-icon class=\"cuatro\">{{iconos['FinDeVida']}}</mat-icon>\r\n                  </button>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div>\r\n              <ng-template #GraficasEspecificas>\r\n\r\n              </ng-template>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            Impactos ambientales<br>por elementos constructivos\r\n          </ng-template>\r\n          <div class=\"div-second-tab\">\r\n            <ng-template #barGraphDos>\r\n            </ng-template>\r\n            <div class=\"indicadores\">\r\n              <span *ngFor=\"let impacto of catologoImpactoAmbiental ; let iImpacto = index\" class=\"dot\" id=\"{{idsImpactosAmbientales['idsElementos'][iImpacto]}}\"></span>\r\n            </div>\r\n            <p>\r\n              Elementos constructivos  \r\n            </p>\r\n            <p>\r\n              {{impactoSeleccionadoElementoConstructivo}}\r\n            </p>\r\n            <div *ngIf=\"cargaElementos\">\r\n              <div *ngFor=\"let item of botones_elementos_constructivos\" class=\"botones-elementos-contructivos\">\r\n                <div id=\"{{idsIconosElementos[item.id]['idTEXTO']}}\" class=\"espacio-sin-selecciomar\">\r\n                  <button class=\"button-elemento-seleccionado color-texto\" [disabled]=\"iconosElementosConstrucivos[item.id]['habilitado']\" (click)=\"graficabar(item.id)\"> \r\n                    {{item.name_section}}</button>\r\n                    <button id=\"{{idsIconosElementos[item.id]['idOJO']}}\" class=\"button-icono color-texto\" [disabled]=\"iconosElementosConstrucivos[item.id]['habilitado']\" (click)=\"AjusteGraficaElementosContructivos(item.id)\">\r\n                      <mat-icon>{{iconosElementosConstrucivos[item.id]['icono']}}</mat-icon>\r\n                    </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"espacio-img\">\r\n            <div class=\"complemento-edificio\" *ngFor=\"let item of outproyect_bar; let i = index\">\r\n              <p>{{item.Nombre}}</p>\r\n              <button (click)=\"DispercionAP(idsImgEdificios[i],item.id)\" id=\"{{idsImgEdificios[i]}}\" class=\"edificio-individual\">\r\n              </button>\r\n            </div>\r\n            <div class=\"child\">\r\n              <ng-template #imgEdificio>\r\n              </ng-template>\r\n            </div>\r\n          </div>\r\n          <!--\r\n             <div id=\"{{idsImgEdificios[i]}}\" class=\"img-edificio\" *ngFor=\"let item of outproyect_bar; let i = index\">\r\n              <button (click)=\"DispercionAP(idsImgEdificios[i],item.id)\">{{item.Nombre}}</button>\r\n            </div>\r\n            <div id=\"{{idsImgEdificios[i]}}\" class=\"img-edificio\" *ngFor=\"let item of outproyect_bar; let i = index\">\r\n              <a (click)=\"DispercionAP(idsImgEdificios[i],item.id)\">\r\n                <p>{{item.Nombre}}</p>\r\n                <p>Visuaización de GWP por sistema constructivo</p>\r\n                <img src=\"../../../../assets/images/8.png\">\r\n              </a>\r\n            </div>\r\n          -->\r\n          <div>\r\n            <div *ngIf=\"show_Dispercion\" class=\"last-div-section-two\">\r\n              <div>\r\n                <p> {{nombreProyectoElegidoSeleccionadoElementos}} </p>\r\n                <p> {{elementoSeleccionadoMostrado}} </p>\r\n                <p> Potenciales impactos ambientales de materiales de construcción </p>\r\n              </div>\r\n              <div *ngIf=\"flagSinMaterialesDispercion\">\r\n                <p>Sin materiales en estos calculos</p>\r\n              </div>\r\n              <div class=\"seccion\" *ngIf=\"flagMaterialesDispercion\">\r\n                <div>\r\n                  <div class=\"button-graph\">\r\n                    <mat-button-toggle-group>\r\n                         <mat-button-toggle (click)=\"cambioDeTipoGraficaDispercion(true)\"><mat-icon>pie_chart</mat-icon></mat-button-toggle>\r\n                         <mat-button-toggle (click)=\"cambioDeTipoGraficaDispercion(false)\"><mat-icon>bar_chart</mat-icon></mat-button-toggle>\r\n                       </mat-button-toggle-group>\r\n                    <button>Exportar</button>\r\n                  </div>\r\n                  <ng-template #GraficasEspecificasDos>\r\n                  </ng-template>\r\n                </div>\r\n                <div>\r\n                  <p>Materiales</p>\r\n                  <table mat-table [dataSource]=\"infoTablaDispercion\">\r\n                    <ng-container matColumnDef=\"no\">\r\n                      <th mat-header-cell *matHeaderCellDef> No. </th>\r\n                      <td mat-cell *matCellDef=\"let element\"> \r\n                        <div class=\"circulo-color-tabla\" [style.background-color] = element.color>{{element.no}}</div></td>\r\n                    </ng-container>\r\n                  \r\n                    <ng-container matColumnDef=\"material\">\r\n                      <th mat-header-cell *matHeaderCellDef> Material </th>\r\n                      <td mat-cell *matCellDef=\"let element\"> {{element.material}} </td>\r\n                    </ng-container>\r\n                  \r\n                    <ng-container matColumnDef=\"porcentaje\">\r\n                      <th mat-header-cell *matHeaderCellDef> % </th>\r\n                      <td mat-cell *matCellDef=\"let element\"> {{element.porcentaje}} </td>\r\n                    </ng-container>\r\n                  \r\n                    <ng-container matColumnDef=\"numero\">\r\n                      <th mat-header-cell *matHeaderCellDef> {{unidadImpactoAmientalTabla}}</th>\r\n                      <td mat-cell *matCellDef=\"let element\"> {{element.numero}} </td>\r\n                    </ng-container>\r\n                  \r\n                    <tr mat-header-row *matHeaderRowDef=\"displayedColumnsDispercion\"></tr>\r\n                    <tr mat-row *matRowDef=\"let row; columns: displayedColumnsDispercion;\"></tr>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n        <mat-tab>\r\n          <ng-template mat-tab-label>\r\n            Impactos ambientales<br>por materiales de construcción\r\n          </ng-template>\r\n          <div>\r\n            <div class=\"div-elementos-constructivos\">\r\n              <div>\r\n                <p>Selecciona impacto ambiental</p>\r\n                <mat-select class=\"select-impacto-ambiental\" [(ngModel)]=\"selectedValue\" (selectionChange)=\"selectImpactoAmbiental()\" required>\r\n                  <mat-option *ngFor=\"let impacto of catologoImpactoAmbiental\" [value]=\"impacto.name_complete_potential_type\">\r\n                    {{impacto.name_complete_potential_type}}\r\n                  </mat-option>\r\n                </mat-select>\r\n              </div>\r\n              <div>\r\n                <p>Elementos constructivos</p>\r\n                <section class=\"example-section\">\r\n                  <section *ngFor=\"let item of botones_elementos_constructivos\">\r\n                    <mat-checkbox class=\"example-margin\" [(ngModel)]=\"elementosConstructivosMostradosElementos[item.id]['check']\" (change)=\"elementoSeleccionadoElementos(item.id)\" [disabled]=\"elementosConstructivosMostradosElementos[item.id]['habilitado']\">{{elementosConstructivosMostradosElementos[item.id]['nombre']}}</mat-checkbox>\r\n                  </section>\r\n                </section>\r\n              </div>\r\n              <div>\r\n                <p>Fases del ciclo de vida</p>\r\n                <ul>\r\n                  <li> <button id=\"ProducciónTextoElemento\" (click)=\"selectEtapa('Producción')\" mat-stroked-button class=\"button-info\">\r\n                     <div class=\"some-text\">\r\n                     <a>Producción</a>\r\n                     <a> A1 - A3</a></div>\r\n                     </button>\r\n                     <button class='button-icon' (click)=\"eliminarEtapa('Producción')\">\r\n                       <mat-icon class=\"uno\">{{iconosCambioElementos['Producción']}}</mat-icon>\r\n                     </button>\r\n                  </li>\r\n                  <li> <button id=\"ConstruccionTextoElemento\" (click)=\"selectEtapa('Construccion')\" mat-stroked-button class=\"button-info\">\r\n                     <div class=\"some-text\">\r\n                     <a>A4 - Transporte</a>\r\n                     <a> de materiales </a></div>\r\n                     </button>\r\n                     <button class='button-icon' (click)=\"eliminarEtapa('Construccion')\">\r\n                       <mat-icon class=\"dos\">{{iconosCambioElementos['Construccion']}}</mat-icon>\r\n                     </button>\r\n                   </li>\r\n                </ul>\r\n                <ul>\r\n                 <li> <button id=\"UsoTextoElemento\" (click)=\"selectEtapa('Uso')\" mat-stroked-button class=\"button-info\">\r\n                    <div class=\"some-text\">\r\n                    <a>B4 - Reemplazos</a>\r\n                    <a> de materiales </a></div>\r\n                    </button>\r\n                    <button class='button-icon' (click)=\"eliminarEtapa('Uso')\">\r\n                      <mat-icon class=\"tres\">{{iconosCambioElementos['Uso']}}</mat-icon>\r\n                    </button>\r\n                  </li>\r\n               </ul>\r\n              </div>\r\n            </div>\r\n            <ng-template #barGraphTres>\r\n            </ng-template>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n  </mat-card>\r\n</div>\r\n","<!--\n  Wrap the rendered content in an element that will be used to offset it based on the scroll\n  position.\n-->\n<div #contentWrapper class=\"cdk-virtual-scroll-content-wrapper\">\n  <ng-content></ng-content>\n</div>\n<!--\n  Spacer used to force the scrolling container to the correct size for the *total* number of items\n  so that the scrollbar captures the size of the entire data set.\n-->\n<div class=\"cdk-virtual-scroll-spacer\"\n     [style.width]=\"_totalContentWidth\" [style.height]=\"_totalContentHeight\"></div>\n"]}