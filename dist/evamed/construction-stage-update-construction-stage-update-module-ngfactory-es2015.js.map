{"version":3,"sources":["./src/app/construction-stage-update/components/intermedial/intermedial.component.ts","./src/app/construction-stage-update/construction-stage-update.module.ts","./src/app/construction-stage-update/components/pass-step/pass-step.component.html","./src/app/construction-stage-update/components/intermedial/intermedial.component.html","./src/app/construction-stage-update/construction-stage-update-routing.module.ts","./src/app/construction-stage-update/components/pass-step/pass-step.component.ts","./src/app/construction-stage-update/components/construction-stage-update/construction-stage-update.component.html","./src/app/core/services/projects/projects.service.ts","./src/app/construction-stage-update/components/construction-stage-update/construction-stage-update.component.ts"],"names":[],"mappings":"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","file":"construction-stage-update-construction-stage-update-module-ngfactory-es2015.js","sourcesContent":["import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport { MaterialsService } from './../../../core/services/materials/materials.service';\n\n@Component({\n  selector: 'app-intermedial',\n  templateUrl: './intermedial.component.html',\n  styleUrls: ['./intermedial.component.scss'],\n})\nexport class IntermedialComponent implements OnInit {\n  constructor(\n    private router: Router,\n    private materialsService: MaterialsService,\n    public dialogRef: MatDialogRef<IntermedialComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: {}\n  ) {}\n\n  ngOnInit(): void {}\n\n  onNoClick(): void {\n    this.dialogRef.close(this.data);\n  }\n\n  continueStep(event: Event) {\n    event.preventDefault();\n    this.materialsService.getACR().subscribe((acr) => {\n      const schemaFilter = acr.filter(\n        (schema) =>\n          schema.project_id == localStorage.getItem('idProyectoConstrucción')\n      );\n\n      if (schemaFilter.length === 0) {\n        this.router.navigateByUrl('usage-stage');\n      } else {\n        this.router.navigateByUrl('usage-stage-update');\n      }\n    });\n    this.onNoClick();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ConstructionStageUpdateRoutingModule } from './construction-stage-update-routing.module';\nimport { ConstructionStageUpdateComponent } from './components/construction-stage-update/construction-stage-update.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { FormsModule } from '@angular/forms';\nimport { MaterialModule } from './../material/material.module';\nimport { IntermedialComponent } from './components/intermedial/intermedial.component';\nimport { PassStepComponent } from './components/pass-step/pass-step.component';\n\n@NgModule({\n  declarations: [ConstructionStageUpdateComponent, IntermedialComponent, PassStepComponent],\n  imports: [\n    CommonModule,\n    ConstructionStageUpdateRoutingModule,\n    SharedModule,\n    FormsModule,\n    MaterialModule,\n  ],\n  exports: [ConstructionStageUpdateComponent, IntermedialComponent, PassStepComponent],\n  entryComponents: [IntermedialComponent, PassStepComponent],\n})\nexport class ConstructionStageUpdateModule {}\n","<div class=\"header-modal\">\n  <h1 mat-dialog-title class=\"title-standard-second-light\">\n    Asegurese de guardar los cambios antes de continuar\n  </h1>\n  <a (click)=\"onNoClick()\" class=\"close-modal\">\n    X\n  </a>\n</div>\n\n<div mat-dialog-actions class=\"center\">\n  <button mat-raised-button color=\"primary\" (click)=\"continueOnly($event)\">Continuar</button>\n  <button mat-raised-button color=\"primary\" (click)=\"onNoClick()\">Cancelar</button>\n</div>","<div class=\"header-modal\">\n  <h1 mat-dialog-title class=\"title-standard-second-light\">\n    Asegurese de guardar los cambios antes de continuar\n  </h1>\n  <a (click)=\"onNoClick()\" class=\"close-modal\">\n    X\n  </a>\n</div>\n\n<div mat-dialog-actions class=\"center\">\n  <button mat-raised-button color=\"primary\" (click)=\"continueStep($event)\">Etapa de uso</button>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ConstructionStageUpdateComponent } from './components/construction-stage-update/construction-stage-update.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConstructionStageUpdateComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ConstructionStageUpdateRoutingModule { }\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-pass-step',\n  templateUrl: './pass-step.component.html',\n  styleUrls: ['./pass-step.component.scss'],\n})\nexport class PassStepComponent implements OnInit {\n  constructor(\n    public dialogRef: MatDialogRef<PassStepComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: { continue: boolean  }\n  ) {}\n\n  ngOnInit(): void {}\n\n  onNoClick() {\n    this.data.continue = false;\n    this.dialogRef.close(this.data);\n  }\n\n  continueOnly(event: Event) {\n    event.preventDefault();\n    this.data.continue = true;\n    this.dialogRef.close(this.data);\n  }\n}\n","<nav class=\"nav-redirect\">\r\n  <h2 class=\"proyecto-title\">{{nameProject}}</h2>\r\n  <a href=\"/\" class=\"a-redirect\">\r\n    < Regresar a proyectos </a>\r\n</nav>\r\n<!--Principal container-->\r\n<div class=\"principal-container container-total\">\r\n  <!--Navigation steps-->\r\n  <nav class=\"nav-steps\">\r\n    <div class=\"mdl-stepper-horizontal-alternative\">\r\n      <div class=\"mdl-stepper-step step-one-selected\">\r\n        <div class=\"mdl-stepper-circle\" (click)=\"goToMaterialStage()\"></div>\r\n        <div class=\"mdl-stepper-tag\"> Producción </div>\r\n        <div class=\"mdl-stepper-bar-left\"></div>\r\n        <div class=\"mdl-stepper-bar-right\"></div>\r\n      </div>\r\n      <div class=\"mdl-stepper-step step-two\">\r\n        <div class=\"mdl-stepper-circle\"></div>\r\n        <div class=\"mdl-stepper-tag\" aux-yellow> Construcción </div>\r\n        <div class=\"mdl-stepper-bar-left\"></div>\r\n        <div class=\"mdl-stepper-bar-right\"></div>\r\n      </div>\r\n      <div class=\"mdl-stepper-step step-three\">\r\n        <div class=\"mdl-stepper-circle\" (click)=\"goToUsageStage()\"></div>\r\n        <div class=\"mdl-stepper-tag\"> Uso </div>\r\n        <div class=\"mdl-stepper-bar-left\"></div>\r\n        <div class=\"mdl-stepper-bar-right\"></div>\r\n      </div>\r\n      <div class=\"mdl-stepper-step step-four\">\r\n        <div class=\"mdl-stepper-circle\"  (click)=\"goToEndLife()\"></div>\r\n        <div class=\"mdl-stepper-tag \"> Fin de vida </div>\r\n        <div class=\"mdl-stepper-bar-left\"></div>\r\n        <div class=\"mdl-stepper-bar-right\"></div>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n  <!--Container actions of step 1-->\r\n  <section class=\"container-actions\">\r\n    <!--Section sheets-->\r\n    <section class=\"container-sheets\">\r\n      <div class=\"container-image\" [ngSwitch]=\"selectedSheet\">\r\n        <img *ngSwitchCase=\"'Cimentación'\" src=\"../../../../assets/map/2.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Muros interiores'\" src=\"../../../../assets/map/8.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Muros exteriores'\" src=\"../../../../assets/map/9.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Pisos'\" src=\"../../../../assets/map/7.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Techos'\" src=\"../../../../assets/map/5.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Entrepiso'\" src=\"../../../../assets/map/7.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Estructura'\" src=\"../../../../assets/map/11.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Puertas'\" src=\"../../../../assets/map/6.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Ventanas'\" src=\"../../../../assets/map/4.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Inst. especiales'\" src=\"../../../../assets/map/13.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Otros'\" src=\"../../../../assets/map/14.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchDefault src=\"../../../../assets/map/12.jpg\" class=\"image-element\" alt=\"\" />\r\n      </div>\r\n      <div class=\"list-elements\">\r\n        <mat-selection-list #sheets [multiple]=\"false\"\r\n          (selectionChange)=\"onGroupsChange(sheets.selectedOptions.selected)\">\r\n          <mat-list-option *ngFor=\"let sheet of sheetNames\" [value]=\"sheet\" class=\"item-yellow-extend\">\r\n            {{sheet}}\r\n          </mat-list-option>\r\n        </mat-selection-list>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"container-systems\">\r\n      <!--Accorion multiple-->\r\n      <mat-accordion class=\"example-headers-align\" multi>\r\n        <!--Expansion panel 1. -->\r\n        <mat-expansion-panel *ngIf=\"indexSheet!==undefined\" [expanded]=\"true\">\r\n          <!--Expansion panel header-->\r\n          <mat-expansion-panel-header class=\"custom-expansion-panel-header\">\r\n            <mat-panel-title class=\"custom-mat-panel-title\">\r\n              1. Energía consumida durante el proceso constructivo\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <!--Expansion panel form-field-->\r\n          <div *ngFor=\"let data of dataArrayEC; let i=index;\">\r\n            <div class=\"Col col-xs-12\">\r\n                <label class=\"label-small-input\">\r\n                  Fuente\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select [(ngModel)]=\"data.fuente\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let fuente of catalogoFuentes\" [value]=\"fuente.id\">\r\n                      {{fuente.name_source_information}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n              </div>\r\n            <div class=\"Row top-0\">\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Cantidad\r\n                </label>\r\n                <mat-form-field>\r\n                  <input class=\"input-general\" [(ngModel)]=\"data.cantidad\" name=\"cantidad_{{i}}\" matInput type=\"number\">\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Unidad\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select  [(ngModel)]=\"data.unidad\" style=\"display:none\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let unidad of catalogoUnidadEnergia\" [value]=\"unidad.id\">\r\n                    </mat-option>\r\n                  </mat-select>\r\n                  <mat-option *ngFor=\"let unidad of catalogoUnidadEnergia\" [value]=\"unidad.id\">\r\n                    {{unidad.name_energy_unit}}\r\n                  </mat-option>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <div *ngIf=\"i!=0\">\r\n                  <button mat-button class=\"button-remove\" (click)=\"removeFormEC(i, data.id)\">\r\n                    <mat-icon>remove_circle</mat-icon>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--Actions-->\r\n          <button mat-button (click)=\"addFormEC()\">\r\n            <mat-icon>add_circle</mat-icon>\r\n          </button>\r\n\r\n          <button mat-button (click)=\"onSaveEC()\">\r\n            <mat-icon>save</mat-icon>\r\n          </button>\r\n        </mat-expansion-panel>\r\n\r\n        <!--Expansion panel 2. -->\r\n        <mat-expansion-panel *ngIf=\"indexSheet!==undefined\">\r\n          <!--Expansion panel header-->\r\n          <mat-expansion-panel-header class=\"custom-expansion-panel-header\">\r\n            <mat-panel-title class=\"custom-mat-panel-title\">\r\n              2. Agua consumida durante el proceso constructivo\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <!--Expansion panel form-field-->\r\n          <div *ngFor=\"let data of dataArrayAC; let i=index;\">\r\n            <div class=\"Row top-0\">\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Fuente\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select [(ngModel)]=\"data.fuente\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let fuente of catalogoFuentes\" [value]=\"fuente.id\">\r\n                      {{fuente.name_source_information}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Cantidad\r\n                </label>\r\n                <mat-form-field>\r\n                  <input class=\"input-general\" [(ngModel)]=\"data.cantidad\" name=\"cantidad{{i}}\" matInput type=\"number\">\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Unidad\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select [(ngModel)]=\"data.unidad\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let unidad of catalogoUnidadVolumen\" [value]=\"unidad.id\">\r\n                      {{unidad.name_volume_unit}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <div *ngIf=\"i!=0\">\r\n                  <button mat-button class=\"button-remove\" (click)=\"removeFormAC(i,data.id)\">\r\n                    <mat-icon>remove_circle</mat-icon>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--Actions-->\r\n          <button mat-button (click)=\"addFormAC()\">\r\n            <mat-icon>add_circle</mat-icon>\r\n          </button>\r\n\r\n          <button mat-button (click)=\"onSaveAC()\">\r\n            <mat-icon>save</mat-icon>\r\n          </button>\r\n        </mat-expansion-panel>\r\n\r\n        <!--Expansion panel 3. -->\r\n        <mat-expansion-panel *ngIf=\"indexSheet!==undefined\">\r\n          <!--Expansion panel header-->\r\n          <mat-expansion-panel-header class=\"custom-expansion-panel-header\">\r\n            <mat-panel-title class=\"custom-mat-panel-title\">\r\n              3. Desechos generados durante el proceso constructivo\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <!--Expansion panel form-field-->\r\n          <div *ngFor=\"let data of dataArrayDG; let i=index;\">\r\n            <div class=\"Row top-0\">\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Fuente\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select [(ngModel)]=\"data.fuente\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let fuente of catalogoFuentes\" [value]=\"fuente.id\">\r\n                      {{fuente.name_source_information}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Cantidad\r\n                </label>\r\n                <mat-form-field>\r\n                  <input class=\"input-general\" [(ngModel)]=\"data.cantidad\" name=\"cantidad{{i}}\" matInput type=\"number\">\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Unidad\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select [(ngModel)]=\"data.unidad\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let unidad of catalogoUnidadVolumen\" [value]=\"unidad.id\">\r\n                      {{unidad.name_volume_unit}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <div *ngIf=\"i!=0\">\r\n                  <button mat-button class=\"button-remove\" (click)=\"removeFormDG(i)\">\r\n                    <mat-icon>remove_circle</mat-icon>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--Actions-->\r\n          <button mat-button (click)=\"addFormDG()\">\r\n            <mat-icon>add_circle</mat-icon>\r\n          </button>\r\n\r\n          <button mat-button (click)=\"onSaveDG()\">\r\n            <mat-icon>save</mat-icon>\r\n          </button>\r\n        </mat-expansion-panel>\r\n\r\n      </mat-accordion>\r\n\r\n    </section>\r\n\r\n    <section class=\"container-details\">\r\n\r\n    </section>\r\n  </section>\r\n</div>\r\n\r\n<!--Section continue-->\r\n<div class=\"section-continue\">\r\n  <button\r\n    mat-button\r\n    class=\"yellow-button custom-continue\"\r\n    (click)=\"continueStep($event)\"\r\n  >\r\n    Continuar\r\n  </button>\r\n</div>","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { tap } from 'rxjs/operators';\nimport { environment } from './../../../../environments/environment';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProjectsService {\n  constructor(private http: HttpClient) {}\n\n  addProject(projectData: object) {\n    return this.http.post<any>(environment.api_projects, projectData).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  getProjectById(id: string) {\n    return this.http.get(`${environment.api_projects}${id}/`).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  updateProyect(id: string, changes) {\n    return this.http.put(`${environment.api_projects}${id}/`, changes).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  deleteProject(id: number) {\n    return this.http.delete(`${environment.api_projects}${id}/`).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  addSchemeProject(schemeData: object) {\n    return this.http.post<any>(environment.api_scheme_project, schemeData).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  addSchemeProjectOriginal(schemeData: object) {\n    return this.http\n      .post<any>(environment.api_scheme_project_original, schemeData)\n      .pipe(\n        tap((data) => {\n          return data;\n        })\n      );\n  }\n\n  getMaterialSchemeProyect() {\n    return this.http.get<any>(environment.api_scheme_project).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  updateMaterialSchemeProject(id: string, changes) {\n    return this.http\n      .put(`${environment.api_scheme_project}${id}/`, changes)\n      .pipe(\n        tap((data) => {\n          return data;\n        })\n      );\n  }\n\n  getMaterialSchemeProyectOrigin() {\n    return this.http.get<any>(environment.api_scheme_project_original).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  getProjects() {\n    return this.http.get<any>(environment.api_projects).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  searchProject(project) {\n    console.log(environment.api_projects + '?search=' + project);\n    return this.http\n      .get<any>(environment.api_projects + '?search=' + project)\n      .pipe(\n        tap((data) => {\n          return data;\n        })\n      );\n  }\n}\n","import { Component, ViewChild, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { MatListOption } from '@angular/material/list';\r\nimport { MatAccordion } from '@angular/material/expansion';\r\nimport { CatalogsService } from './../../../core/services/catalogs/catalogs.service';\r\nimport { ConstructionStageService } from 'src/app/core/services/construction-stage/construction-stage.service';\r\nimport { ProjectsService } from 'src/app/core/services/projects/projects.service';\r\nimport { MaterialsService } from 'src/app/core/services/materials/materials.service';\r\nimport { IntermedialComponent } from '../intermedial/intermedial.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { PassStepComponent } from '../pass-step/pass-step.component';\r\n\r\n@Component({\r\n  selector: 'app-construction-stage-update',\r\n  templateUrl: './construction-stage-update.component.html',\r\n  styleUrls: ['./construction-stage-update.component.scss'],\r\n})\r\nexport class ConstructionStageUpdateComponent implements OnInit {\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n\r\n  sheetNames: any;\r\n  contentData: any;\r\n  listData: any;\r\n  indexSheet: number;\r\n  SistemasConstructivos: any;\r\n  catalogoFuentes: any;\r\n  catalogoUnidadEnergia: any;\r\n  catalogoUnidadVolumen: [];\r\n  catalogoUnidadMasa: [];\r\n  nameProject: string;\r\n  dataArrayEC = [];\r\n  dataArrayAC = [];\r\n  dataArrayDG = [];\r\n  EC: any;\r\n  AC: any;\r\n  DG: any;\r\n  selectedSheet: any;\r\n  CSE: any;\r\n  IMGP = [];\r\n  projectId: number;\r\n\r\n  constructor(\r\n    private materialsService: MaterialsService,\r\n    private catalogsService: CatalogsService,\r\n    private projectsService: ProjectsService,\r\n    private constructionStageService: ConstructionStageService,\r\n    private router: Router,\r\n    public dialog: MatDialog\r\n  ) {\r\n    this.catalogsService.getSourceInformation().subscribe((data) => {\r\n      const fuentes = [];\r\n      data.map((fuente) => {\r\n        if (fuente.name_source_information !== 'Mexicaniuh - CADIS') {\r\n          fuentes.push(fuente);\r\n        }\r\n      });\r\n      this.catalogoFuentes = fuentes;\r\n    });\r\n    this.catalogsService.getEnergyUnits().subscribe((data) => {\r\n      let energia = [];\r\n      data.map((unidad) => {\r\n        if (unidad.name_energy_unit === 'Hrs') {\r\n          energia.push(unidad);\r\n        }\r\n      });\r\n      this.catalogoUnidadEnergia = energia;\r\n    });\r\n    this.catalogsService.getVolumeUnits().subscribe((data) => {\r\n      this.catalogoUnidadVolumen = data;\r\n    });\r\n    this.catalogsService.getBulkUnits().subscribe((data) => {\r\n      this.catalogoUnidadMasa = data;\r\n    });\r\n    this.constructionStageService\r\n      .getConstructiveSystemElement()\r\n      .subscribe((data) => {\r\n        const CSE = [];\r\n        data.map((item) => {\r\n          if (\r\n            item.project_id ===\r\n            parseInt(localStorage.getItem('idProyectoConstrucción'), 10)\r\n          ) {\r\n            CSE.push(item);\r\n          }\r\n        });\r\n        this.CSE = CSE;\r\n      });\r\n    this.projectsService\r\n      .getProjectById(localStorage.getItem('idProyectoConstrucción'))\r\n      .subscribe((data: any) => {\r\n        this.nameProject = data.name_project;\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n    //carga de imagenes\r\n    let images = [\r\n      '../../../../assets/map/2.jpg',\r\n      '../../../../assets/map/4.jpg',\r\n      '../../../../assets/map/5.jpg',\r\n      '../../../../assets/map/6.jpg',\r\n      '../../../../assets/map/7.jpg',\r\n      '../../../../assets/map/8.jpg',\r\n      '../../../../assets/map/9.jpg',\r\n      '../../../../assets/map/10.jpg',\r\n      '../../../../assets/map/11.jpg',\r\n      '../../../../assets/map/12.jpg',\r\n      '../../../../assets/map/13.jpg',\r\n      '../../../../assets/map/14.jpg',\r\n    ];\r\n    this.preload(images);\r\n\r\n    this.sheetNames = [\r\n      'Cimentación',\r\n      'Muros interiores',\r\n      'Muros exteriores',\r\n      'Pisos',\r\n      'Techos',\r\n      'Entrepiso',\r\n      'Estructura',\r\n      'Puertas',\r\n      'Ventanas',\r\n      'Inst. especiales',\r\n      'Otros',\r\n    ];\r\n\r\n    const PDP = JSON.parse(sessionStorage.getItem('primaryDataProject'));\r\n    this.projectId = PDP.id;\r\n  }\r\n\r\n  preload(array) {\r\n    for (var i = 0; i < array.length; i++) {\r\n      this.IMGP[i] = new Image();\r\n      this.IMGP[i].src = array[i];\r\n    }\r\n  }\r\n\r\n  trunc(x, posiciones = 0) {\r\n    var s = x.toString();\r\n    var l = s.length;\r\n    var decimalLength = s.indexOf('.') + 1;\r\n    var numStr = s.substr(0, decimalLength + posiciones);\r\n    return Number(numStr);\r\n  }\r\n\r\n  onGroupsChange(options: MatListOption[]) {\r\n    let selectedSheet;\r\n    // map these MatListOptions to their values\r\n    options.map((option) => {\r\n      selectedSheet = option.value;\r\n    });\r\n    // take index of selection\r\n    this.indexSheet = this.sheetNames.indexOf(selectedSheet);\r\n\r\n    // map data exist to edit\r\n    let getDataEC = [];\r\n\r\n    this.CSE.map((item) => {\r\n      const prevData = [];\r\n      if (item.section_id === this.indexSheet + 1) {\r\n        switch (item.constructive_process_id) {\r\n          case 1:\r\n            prevData['id'] = item.id;\r\n            prevData['cantidad'] = this.trunc(item.quantity);\r\n            prevData['fuente'] = item.source_information_id;\r\n            prevData['energy_unit_id'] = item.energy_unit_id;\r\n            getDataEC.push(prevData);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n    });\r\n\r\n    let i;\r\n    for (i = 0; i <= this.sheetNames.length; i++) {\r\n      if (this.indexSheet === i) {\r\n        this.dataArrayEC = getDataEC;\r\n\r\n        if (this.EC !== undefined) {\r\n          this.dataArrayEC = this.EC[i];\r\n        }\r\n\r\n        if (this.dataArrayEC === undefined) {\r\n          this.dataArrayEC = getDataEC;\r\n        }\r\n      }\r\n    }\r\n\r\n    //Excepciones de insert\r\n    this.selectedSheet = selectedSheet;\r\n    if (this.dataArrayEC !== undefined) {\r\n      if (this.dataArrayEC.length === 0) {\r\n        this.addFormEC();\r\n      }\r\n    } else {\r\n      this.addFormEC();\r\n    }\r\n\r\n    //Load Save\r\n    this.onSaveECNatural();\r\n  }\r\n\r\n  addFormEC() {\r\n    if (this.dataArrayEC === undefined) {\r\n      this.dataArrayEC = [];\r\n    }\r\n    this.dataArrayEC.push([]);\r\n  }\r\n\r\n  removeFormEC(i, id) {\r\n    this.constructionStageService\r\n      .deleteConstructiveSystemElement(id)\r\n      .subscribe(() => {\r\n        console.log(`Se eliminó ${id}`);\r\n      });\r\n\r\n    this.dataArrayEC.splice(i, i);\r\n  }\r\n\r\n  onSaveECNatural() {\r\n    let i;\r\n    if (this.EC === undefined) {\r\n      this.EC = [];\r\n    }\r\n    for (i = 0; i <= this.sheetNames.length; i++) {\r\n      if (this.indexSheet === i) {\r\n        this.EC[i] = this.dataArrayEC;\r\n      }\r\n    }\r\n  }\r\n\r\n  onSaveEC() {\r\n    let i;\r\n    if (this.EC === undefined) {\r\n      this.EC = [];\r\n    }\r\n    for (i = 0; i <= this.sheetNames.length; i++) {\r\n      if (this.indexSheet === i) {\r\n        this.EC[i] = this.dataArrayEC;\r\n      }\r\n    }\r\n\r\n    console.log('entra al proceso de OnSaveEC!!!!!!!!!!!!!!!!!!!!!!');\r\n\r\n    Object.entries(this.EC).forEach(([key, ec]) => {\r\n      let ecAny: any;\r\n      ecAny = ec;\r\n      if (this.indexSheet === parseInt(key)) {\r\n        ecAny.map((data) => {\r\n          console.log(data);\r\n          if (data.id !== undefined) {\r\n            this.constructionStageService\r\n              .deleteConstructiveSystemElement(data.id)\r\n              .subscribe(() => {\r\n                console.log(`Se eliminó ${data.id}`);\r\n              });\r\n          }\r\n          try {\r\n            this.constructionStageService\r\n              .addConstructiveSistemElement({\r\n                quantity: data.cantidad,\r\n                project_id: parseInt(\r\n                  localStorage.getItem('idProyectoConstrucción'),\r\n                  10\r\n                ),\r\n                section_id: parseInt(key, 10) + 1,\r\n                constructive_process_id: 1,\r\n                volume_unit_id: null,\r\n                energy_unit_id: 2, // value hours\r\n                bulk_unit_id: null,\r\n                source_information_id: data.fuente,\r\n              })\r\n              .subscribe((data) => {\r\n                console.log(`Se agregó ${data.id}`);\r\n              });\r\n          } catch (e) {\r\n            console.log('No hay que eliminar');\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  addFormAC() {\r\n    if (this.dataArrayAC === undefined) {\r\n      this.dataArrayAC = [];\r\n    }\r\n    this.dataArrayAC.push([]);\r\n  }\r\n\r\n  removeFormAC(i, id) {\r\n    this.constructionStageService\r\n      .deleteConstructiveSystemElement(id)\r\n      .subscribe(() => {\r\n        console.log(`Se eliminó ${id}`);\r\n      });\r\n    this.dataArrayAC.splice(i);\r\n  }\r\n\r\n  onSaveAC() {\r\n    let i;\r\n    if (this.AC === undefined) {\r\n      this.AC = [];\r\n    }\r\n    for (i = 0; i <= this.sheetNames.length; i++) {\r\n      if (this.indexSheet === i) {\r\n        this.AC[i] = this.dataArrayAC;\r\n      }\r\n    }\r\n  }\r\n\r\n  addFormDG() {\r\n    if (this.dataArrayDG === undefined) {\r\n      this.dataArrayDG = [];\r\n    }\r\n    this.dataArrayDG.push([]);\r\n  }\r\n\r\n  removeFormDG(i) {\r\n    this.dataArrayDG.splice(i);\r\n  }\r\n\r\n  onSaveDG() {\r\n    let i;\r\n    if (this.DG === undefined) {\r\n      this.DG = [];\r\n    }\r\n    for (i = 0; i <= this.sheetNames.length; i++) {\r\n      if (this.indexSheet === i) {\r\n        this.DG[i] = this.dataArrayDG;\r\n      }\r\n    }\r\n  }\r\n\r\n  onNgModelChange(event) {}\r\n\r\n  saveStepTwo() {\r\n    console.log('update steep two');\r\n  }\r\n\r\n  goToMaterialStage() {\r\n    const dialogRef = this.dialog.open(PassStepComponent, {\r\n      width: '680px',\r\n      data: {},\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result.continue) {\r\n        this.materialsService.getMaterialSchemeProyects().subscribe((msp) => {\r\n          const schemaFilter = msp.filter(\r\n            (schema) =>\r\n              schema.project_id ==\r\n              localStorage.getItem('idProyectoConstrucción')\r\n          );\r\n          if (schemaFilter.length === 0) {\r\n            this.router.navigateByUrl('materials-stage');\r\n          } else {\r\n            this.router.navigateByUrl('material-stage-update');\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  goToConstructionStage() {\r\n    this.router.navigateByUrl('construction-stage');\r\n  }\r\n\r\n  goToUsageStage() {\r\n    const dialogRef = this.dialog.open(PassStepComponent, {\r\n      width: '680px',\r\n      data: {},\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result.continue) {\r\n        this.materialsService.getACR().subscribe((acr) => {\r\n          const schemaFilter = acr.filter(\r\n            (schema) =>\r\n              schema.project_id ==\r\n              localStorage.getItem('idProyectoConstrucción')\r\n          );\r\n\r\n          if (schemaFilter.length === 0) {\r\n            this.router.navigateByUrl('usage-stage');\r\n          } else {\r\n            this.router.navigateByUrl('usage-stage-update');\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  goToEndLife() {\r\n    const dialogRef = this.dialog.open(PassStepComponent, {\r\n      width: '680px',\r\n      data: {},\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result.continue) {\r\n        this.materialsService.getEDCP().subscribe((edcp) => {\r\n          const schemaFilter = edcp.filter(\r\n            (schema) =>\r\n              schema.project_id ==\r\n              localStorage.getItem('idProyectoConstrucción')\r\n          );\r\n\r\n          if (schemaFilter.length === 0) {\r\n            this.router.navigateByUrl('end-life-stage');\r\n          } else {\r\n            this.router.navigateByUrl('update-end-life');\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  continueStep(event: Event) {\r\n    event.preventDefault();\r\n    const dialogRef = this.dialog.open(IntermedialComponent, {\r\n      width: '680px',\r\n      data: {},\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      // this.ngOnInit();\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}