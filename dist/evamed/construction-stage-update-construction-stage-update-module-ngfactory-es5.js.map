{"version":3,"sources":["webpack:///src/app/construction-stage-update/components/intermedial/intermedial.component.ts","webpack:///src/app/construction-stage-update/construction-stage-update.module.ts","webpack:///src/app/construction-stage-update/components/pass-step/pass-step.component.html","webpack:///src/app/construction-stage-update/components/intermedial/intermedial.component.html","webpack:///src/app/construction-stage-update/construction-stage-update-routing.module.ts","webpack:///src/app/construction-stage-update/components/pass-step/pass-step.component.ts","webpack:///src/app/construction-stage-update/components/construction-stage-update/construction-stage-update.component.html","webpack:///src/app/core/services/projects/projects.service.ts","webpack:///src/app/construction-stage-update/components/construction-stage-update/construction-stage-update.component.ts"],"names":["IntermedialComponent","router","materialsService","dialogRef","data","close","event","preventDefault","getACR","subscribe","acr","schemaFilter","filter","schema","project_id","localStorage","getItem","length","navigateByUrl","onNoClick","ConstructionStageUpdateModule","routes","path","component","ConstructionStageUpdateRoutingModule","PassStepComponent","ProjectsService","http","projectData","post","api_projects","pipe","id","get","changes","put","schemeData","api_scheme_project","api_scheme_project_original","project","console","log","ConstructionStageUpdateComponent","catalogsService","projectsService","constructionStageService","dialog","dataArrayEC","dataArrayAC","dataArrayDG","IMGP","getSourceInformation","fuentes","map","fuente","name_source_information","push","catalogoFuentes","getEnergyUnits","energia","unidad","name_energy_unit","catalogoUnidadEnergia","getVolumeUnits","catalogoUnidadVolumen","getBulkUnits","catalogoUnidadMasa","getConstructiveSystemElement","CSE","item","parseInt","getProjectById","nameProject","name_project","images","preload","sheetNames","PDP","JSON","parse","sessionStorage","projectId","array","i","Image","src","x","posiciones","s","toString","l","decimalLength","indexOf","numStr","substr","Number","options","selectedSheet","option","value","indexSheet","getDataEC","prevData","section_id","constructive_process_id","trunc","quantity","source_information_id","energy_unit_id","EC","undefined","addFormEC","onSaveECNatural","deleteConstructiveSystemElement","splice","Object","entries","forEach","key","ec","ecAny","addConstructiveSistemElement","cantidad","volume_unit_id","bulk_unit_id","e","AC","DG","open","width","afterClosed","result","getMaterialSchemeProyects","msp","getEDCP","edcp"],"mappings":"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","file":"construction-stage-update-construction-stage-update-module-ngfactory-es5.js","sourcesContent":["import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport { MaterialsService } from './../../../core/services/materials/materials.service';\n\n@Component({\n  selector: 'app-intermedial',\n  templateUrl: './intermedial.component.html',\n  styleUrls: ['./intermedial.component.scss'],\n})\nexport class IntermedialComponent implements OnInit {\n  constructor(\n    private router: Router,\n    private materialsService: MaterialsService,\n    public dialogRef: MatDialogRef<IntermedialComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: {}\n  ) {}\n\n  ngOnInit(): void {}\n\n  onNoClick(): void {\n    this.dialogRef.close(this.data);\n  }\n\n  continueStep(event: Event) {\n    event.preventDefault();\n    this.materialsService.getACR().subscribe((acr) => {\n      const schemaFilter = acr.filter(\n        (schema) =>\n          schema.project_id == localStorage.getItem('idProyectoConstrucción')\n      );\n\n      if (schemaFilter.length === 0) {\n        this.router.navigateByUrl('usage-stage');\n      } else {\n        this.router.navigateByUrl('usage-stage-update');\n      }\n    });\n    this.onNoClick();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ConstructionStageUpdateRoutingModule } from './construction-stage-update-routing.module';\nimport { ConstructionStageUpdateComponent } from './components/construction-stage-update/construction-stage-update.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { FormsModule } from '@angular/forms';\nimport { MaterialModule } from './../material/material.module';\nimport { IntermedialComponent } from './components/intermedial/intermedial.component';\nimport { PassStepComponent } from './components/pass-step/pass-step.component';\n\n@NgModule({\n  declarations: [ConstructionStageUpdateComponent, IntermedialComponent, PassStepComponent],\n  imports: [\n    CommonModule,\n    ConstructionStageUpdateRoutingModule,\n    SharedModule,\n    FormsModule,\n    MaterialModule,\n  ],\n  exports: [ConstructionStageUpdateComponent, IntermedialComponent, PassStepComponent],\n  entryComponents: [IntermedialComponent, PassStepComponent],\n})\nexport class ConstructionStageUpdateModule {}\n","<div class=\"header-modal\">\n  <h1 mat-dialog-title class=\"title-standard-second-light\">\n    Asegurese de guardar los cambios antes de continuar\n  </h1>\n  <a (click)=\"onNoClick()\" class=\"close-modal\">\n    X\n  </a>\n</div>\n\n<div mat-dialog-actions class=\"center\">\n  <button mat-raised-button color=\"primary\" (click)=\"continueOnly($event)\">Continuar</button>\n  <button mat-raised-button color=\"primary\" (click)=\"onNoClick()\">Cancelar</button>\n</div>","<div class=\"header-modal\">\n  <h1 mat-dialog-title class=\"title-standard-second-light\">\n    Asegurese de guardar los cambios antes de continuar\n  </h1>\n  <a (click)=\"onNoClick()\" class=\"close-modal\">\n    X\n  </a>\n</div>\n\n<div mat-dialog-actions class=\"center\">\n  <button mat-raised-button color=\"primary\" (click)=\"continueStep($event)\">Etapa de uso</button>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ConstructionStageUpdateComponent } from './components/construction-stage-update/construction-stage-update.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConstructionStageUpdateComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ConstructionStageUpdateRoutingModule { }\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-pass-step',\n  templateUrl: './pass-step.component.html',\n  styleUrls: ['./pass-step.component.scss'],\n})\nexport class PassStepComponent implements OnInit {\n  constructor(\n    public dialogRef: MatDialogRef<PassStepComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: { continue: boolean  }\n  ) {}\n\n  ngOnInit(): void {}\n\n  onNoClick() {\n    this.data.continue = false;\n    this.dialogRef.close(this.data);\n  }\n\n  continueOnly(event: Event) {\n    event.preventDefault();\n    this.data.continue = true;\n    this.dialogRef.close(this.data);\n  }\n}\n","<nav class=\"nav-redirect\">\r\n  <h2 class=\"proyecto-title\">{{nameProject}}</h2>\r\n  <a href=\"/\" class=\"a-redirect\">\r\n    < Regresar a proyectos </a>\r\n</nav>\r\n<!--Principal container-->\r\n<div class=\"principal-container container-total\">\r\n  <!--Navigation steps-->\r\n  <nav class=\"nav-steps\">\r\n    <div class=\"mdl-stepper-horizontal-alternative\">\r\n      <div class=\"mdl-stepper-step step-one-selected\">\r\n        <div class=\"mdl-stepper-circle\" (click)=\"goToMaterialStage()\"></div>\r\n        <div class=\"mdl-stepper-tag\"> Producción </div>\r\n        <div class=\"mdl-stepper-bar-left\"></div>\r\n        <div class=\"mdl-stepper-bar-right\"></div>\r\n      </div>\r\n      <div class=\"mdl-stepper-step step-two\">\r\n        <div class=\"mdl-stepper-circle\"></div>\r\n        <div class=\"mdl-stepper-tag\" aux-yellow> Construcción </div>\r\n        <div class=\"mdl-stepper-bar-left\"></div>\r\n        <div class=\"mdl-stepper-bar-right\"></div>\r\n      </div>\r\n      <div class=\"mdl-stepper-step step-three\">\r\n        <div class=\"mdl-stepper-circle\" (click)=\"goToUsageStage()\"></div>\r\n        <div class=\"mdl-stepper-tag\"> Uso </div>\r\n        <div class=\"mdl-stepper-bar-left\"></div>\r\n        <div class=\"mdl-stepper-bar-right\"></div>\r\n      </div>\r\n      <div class=\"mdl-stepper-step step-four\">\r\n        <div class=\"mdl-stepper-circle\"  (click)=\"goToEndLife()\"></div>\r\n        <div class=\"mdl-stepper-tag \"> Fin de vida </div>\r\n        <div class=\"mdl-stepper-bar-left\"></div>\r\n        <div class=\"mdl-stepper-bar-right\"></div>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n  <!--Container actions of step 1-->\r\n  <section class=\"container-actions\">\r\n    <!--Section sheets-->\r\n    <section class=\"container-sheets\">\r\n      <div class=\"container-image\" [ngSwitch]=\"selectedSheet\">\r\n        <img *ngSwitchCase=\"'Cimentación'\" src=\"../../../../assets/map/2.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Muros interiores'\" src=\"../../../../assets/map/8.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Muros exteriores'\" src=\"../../../../assets/map/9.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Pisos'\" src=\"../../../../assets/map/7.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Techos'\" src=\"../../../../assets/map/5.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Entrepiso'\" src=\"../../../../assets/map/7.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Estructura'\" src=\"../../../../assets/map/11.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Puertas'\" src=\"../../../../assets/map/6.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Ventanas'\" src=\"../../../../assets/map/4.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Inst. especiales'\" src=\"../../../../assets/map/13.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchCase=\"'Otros'\" src=\"../../../../assets/map/14.jpg\" class=\"image-element\" alt=\"\" />\r\n        <img *ngSwitchDefault src=\"../../../../assets/map/12.jpg\" class=\"image-element\" alt=\"\" />\r\n      </div>\r\n      <div class=\"list-elements\">\r\n        <mat-selection-list #sheets [multiple]=\"false\"\r\n          (selectionChange)=\"onGroupsChange(sheets.selectedOptions.selected)\">\r\n          <mat-list-option *ngFor=\"let sheet of sheetNames\" [value]=\"sheet\" class=\"item-yellow-extend\">\r\n            {{sheet}}\r\n          </mat-list-option>\r\n        </mat-selection-list>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"container-systems\">\r\n      <!--Accorion multiple-->\r\n      <mat-accordion class=\"example-headers-align\" multi>\r\n        <!--Expansion panel 1. -->\r\n        <mat-expansion-panel *ngIf=\"indexSheet!==undefined\" [expanded]=\"true\">\r\n          <!--Expansion panel header-->\r\n          <mat-expansion-panel-header class=\"custom-expansion-panel-header\">\r\n            <mat-panel-title class=\"custom-mat-panel-title\">\r\n              1. Energía consumida durante el proceso constructivo\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <!--Expansion panel form-field-->\r\n          <div *ngFor=\"let data of dataArrayEC; let i=index;\">\r\n            <div class=\"Col col-xs-12\">\r\n                <label class=\"label-small-input\">\r\n                  Fuente\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select [(ngModel)]=\"data.fuente\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let fuente of catalogoFuentes\" [value]=\"fuente.id\">\r\n                      {{fuente.name_source_information}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n              </div>\r\n            <div class=\"Row top-0\">\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Cantidad\r\n                </label>\r\n                <mat-form-field>\r\n                  <input class=\"input-general\" [(ngModel)]=\"data.cantidad\" name=\"cantidad_{{i}}\" matInput type=\"number\">\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Unidad\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select  [(ngModel)]=\"data.unidad\" style=\"display:none\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let unidad of catalogoUnidadEnergia\" [value]=\"unidad.id\">\r\n                    </mat-option>\r\n                  </mat-select>\r\n                  <mat-option *ngFor=\"let unidad of catalogoUnidadEnergia\" [value]=\"unidad.id\">\r\n                    {{unidad.name_energy_unit}}\r\n                  </mat-option>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <div *ngIf=\"i!=0\">\r\n                  <button mat-button class=\"button-remove\" (click)=\"removeFormEC(i, data.id)\">\r\n                    <mat-icon>remove_circle</mat-icon>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--Actions-->\r\n          <button mat-button (click)=\"addFormEC()\">\r\n            <mat-icon>add_circle</mat-icon>\r\n          </button>\r\n\r\n          <button mat-button (click)=\"onSaveEC()\">\r\n            <mat-icon>save</mat-icon>\r\n          </button>\r\n        </mat-expansion-panel>\r\n\r\n        <!--Expansion panel 2. -->\r\n        <mat-expansion-panel *ngIf=\"indexSheet!==undefined\">\r\n          <!--Expansion panel header-->\r\n          <mat-expansion-panel-header class=\"custom-expansion-panel-header\">\r\n            <mat-panel-title class=\"custom-mat-panel-title\">\r\n              2. Agua consumida durante el proceso constructivo\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <!--Expansion panel form-field-->\r\n          <div *ngFor=\"let data of dataArrayAC; let i=index;\">\r\n            <div class=\"Row top-0\">\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Fuente\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select [(ngModel)]=\"data.fuente\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let fuente of catalogoFuentes\" [value]=\"fuente.id\">\r\n                      {{fuente.name_source_information}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Cantidad\r\n                </label>\r\n                <mat-form-field>\r\n                  <input class=\"input-general\" [(ngModel)]=\"data.cantidad\" name=\"cantidad{{i}}\" matInput type=\"number\">\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Unidad\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select [(ngModel)]=\"data.unidad\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let unidad of catalogoUnidadVolumen\" [value]=\"unidad.id\">\r\n                      {{unidad.name_volume_unit}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <div *ngIf=\"i!=0\">\r\n                  <button mat-button class=\"button-remove\" (click)=\"removeFormAC(i,data.id)\">\r\n                    <mat-icon>remove_circle</mat-icon>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--Actions-->\r\n          <button mat-button (click)=\"addFormAC()\">\r\n            <mat-icon>add_circle</mat-icon>\r\n          </button>\r\n\r\n          <button mat-button (click)=\"onSaveAC()\">\r\n            <mat-icon>save</mat-icon>\r\n          </button>\r\n        </mat-expansion-panel>\r\n\r\n        <!--Expansion panel 3. -->\r\n        <mat-expansion-panel *ngIf=\"indexSheet!==undefined\">\r\n          <!--Expansion panel header-->\r\n          <mat-expansion-panel-header class=\"custom-expansion-panel-header\">\r\n            <mat-panel-title class=\"custom-mat-panel-title\">\r\n              3. Desechos generados durante el proceso constructivo\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <!--Expansion panel form-field-->\r\n          <div *ngFor=\"let data of dataArrayDG; let i=index;\">\r\n            <div class=\"Row top-0\">\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Fuente\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select [(ngModel)]=\"data.fuente\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let fuente of catalogoFuentes\" [value]=\"fuente.id\">\r\n                      {{fuente.name_source_information}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Cantidad\r\n                </label>\r\n                <mat-form-field>\r\n                  <input class=\"input-general\" [(ngModel)]=\"data.cantidad\" name=\"cantidad{{i}}\" matInput type=\"number\">\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <label class=\"label-small-input\">\r\n                  Unidad\r\n                </label>\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Seleccione una opción</mat-label>\r\n                  <mat-select [(ngModel)]=\"data.unidad\" name=\"fuente{{i}}\">\r\n                    <mat-option *ngFor=\"let unidad of catalogoUnidadVolumen\" [value]=\"unidad.id\">\r\n                      {{unidad.name_volume_unit}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                </mat-form-field>\r\n              </div>\r\n              <div class=\"Col col-small-space\">\r\n                <div *ngIf=\"i!=0\">\r\n                  <button mat-button class=\"button-remove\" (click)=\"removeFormDG(i)\">\r\n                    <mat-icon>remove_circle</mat-icon>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--Actions-->\r\n          <button mat-button (click)=\"addFormDG()\">\r\n            <mat-icon>add_circle</mat-icon>\r\n          </button>\r\n\r\n          <button mat-button (click)=\"onSaveDG()\">\r\n            <mat-icon>save</mat-icon>\r\n          </button>\r\n        </mat-expansion-panel>\r\n\r\n      </mat-accordion>\r\n\r\n    </section>\r\n\r\n    <section class=\"container-details\">\r\n\r\n    </section>\r\n  </section>\r\n</div>\r\n\r\n<!--Section continue-->\r\n<div class=\"section-continue\">\r\n  <button\r\n    mat-button\r\n    class=\"yellow-button custom-continue\"\r\n    (click)=\"continueStep($event)\"\r\n  >\r\n    Continuar\r\n  </button>\r\n</div>","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { tap } from 'rxjs/operators';\nimport { environment } from './../../../../environments/environment';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProjectsService {\n  constructor(private http: HttpClient) {}\n\n  addProject(projectData: object) {\n    return this.http.post<any>(environment.api_projects, projectData).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  getProjectById(id: string) {\n    return this.http.get(`${environment.api_projects}${id}/`).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  updateProyect(id: string, changes) {\n    return this.http.put(`${environment.api_projects}${id}/`, changes).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  deleteProject(id: number) {\n    return this.http.delete(`${environment.api_projects}${id}/`).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  addSchemeProject(schemeData: object) {\n    return this.http.post<any>(environment.api_scheme_project, schemeData).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  addSchemeProjectOriginal(schemeData: object) {\n    return this.http\n      .post<any>(environment.api_scheme_project_original, schemeData)\n      .pipe(\n        tap((data) => {\n          return data;\n        })\n      );\n  }\n\n  getMaterialSchemeProyect() {\n    return this.http.get<any>(environment.api_scheme_project).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  updateMaterialSchemeProject(id: string, changes) {\n    return this.http\n      .put(`${environment.api_scheme_project}${id}/`, changes)\n      .pipe(\n        tap((data) => {\n          return data;\n        })\n      );\n  }\n\n  getMaterialSchemeProyectOrigin() {\n    return this.http.get<any>(environment.api_scheme_project_original).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  getProjects() {\n    return this.http.get<any>(environment.api_projects).pipe(\n      tap((data) => {\n        return data;\n      })\n    );\n  }\n\n  searchProject(project) {\n    console.log(environment.api_projects + '?search=' + project);\n    return this.http\n      .get<any>(environment.api_projects + '?search=' + project)\n      .pipe(\n        tap((data) => {\n          return data;\n        })\n      );\n  }\n}\n","import { Component, ViewChild, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { MatListOption } from '@angular/material/list';\r\nimport { MatAccordion } from '@angular/material/expansion';\r\nimport { CatalogsService } from './../../../core/services/catalogs/catalogs.service';\r\nimport { ConstructionStageService } from 'src/app/core/services/construction-stage/construction-stage.service';\r\nimport { ProjectsService } from 'src/app/core/services/projects/projects.service';\r\nimport { MaterialsService } from 'src/app/core/services/materials/materials.service';\r\nimport { IntermedialComponent } from '../intermedial/intermedial.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { PassStepComponent } from '../pass-step/pass-step.component';\r\n\r\n@Component({\r\n  selector: 'app-construction-stage-update',\r\n  templateUrl: './construction-stage-update.component.html',\r\n  styleUrls: ['./construction-stage-update.component.scss'],\r\n})\r\nexport class ConstructionStageUpdateComponent implements OnInit {\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n\r\n  sheetNames: any;\r\n  contentData: any;\r\n  listData: any;\r\n  indexSheet: number;\r\n  SistemasConstructivos: any;\r\n  catalogoFuentes: any;\r\n  catalogoUnidadEnergia: any;\r\n  catalogoUnidadVolumen: [];\r\n  catalogoUnidadMasa: [];\r\n  nameProject: string;\r\n  dataArrayEC = [];\r\n  dataArrayAC = [];\r\n  dataArrayDG = [];\r\n  EC: any;\r\n  AC: any;\r\n  DG: any;\r\n  selectedSheet: any;\r\n  CSE: any;\r\n  IMGP = [];\r\n  projectId: number;\r\n\r\n  constructor(\r\n    private materialsService: MaterialsService,\r\n    private catalogsService: CatalogsService,\r\n    private projectsService: ProjectsService,\r\n    private constructionStageService: ConstructionStageService,\r\n    private router: Router,\r\n    public dialog: MatDialog\r\n  ) {\r\n    this.catalogsService.getSourceInformation().subscribe((data) => {\r\n      const fuentes = [];\r\n      data.map((fuente) => {\r\n        if (fuente.name_source_information !== 'Mexicaniuh - CADIS') {\r\n          fuentes.push(fuente);\r\n        }\r\n      });\r\n      this.catalogoFuentes = fuentes;\r\n    });\r\n    this.catalogsService.getEnergyUnits().subscribe((data) => {\r\n      let energia = [];\r\n      data.map((unidad) => {\r\n        if (unidad.name_energy_unit === 'Hrs') {\r\n          energia.push(unidad);\r\n        }\r\n      });\r\n      this.catalogoUnidadEnergia = energia;\r\n    });\r\n    this.catalogsService.getVolumeUnits().subscribe((data) => {\r\n      this.catalogoUnidadVolumen = data;\r\n    });\r\n    this.catalogsService.getBulkUnits().subscribe((data) => {\r\n      this.catalogoUnidadMasa = data;\r\n    });\r\n    this.constructionStageService\r\n      .getConstructiveSystemElement()\r\n      .subscribe((data) => {\r\n        const CSE = [];\r\n        data.map((item) => {\r\n          if (\r\n            item.project_id ===\r\n            parseInt(localStorage.getItem('idProyectoConstrucción'), 10)\r\n          ) {\r\n            CSE.push(item);\r\n          }\r\n        });\r\n        this.CSE = CSE;\r\n      });\r\n    this.projectsService\r\n      .getProjectById(localStorage.getItem('idProyectoConstrucción'))\r\n      .subscribe((data: any) => {\r\n        this.nameProject = data.name_project;\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n    //carga de imagenes\r\n    let images = [\r\n      '../../../../assets/map/2.jpg',\r\n      '../../../../assets/map/4.jpg',\r\n      '../../../../assets/map/5.jpg',\r\n      '../../../../assets/map/6.jpg',\r\n      '../../../../assets/map/7.jpg',\r\n      '../../../../assets/map/8.jpg',\r\n      '../../../../assets/map/9.jpg',\r\n      '../../../../assets/map/10.jpg',\r\n      '../../../../assets/map/11.jpg',\r\n      '../../../../assets/map/12.jpg',\r\n      '../../../../assets/map/13.jpg',\r\n      '../../../../assets/map/14.jpg',\r\n    ];\r\n    this.preload(images);\r\n\r\n    this.sheetNames = [\r\n      'Cimentación',\r\n      'Muros interiores',\r\n      'Muros exteriores',\r\n      'Pisos',\r\n      'Techos',\r\n      'Entrepiso',\r\n      'Estructura',\r\n      'Puertas',\r\n      'Ventanas',\r\n      'Inst. especiales',\r\n      'Otros',\r\n    ];\r\n\r\n    const PDP = JSON.parse(sessionStorage.getItem('primaryDataProject'));\r\n    this.projectId = PDP.id;\r\n  }\r\n\r\n  preload(array) {\r\n    for (var i = 0; i < array.length; i++) {\r\n      this.IMGP[i] = new Image();\r\n      this.IMGP[i].src = array[i];\r\n    }\r\n  }\r\n\r\n  trunc(x, posiciones = 0) {\r\n    var s = x.toString();\r\n    var l = s.length;\r\n    var decimalLength = s.indexOf('.') + 1;\r\n    var numStr = s.substr(0, decimalLength + posiciones);\r\n    return Number(numStr);\r\n  }\r\n\r\n  onGroupsChange(options: MatListOption[]) {\r\n    let selectedSheet;\r\n    // map these MatListOptions to their values\r\n    options.map((option) => {\r\n      selectedSheet = option.value;\r\n    });\r\n    // take index of selection\r\n    this.indexSheet = this.sheetNames.indexOf(selectedSheet);\r\n\r\n    // map data exist to edit\r\n    let getDataEC = [];\r\n\r\n    this.CSE.map((item) => {\r\n      const prevData = [];\r\n      if (item.section_id === this.indexSheet + 1) {\r\n        switch (item.constructive_process_id) {\r\n          case 1:\r\n            prevData['id'] = item.id;\r\n            prevData['cantidad'] = this.trunc(item.quantity);\r\n            prevData['fuente'] = item.source_information_id;\r\n            prevData['energy_unit_id'] = item.energy_unit_id;\r\n            getDataEC.push(prevData);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n    });\r\n\r\n    let i;\r\n    for (i = 0; i <= this.sheetNames.length; i++) {\r\n      if (this.indexSheet === i) {\r\n        this.dataArrayEC = getDataEC;\r\n\r\n        if (this.EC !== undefined) {\r\n          this.dataArrayEC = this.EC[i];\r\n        }\r\n\r\n        if (this.dataArrayEC === undefined) {\r\n          this.dataArrayEC = getDataEC;\r\n        }\r\n      }\r\n    }\r\n\r\n    //Excepciones de insert\r\n    this.selectedSheet = selectedSheet;\r\n    if (this.dataArrayEC !== undefined) {\r\n      if (this.dataArrayEC.length === 0) {\r\n        this.addFormEC();\r\n      }\r\n    } else {\r\n      this.addFormEC();\r\n    }\r\n\r\n    //Load Save\r\n    this.onSaveECNatural();\r\n  }\r\n\r\n  addFormEC() {\r\n    if (this.dataArrayEC === undefined) {\r\n      this.dataArrayEC = [];\r\n    }\r\n    this.dataArrayEC.push([]);\r\n  }\r\n\r\n  removeFormEC(i, id) {\r\n    this.constructionStageService\r\n      .deleteConstructiveSystemElement(id)\r\n      .subscribe(() => {\r\n        console.log(`Se eliminó ${id}`);\r\n      });\r\n\r\n    this.dataArrayEC.splice(i, i);\r\n  }\r\n\r\n  onSaveECNatural() {\r\n    let i;\r\n    if (this.EC === undefined) {\r\n      this.EC = [];\r\n    }\r\n    for (i = 0; i <= this.sheetNames.length; i++) {\r\n      if (this.indexSheet === i) {\r\n        this.EC[i] = this.dataArrayEC;\r\n      }\r\n    }\r\n  }\r\n\r\n  onSaveEC() {\r\n    let i;\r\n    if (this.EC === undefined) {\r\n      this.EC = [];\r\n    }\r\n    for (i = 0; i <= this.sheetNames.length; i++) {\r\n      if (this.indexSheet === i) {\r\n        this.EC[i] = this.dataArrayEC;\r\n      }\r\n    }\r\n\r\n    console.log('entra al proceso de OnSaveEC!!!!!!!!!!!!!!!!!!!!!!');\r\n\r\n    Object.entries(this.EC).forEach(([key, ec]) => {\r\n      let ecAny: any;\r\n      ecAny = ec;\r\n      if (this.indexSheet === parseInt(key)) {\r\n        ecAny.map((data) => {\r\n          console.log(data);\r\n          if (data.id !== undefined) {\r\n            this.constructionStageService\r\n              .deleteConstructiveSystemElement(data.id)\r\n              .subscribe(() => {\r\n                console.log(`Se eliminó ${data.id}`);\r\n              });\r\n          }\r\n          try {\r\n            this.constructionStageService\r\n              .addConstructiveSistemElement({\r\n                quantity: data.cantidad,\r\n                project_id: parseInt(\r\n                  localStorage.getItem('idProyectoConstrucción'),\r\n                  10\r\n                ),\r\n                section_id: parseInt(key, 10) + 1,\r\n                constructive_process_id: 1,\r\n                volume_unit_id: null,\r\n                energy_unit_id: 2, // value hours\r\n                bulk_unit_id: null,\r\n                source_information_id: data.fuente,\r\n              })\r\n              .subscribe((data) => {\r\n                console.log(`Se agregó ${data.id}`);\r\n              });\r\n          } catch (e) {\r\n            console.log('No hay que eliminar');\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  addFormAC() {\r\n    if (this.dataArrayAC === undefined) {\r\n      this.dataArrayAC = [];\r\n    }\r\n    this.dataArrayAC.push([]);\r\n  }\r\n\r\n  removeFormAC(i, id) {\r\n    this.constructionStageService\r\n      .deleteConstructiveSystemElement(id)\r\n      .subscribe(() => {\r\n        console.log(`Se eliminó ${id}`);\r\n      });\r\n    this.dataArrayAC.splice(i);\r\n  }\r\n\r\n  onSaveAC() {\r\n    let i;\r\n    if (this.AC === undefined) {\r\n      this.AC = [];\r\n    }\r\n    for (i = 0; i <= this.sheetNames.length; i++) {\r\n      if (this.indexSheet === i) {\r\n        this.AC[i] = this.dataArrayAC;\r\n      }\r\n    }\r\n  }\r\n\r\n  addFormDG() {\r\n    if (this.dataArrayDG === undefined) {\r\n      this.dataArrayDG = [];\r\n    }\r\n    this.dataArrayDG.push([]);\r\n  }\r\n\r\n  removeFormDG(i) {\r\n    this.dataArrayDG.splice(i);\r\n  }\r\n\r\n  onSaveDG() {\r\n    let i;\r\n    if (this.DG === undefined) {\r\n      this.DG = [];\r\n    }\r\n    for (i = 0; i <= this.sheetNames.length; i++) {\r\n      if (this.indexSheet === i) {\r\n        this.DG[i] = this.dataArrayDG;\r\n      }\r\n    }\r\n  }\r\n\r\n  onNgModelChange(event) {}\r\n\r\n  saveStepTwo() {\r\n    console.log('update steep two');\r\n  }\r\n\r\n  goToMaterialStage() {\r\n    const dialogRef = this.dialog.open(PassStepComponent, {\r\n      width: '680px',\r\n      data: {},\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result.continue) {\r\n        this.materialsService.getMaterialSchemeProyects().subscribe((msp) => {\r\n          const schemaFilter = msp.filter(\r\n            (schema) =>\r\n              schema.project_id ==\r\n              localStorage.getItem('idProyectoConstrucción')\r\n          );\r\n          if (schemaFilter.length === 0) {\r\n            this.router.navigateByUrl('materials-stage');\r\n          } else {\r\n            this.router.navigateByUrl('material-stage-update');\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  goToConstructionStage() {\r\n    this.router.navigateByUrl('construction-stage');\r\n  }\r\n\r\n  goToUsageStage() {\r\n    const dialogRef = this.dialog.open(PassStepComponent, {\r\n      width: '680px',\r\n      data: {},\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result.continue) {\r\n        this.materialsService.getACR().subscribe((acr) => {\r\n          const schemaFilter = acr.filter(\r\n            (schema) =>\r\n              schema.project_id ==\r\n              localStorage.getItem('idProyectoConstrucción')\r\n          );\r\n\r\n          if (schemaFilter.length === 0) {\r\n            this.router.navigateByUrl('usage-stage');\r\n          } else {\r\n            this.router.navigateByUrl('usage-stage-update');\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  goToEndLife() {\r\n    const dialogRef = this.dialog.open(PassStepComponent, {\r\n      width: '680px',\r\n      data: {},\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result.continue) {\r\n        this.materialsService.getEDCP().subscribe((edcp) => {\r\n          const schemaFilter = edcp.filter(\r\n            (schema) =>\r\n              schema.project_id ==\r\n              localStorage.getItem('idProyectoConstrucción')\r\n          );\r\n\r\n          if (schemaFilter.length === 0) {\r\n            this.router.navigateByUrl('end-life-stage');\r\n          } else {\r\n            this.router.navigateByUrl('update-end-life');\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  continueStep(event: Event) {\r\n    event.preventDefault();\r\n    const dialogRef = this.dialog.open(IntermedialComponent, {\r\n      width: '680px',\r\n      data: {},\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      // this.ngOnInit();\r\n    });\r\n  }\r\n}\r\n"]}